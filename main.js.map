{"version":3,"file":"main.js","mappings":"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AsB,EAAE;SACrB,eAAe,CAAC,+DAAa,CAAC;SAC9B,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;CACvC;KAAM;IACL,yFAAsB,EAAE;SACrB,eAAe,CAAC,6DAAY,CAAC;SAC7B,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;CACvC;;;;;;;;;;;AC7BD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["./src/app/app.component.dev.ts","./src/app/app.component.prod.ts","./src/app/app.module.dev.ts","./src/app/app.module.prod.ts","./src/app/modules/input-types/components/cedar-foo-bar/cedar-foo-bar.component.ts","./src/app/modules/input-types/components/cedar-input-attribute-value/cedar-input-attribute-value.component.ts","./src/app/modules/input-types/components/cedar-input-checkbox/cedar-input-checkbox.component.ts","./src/app/modules/input-types/components/cedar-input-controlled/cedar-input-controlled.component.ts","./src/app/modules/input-types/components/cedar-input-datetime/cedar-input-datetime.component.ts","./src/app/modules/input-types/components/cedar-input-email/cedar-input-email.component.ts","./src/app/modules/input-types/components/cedar-input-link/cedar-input-link.component.ts","./src/app/modules/input-types/components/cedar-input-multiple-choice/cedar-input-multiple-choice.component.ts","./src/app/modules/input-types/components/cedar-input-numeric/cedar-input-numeric.component.ts","./src/app/modules/input-types/components/cedar-input-phone/cedar-input-phone.component.ts","./src/app/modules/input-types/components/cedar-input-select/cedar-input-select.component.ts","./src/app/modules/input-types/components/cedar-input-text/cedar-input-text.component.ts","./src/app/modules/input-types/components/cedar-static-image/cedar-static-image.component.ts","./src/app/modules/input-types/components/cedar-static-page-break/cedar-static-page-break.component.ts","./src/app/modules/input-types/components/cedar-static-rich-text/cedar-static-rich-text.component.ts","./src/app/modules/input-types/components/cedar-static-section-break/cedar-static-section-break.component.ts","./src/app/modules/input-types/components/cedar-static-youtube/cedar-static-youtube.component.ts","./src/app/modules/input-types/input-types.module.ts","./src/app/modules/shared/components/cedar-component-header/cedar-component-header.component.ts","./src/app/modules/shared/components/cedar-component-linked-static-field-header/cedar-component-linked-static-field-header.component.ts","./src/app/modules/shared/components/cedar-component-renderer/cedar-component-renderer.component.ts","./src/app/modules/shared/components/cedar-embeddable-metadata-editor-wrapper/cedar-embeddable-metadata-editor-wrapper.component.ts","./src/app/modules/shared/components/cedar-embeddable-metadata-editor/cedar-embeddable-metadata-editor.component.ts","./src/app/modules/shared/components/cedar-multi-pager/cedar-multi-pager.component.ts","./src/app/modules/shared/components/date-picker/date-picker.component.ts","./src/app/modules/shared/components/preferences-menu/preferences-menu.component.ts","./src/app/modules/shared/components/sample-template-select/sample-template-select.component.ts","./src/app/modules/shared/components/sample-templates/sample-templates.component.ts","./src/app/modules/shared/components/sample-templates/sample-templates.service.ts","./src/app/modules/shared/components/source-panels/source-panels.component.ts","./src/app/modules/shared/components/static-footer/static-footer.component.ts","./src/app/modules/shared/components/static-header/static-header.component.ts","./src/app/modules/shared/components/timezone-picker/timezone-picker.component.ts","./src/app/modules/shared/factory/template-representation.factory.ts","./src/app/modules/shared/handler/component-type.handler.ts","./src/app/modules/shared/handler/data-object-builder.handler.ts","./src/app/modules/shared/handler/data-object-data-value.handler.ts","./src/app/modules/shared/handler/data-object-structure.handler.ts","./src/app/modules/shared/handler/data-quality-report-builder.handler.ts","./src/app/modules/shared/handler/multi-instance-object.handler.ts","./src/app/modules/shared/models/cedar-model.model.ts","./src/app/modules/shared/models/data-quality-report.model.ts","./src/app/modules/shared/models/element/abstract-element-component.model.ts","./src/app/modules/shared/models/element/multi-element-component.model.ts","./src/app/modules/shared/models/element/single-element-component.model.ts","./src/app/modules/shared/models/enum/data-object-building-mode.model.ts","./src/app/modules/shared/models/field/abstract-field-component.model.ts","./src/app/modules/shared/models/field/multi-field-component.model.ts","./src/app/modules/shared/models/field/single-field-component.model.ts","./src/app/modules/shared/models/info/basic-info.model.ts","./src/app/modules/shared/models/info/choice-info.model.ts","./src/app/modules/shared/models/info/choice-option.model.ts","./src/app/modules/shared/models/info/content-info.model.ts","./src/app/modules/shared/models/info/controlled-info.model.ts","./src/app/modules/shared/models/info/label-info.model.ts","./src/app/modules/shared/models/info/multi-info.model.ts","./src/app/modules/shared/models/info/multi-instance-info.model.ts","./src/app/modules/shared/models/info/multi-instance-object-info.model.ts","./src/app/modules/shared/models/info/number-info.model.ts","./src/app/modules/shared/models/info/value-info.model.ts","./src/app/modules/shared/models/input-type.model.ts","./src/app/modules/shared/models/instance-extract-data.model.ts","./src/app/modules/shared/models/instance-full-data.model.ts","./src/app/modules/shared/models/javascript-types.model.ts","./src/app/modules/shared/models/json-schema.model.ts","./src/app/modules/shared/models/numbers.model.ts","./src/app/modules/shared/models/rest/integrated-search/integrated-search-request-parameter-object.ts","./src/app/modules/shared/models/rest/integrated-search/integrated-search-request-value-constraints.ts","./src/app/modules/shared/models/rest/integrated-search/integrated-search-request.ts","./src/app/modules/shared/models/static/static-field-component.model.ts","./src/app/modules/shared/models/template/cedar-template.model.ts","./src/app/modules/shared/models/template/empty-template.model.ts","./src/app/modules/shared/models/template/null-template.model.ts","./src/app/modules/shared/models/temporal.model.ts","./src/app/modules/shared/models/ui/cedar-ui-component.model.ts","./src/app/modules/shared/models/xsd.model.ts","./src/app/modules/shared/pipe/keep-html.pipe.ts","./src/app/modules/shared/pipe/rdf.pipe.ts","./src/app/modules/shared/service/active-component-registry.service.ts","./src/app/modules/shared/service/component-data.service.ts","./src/app/modules/shared/service/controlled-field-data.service.ts","./src/app/modules/shared/service/date-time/custom-date-adapter.ts","./src/app/modules/shared/service/date-time/date-time.service.ts","./src/app/modules/shared/service/global-settings-context.service.ts","./src/app/modules/shared/service/message-handler.service.ts","./src/app/modules/shared/service/page-break-paginator.service.ts","./src/app/modules/shared/shared.module.ts","./src/app/modules/shared/util/data-context.ts","./src/app/modules/shared/util/data-object-util.ts","./src/app/modules/shared/util/fallback-translate-loader-factory.ts","./src/app/modules/shared/util/fallback-translate-loader.ts","./src/app/modules/shared/util/handler-context.ts","./src/app/modules/shared/util/template-object-util.ts","./src/environments/environment.ts","./src/main.ts","./node_modules/moment/locale/ sync ^\\.\\/.*$"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-component-dev',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n})\nexport class AppComponentDev implements OnInit {\n  ceeConfig = {\n    sampleTemplateLocationPrefix: 'https://psych-ds.github.io/cedar-distributor/cedar-embeddable-editor-sample-templates/',\n    loadSampleTemplateName: 'psych-DS',\n    showSampleTemplateLinks: true,\n    expandedSampleTemplateLinks: false,\n    showTemplateRenderingRepresentation: true,\n    showAllMultiInstanceValues: false,\n    showDataQualityReport: true,\n    showHeader: true,\n    showFooter: true,\n    showTemplateDescription: false,\n\n    terminologyIntegratedSearchUrl: 'https://terminology.metadatacenter.orgx/bioportal/integrated-search',\n    expandedInstanceDataFull: false,\n    showInstanceDataCore: true,\n    expandedInstanceDataCore: false,\n    showMultiInstanceInfo: true,\n    expandedMultiInstanceInfo: false,\n    expandedDataQualityReport: false,\n    languageMapPathPrefix: '/assets/i18n-cee/',\n    defaultLanguage: 'en',\n    fallbackLanguage: 'en',\n\n    iriPrefix: 'https://repo.metadatacenter.orgx/',\n    bioPortalPrefix: 'https://bioportal.bioontology.org/ontologies/',\n    orcidPrefix: 'https://orcid.org/',\n    rorPrefix: 'https://ror.org/',\n\n    collapseStaticComponents: true,\n    // showStaticText: true,\n    readOnlyMode: false,\n    hideEmptyFields: false,\n  };\n\n  languages = {\n    selected: 'en',\n    options: [\n      { value: 'en', viewValue: 'en' },\n      { value: 'hu', viewValue: 'hu' },\n    ],\n  };\n\n  constructor() {}\n\n  ngOnInit(): void {}\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-component-prod',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n})\nexport class AppComponentProd implements OnInit {\n  ceeConfig = {\n    // Do not remove this even if unused\n    // The prod build needs it\n  };\n\n  constructor() {}\n\n  ngOnInit(): void {}\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { Injector, NgModule } from '@angular/core';\nimport { createCustomElement } from '@angular/elements';\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\nimport { AppComponentDev } from './app.component.dev';\nimport { SharedModule } from './modules/shared/shared.module';\nimport { JsonPipe } from '@angular/common';\nimport { InputTypesModule } from './modules/input-types/input-types.module';\nimport { CedarEmbeddableMetadataEditorWrapperComponent } from './modules/shared/components/cedar-embeddable-metadata-editor-wrapper/cedar-embeddable-metadata-editor-wrapper.component';\nimport { TranslateLoader, TranslateModule } from '@ngx-translate/core';\nimport * as fallbackMapEN from '../assets/i18n-cee/en.json';\nimport * as fallbackMapHU from '../assets/i18n-cee/hu.json';\nimport { MessageHandlerService } from './modules/shared/service/message-handler.service';\nimport { FallbackTranslateLoaderFactory } from './modules/shared/util/fallback-translate-loader-factory';\nimport { GlobalSettingsContextService } from './modules/shared/service/global-settings-context.service';\n\n@NgModule({\n  declarations: [AppComponentDev],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    SharedModule,\n    InputTypesModule,\n    TranslateModule.forRoot({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: (\n          http: HttpClient,\n          messageHandlerService: MessageHandlerService,\n          globalSettingsContextService: GlobalSettingsContextService,\n        ) =>\n          FallbackTranslateLoaderFactory(http, messageHandlerService, globalSettingsContextService, {\n            en: fallbackMapEN,\n            hu: fallbackMapHU,\n          }),\n        deps: [HttpClient, MessageHandlerService, GlobalSettingsContextService],\n      },\n    }),\n  ],\n  providers: [JsonPipe],\n  bootstrap: [AppComponentDev],\n  exports: [],\n  entryComponents: [CedarEmbeddableMetadataEditorWrapperComponent],\n})\nexport class AppModuleDev {\n  constructor(private injector: Injector) {}\n\n  ngDoBootstrap(): void {\n    const cedarCustomElement = createCustomElement(CedarEmbeddableMetadataEditorWrapperComponent, {\n      injector: this.injector,\n    });\n    customElements.define('cedar-embeddable-editor', cedarCustomElement);\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { Injector, NgModule } from '@angular/core';\nimport { createCustomElement } from '@angular/elements';\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\nimport { AppComponentProd } from './app.component.prod';\nimport { SharedModule } from './modules/shared/shared.module';\nimport { JsonPipe } from '@angular/common';\nimport { InputTypesModule } from './modules/input-types/input-types.module';\nimport { CedarEmbeddableMetadataEditorWrapperComponent } from './modules/shared/components/cedar-embeddable-metadata-editor-wrapper/cedar-embeddable-metadata-editor-wrapper.component';\nimport { TranslateLoader, TranslateModule } from '@ngx-translate/core';\nimport * as fallbackMapEN from '../assets/i18n-cee/en.json';\nimport * as fallbackMapHU from '../assets/i18n-cee/hu.json';\nimport { MessageHandlerService } from './modules/shared/service/message-handler.service';\nimport { FallbackTranslateLoaderFactory } from './modules/shared/util/fallback-translate-loader-factory';\nimport { GlobalSettingsContextService } from './modules/shared/service/global-settings-context.service';\n\n@NgModule({\n  declarations: [AppComponentProd],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    SharedModule,\n    InputTypesModule,\n    TranslateModule.forRoot({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: (\n          http: HttpClient,\n          messageHandlerService: MessageHandlerService,\n          globalSettingsContextService: GlobalSettingsContextService,\n        ) =>\n          FallbackTranslateLoaderFactory(http, messageHandlerService, globalSettingsContextService, {\n            en: fallbackMapEN,\n            hu: fallbackMapHU,\n          }),\n        deps: [HttpClient, MessageHandlerService, GlobalSettingsContextService],\n      },\n    }),\n  ],\n  providers: [JsonPipe],\n  bootstrap: [],\n  exports: [],\n  entryComponents: [CedarEmbeddableMetadataEditorWrapperComponent],\n})\nexport class AppModuleProd {\n  constructor(private injector: Injector) {}\n\n  ngDoBootstrap(): void {\n    const cedarCustomElement = createCustomElement(CedarEmbeddableMetadataEditorWrapperComponent, {\n      injector: this.injector,\n    });\n    customElements.define('cedar-embeddable-editor', cedarCustomElement);\n  }\n}\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { CedarUIComponent } from '../../../shared/models/ui/cedar-ui-component.model';\nimport { ActiveComponentRegistryService } from '../../../shared/service/active-component-registry.service';\nimport { HandlerContext } from '../../../shared/util/handler-context';\nimport { StaticFieldComponent } from '../../../shared/models/static/static-field-component.model';\n\n@Component({\n  selector: 'app-cedar-foo-bar',\n  templateUrl: './cedar-foo-bar.component.html',\n  styleUrls: ['./cedar-foo-bar.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class CedarFooBarComponent extends CedarUIComponent implements OnInit {\n  component: StaticFieldComponent;\n  @Input() handlerContext: HandlerContext;\n\n  constructor(\n    fb: FormBuilder,\n    private activeComponentRegistry: ActiveComponentRegistryService,\n  ) {\n    super();\n    this.activeComponentRegistry = activeComponentRegistry;\n  }\n\n  ngOnInit(): void {}\n\n  @Input() set componentToRender(componentToRender: StaticFieldComponent) {\n    this.component = componentToRender;\n    this.activeComponentRegistry.registerComponent(this.component, this);\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  setCurrentValue(currentValue: any): void {\n    // DO NOTHING\n  }\n}\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FieldComponent } from '../../../shared/models/component/field-component.model';\nimport { FormBuilder, FormControl, FormGroup } from '@angular/forms';\nimport { CedarUIComponent } from '../../../shared/models/ui/cedar-ui-component.model';\nimport { ActiveComponentRegistryService } from '../../../shared/service/active-component-registry.service';\nimport { HandlerContext } from '../../../shared/util/handler-context';\n\n@Component({\n  selector: 'app-cedar-input-attribute-value',\n  templateUrl: './cedar-input-attribute-value.component.html',\n  styleUrls: ['./cedar-input-attribute-value.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class CedarInputAttributeValueComponent extends CedarUIComponent implements OnInit {\n  component: FieldComponent;\n  options: FormGroup;\n  nameInputControl = new FormControl(null, null);\n  valueInputControl = new FormControl(null, null);\n  @Input() handlerContext: HandlerContext;\n  readOnlyMode;\n\n  constructor(\n    fb: FormBuilder,\n    private activeComponentRegistry: ActiveComponentRegistryService,\n  ) {\n    super();\n    this.options = fb.group({\n      nameInputValue: this.nameInputControl,\n      valueInputValue: this.valueInputControl,\n    });\n  }\n\n  ngOnInit(): void {\n    if (this.handlerContext && this.handlerContext.readOnlyMode) {\n      this.readOnlyMode = this.handlerContext.readOnlyMode;\n    }\n  }\n\n  @Input() set componentToRender(componentToRender: FieldComponent) {\n    this.component = componentToRender;\n    this.activeComponentRegistry.registerComponent(this.component, this);\n  }\n\n  nameChanged($event: Event): void {\n    let name: string = null;\n\n    if ($event) {\n      name = ($event.target as HTMLTextAreaElement).value;\n    } else {\n      name = this.nameInputControl.value;\n    }\n    const value = this.valueInputControl.value;\n    this.handlerContext.changeAttributeValue(this.component, name, value);\n    this.activeComponentRegistry.updateViewToModel(this.component, this.handlerContext);\n  }\n\n  valueChanged($event: Event): void {\n    let value: string = null;\n\n    if ($event) {\n      value = ($event.target as HTMLTextAreaElement).value;\n    } else {\n      value = this.valueInputControl.value;\n    }\n\n    if (value && value.length === 0) {\n      value = null;\n    }\n    const name = this.nameInputControl.value;\n    this.handlerContext.changeAttributeValue(this.component, name, value);\n  }\n\n  setCurrentValue(currentValue: any): void {\n    this.nameInputControl.setValue(Object.keys(currentValue)[0]);\n    this.valueInputControl.setValue(Object.values(currentValue)[0]);\n  }\n\n  deleteCurrentValue(): void {\n    const name = this.nameInputControl.value;\n    this.handlerContext.deleteAttributeValue(this.component, name);\n  }\n\n  clearName(): void {\n    this.nameInputControl.setValue(null);\n    this.handlerContext.changeAttributeValue(this.component, null, this.valueInputControl.value);\n  }\n\n  clearValue(): void {\n    this.valueInputControl.setValue(null);\n    this.handlerContext.changeAttributeValue(this.component, this.nameInputControl.value, null);\n  }\n}\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FieldComponent } from '../../../shared/models/component/field-component.model';\nimport { FormArray, FormBuilder, FormControl, FormGroup } from '@angular/forms';\nimport { CedarUIComponent } from '../../../shared/models/ui/cedar-ui-component.model';\nimport { ActiveComponentRegistryService } from '../../../shared/service/active-component-registry.service';\nimport { HandlerContext } from '../../../shared/util/handler-context';\n\n@Component({\n  selector: 'app-cedar-input-checkbox',\n  templateUrl: './cedar-input-checkbox.component.html',\n  styleUrls: ['./cedar-input-checkbox.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class CedarInputCheckboxComponent extends CedarUIComponent implements OnInit {\n  component: FieldComponent;\n  options: FormGroup;\n  @Input() handlerContext: HandlerContext;\n  readOnlyMode;\n\n  constructor(\n    fb: FormBuilder,\n    private activeComponentRegistry: ActiveComponentRegistryService,\n  ) {\n    super();\n    this.options = fb.group({\n      // initialize checked box value holder\n      checkedChoices: new FormArray([]),\n    });\n  }\n\n  ngOnInit(): void {\n    for (const choice of this.component.choiceInfo.choices) {\n      const fc = new FormControl();\n      this.options.addControl(this.getFormControlName(choice.label), fc);\n    }\n\n    if (this.handlerContext && this.handlerContext.readOnlyMode) {\n      this.readOnlyMode = this.handlerContext.readOnlyMode;\n    }\n    this.populateValuesOnLoad();\n  }\n\n  @Input() set componentToRender(componentToRender: FieldComponent) {\n    this.component = componentToRender;\n    this.activeComponentRegistry.registerComponent(this.component, this);\n  }\n\n  inputChanged(event): void {\n    // If readOnly -> revert the change\n    if (this.readOnlyMode) {\n      const name = event.target.value;\n      const val = this.options.get(this.getFormControlName(name)).value;\n      this.options.get(this.getFormControlName(name)).setValue(!val);\n      event.preventDefault();\n      event.stopPropagation();\n      return;\n    }\n    this.setInput(event.target.checked, event.target.value);\n  }\n\n  setCurrentValue(currentValue: any): void {\n    const arrVal = currentValue as Array<string>;\n\n    for (const choice of this.component.choiceInfo.choices) {\n      if (arrVal.indexOf(choice.label) >= 0) {\n        this.setInput(true, choice.label);\n      } else {\n        this.setInput(false, choice.label);\n      }\n    }\n  }\n\n  getFormControlName(val): string {\n    return val.replace(/\\s+/g, '');\n  }\n\n  private populateValuesOnLoad(): void {\n    for (const choice of this.component.choiceInfo.choices) {\n      this.setInput(choice.selectedByDefault, choice.label);\n    }\n  }\n\n  private setInput(isChecked, val): void {\n    const formArray: FormArray = this.options.get('checkedChoices') as FormArray;\n\n    /* Selected */\n    if (isChecked) {\n      // Add a new control in the arrayForm\n      if (formArray.value.indexOf(val) < 0) {\n        formArray.push(new FormControl(val));\n      }\n      this.options.get(this.getFormControlName(val)).setValue('checked');\n    } else {\n      /* unselected */\n      // find the unselected element\n      let i = 0;\n\n      formArray.controls.forEach((ctrl: FormControl) => {\n        if (ctrl.value === val) {\n          // Remove the unselected element from the arrayForm\n          formArray.removeAt(i);\n          this.options.get(this.getFormControlName(val)).setValue(null);\n          return;\n        }\n        i++;\n      });\n    }\n\n    // Keep the values in the original sort order\n    const sortingArr = this.component.choiceInfo.choices.map((a) => a.label);\n    formArray.value.sort((a, b) => sortingArr.indexOf(a) - sortingArr.indexOf(b));\n    this.handlerContext.changeListValue(this.component, formArray.value);\n  }\n}\n","import { AfterViewInit, Component, Input, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { FieldComponent } from '../../../shared/models/component/field-component.model';\nimport { FormBuilder, FormControl, FormGroup, FormGroupDirective, NgForm, Validators } from '@angular/forms';\nimport { ComponentDataService } from '../../../shared/service/component-data.service';\nimport { CedarUIComponent } from '../../../shared/models/ui/cedar-ui-component.model';\nimport { ActiveComponentRegistryService } from '../../../shared/service/active-component-registry.service';\nimport { HandlerContext } from '../../../shared/util/handler-context';\nimport { ErrorStateMatcher } from '@angular/material/core';\nimport { Observable } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, map, startWith, switchMap } from 'rxjs/operators';\nimport { IntegratedSearchResponseItem } from '../../../shared/models/rest/integrated-search/integrated-search-response-item';\nimport { JsonSchema } from '../../../shared/models/json-schema.model';\nimport { ControlledFieldDataService } from '../../../shared/service/controlled-field-data.service';\nimport { MessageHandlerService } from '../../../shared/service/message-handler.service';\nimport { MatAutocompleteTrigger } from '@angular/material/autocomplete';\nimport { CedarEmbeddableMetadataEditorComponent } from '../../../shared/components/cedar-embeddable-metadata-editor/cedar-embeddable-metadata-editor.component';\nexport class TextFieldErrorStateMatcher implements ErrorStateMatcher {\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n    return !!(control && control.invalid && (control.dirty || control.touched));\n  }\n}\n\n@Component({\n  selector: 'app-cedar-input-controlled',\n  templateUrl: './cedar-input-controlled.component.html',\n  styleUrls: ['./cedar-input-controlled.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class CedarInputControlledComponent extends CedarUIComponent implements OnInit, AfterViewInit {\n  @ViewChild('autoCompleteInput', { static: false, read: MatAutocompleteTrigger }) trigger: MatAutocompleteTrigger;\n  selectedData: IntegratedSearchResponseItem;\n  component: FieldComponent;\n  options: FormGroup;\n  inputValueControl = new FormControl(null, null);\n  errorStateMatcher = new TextFieldErrorStateMatcher();\n  @Input() handlerContext: HandlerContext;\n  model: IntegratedSearchResponseItem = null;\n  readOnlyMode;\n  bioPortalTermLink: string = null;\n\n  filteredOptions: Observable<IntegratedSearchResponseItem[]>;\n\n  constructor(\n    fb: FormBuilder,\n    public cds: ComponentDataService,\n    private activeComponentRegistry: ActiveComponentRegistryService,\n    private controlledFieldDataService: ControlledFieldDataService,\n    private messageHandlerService: MessageHandlerService,\n  ) {\n    super();\n    this.options = fb.group({\n      inputValue: this.inputValueControl,\n    });\n  }\n\n  ngOnInit(): void {\n    const validators: any[] = [];\n\n    if (this.component.valueInfo.requiredValue) {\n      validators.push(Validators.required);\n    }\n    this.inputValueControl = new FormControl(null, validators);\n\n    if (\n      this.component.valueInfo.defaultValue &&\n      typeof this.component.valueInfo.defaultValue === 'object' &&\n      Object.hasOwn(this.component.valueInfo.defaultValue as object, JsonSchema.termUri)\n    ) {\n      this.setValueUIAndModel(\n        this.component.valueInfo.defaultValue ? this.component.valueInfo.defaultValue[JsonSchema.termUri] : null,\n        this.component.valueInfo.defaultValue ? this.component.valueInfo.defaultValue[JsonSchema.rdfsLabel] : null,\n      );\n    }\n\n    if (this.handlerContext && this.handlerContext.readOnlyMode) {\n      this.readOnlyMode = this.handlerContext.readOnlyMode;\n    }\n\n    if (!this.readOnlyMode) {\n      this.filteredOptions = this.inputValueControl.valueChanges.pipe(\n        startWith(''),\n        debounceTime(400),\n        distinctUntilChanged(),\n        switchMap((val) => {\n          return this.filter(val || '');\n        }),\n      );\n    }\n  }\n\n  ngAfterViewInit(): void {\n    if (!this.readOnlyMode) {\n      this.trigger.panelClosingActions.subscribe((e) => {\n        this.setCurrentValue(this.selectedData?.prefLabel);\n      });\n    }\n  }\n\n  filter(val: string): Observable<IntegratedSearchResponseItem[]> {\n    return this.controlledFieldDataService.getData(val, this.component).pipe(\n      map((response) => {\n        if (response == null) {\n          return null;\n        } else if (response.collection) {\n          return response.collection.filter((option) => {\n            return option.prefLabel.toLowerCase().indexOf(val.toLowerCase()) >= 0;\n          });\n        } else {\n          if (!val) {\n            val = 'empty string';\n          }\n          this.messageHandlerService.errorObject(val, response);\n        }\n      }),\n    );\n  }\n\n  @Input() set componentToRender(componentToRender: FieldComponent) {\n    this.component = componentToRender;\n    this.activeComponentRegistry.registerComponent(this.component, this);\n  }\n\n  onSelectionChange(option: IntegratedSearchResponseItem): void {\n    this.handlerContext.changeControlledValue(this.component, option[JsonSchema.atId], option.prefLabel);\n    if (option) {\n      this.selectedData = option;\n    }\n  }\n\n  inputChanged(event): void {\n    if (!(event.target as HTMLTextAreaElement).value) {\n      this.clearValue();\n    }\n  }\n\n  setCurrentValue(currentValue: any): void {\n    if (this.readOnlyMode) {\n      const displayTerm = this.getBioPortalTermDisplayValue(currentValue);\n      this.inputValueControl.setValue(displayTerm);\n    } else {\n      this.inputValueControl.setValue(currentValue);\n    }\n  }\n\n  getBioPortalTermDisplayValue(value: any): string {\n    const controlledInfo = this.component.controlledInfo;\n    const rdfsLabel = value[JsonSchema.rdfsLabel];\n    const atId = value[JsonSchema.atId];\n    const midPart = '?p=classes&conceptid=';\n    const urlEncodedAtId = encodeURIComponent(atId);\n\n    const branch = controlledInfo.branches[0];\n    const _class = controlledInfo.classes[0];\n    const ontology = controlledInfo.ontologies[0];\n    const bioPortalPrefix = CedarEmbeddableMetadataEditorComponent.bioPortalPrefix;\n\n    if (branch) {\n      this.bioPortalTermLink = branch['source'] + midPart + urlEncodedAtId;\n    } else if (_class) {\n      this.bioPortalTermLink = bioPortalPrefix + _class['source'] + midPart + urlEncodedAtId;\n    } else if (ontology) {\n      this.bioPortalTermLink = bioPortalPrefix + ontology['acronym'] + midPart + urlEncodedAtId;\n    }\n\n    if (rdfsLabel && atId) {\n      return rdfsLabel + ' - (' + atId + ')';\n    } else return value;\n  }\n\n  clearValue(): void {\n    this.selectedData = null;\n    this.inputValueControl.setValue(null);\n    this.handlerContext.changeControlledValue(this.component, null, null);\n  }\n\n  private setValueUIAndModel(atId: string, prefLabel: string): void {\n    this.inputValueControl.setValue(prefLabel);\n    this.handlerContext.changeControlledValue(this.component, atId, prefLabel);\n  }\n\n  goToBioPortalTerm() {\n    window.open(this.bioPortalTermLink, '_blank');\n  }\n}\n","import { AfterViewInit, ChangeDetectorRef, Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FieldComponent } from '../../../shared/models/component/field-component.model';\nimport { FormBuilder, FormControl } from '@angular/forms';\nimport { CedarUIComponent } from '../../../shared/models/ui/cedar-ui-component.model';\nimport { ActiveComponentRegistryService } from '../../../shared/service/active-component-registry.service';\nimport { HandlerContext } from '../../../shared/util/handler-context';\nimport { DatePickerComponent } from '../../../shared/components/date-picker/date-picker.component';\nimport { Xsd } from '../../../shared/models/xsd.model';\nimport { Temporal } from '../../../shared/models/temporal.model';\nimport moment, { Moment } from 'moment';\nimport { TimezonePickerComponent, TZone } from '../../../shared/components/timezone-picker/timezone-picker.component';\n\n@Component({\n  selector: 'app-cedar-input-datetime',\n  templateUrl: './cedar-input-datetime.component.html',\n  styleUrls: ['./cedar-input-datetime.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class CedarInputDatetimeComponent extends CedarUIComponent implements OnInit, AfterViewInit {\n  component: FieldComponent;\n\n  timePickerTime: Date;\n  decimalSeconds: number;\n  timezone: TZone;\n  setDefaultZone = false;\n  datetimeParsed: DatetimeRepresentation;\n  dateMonthYearControl: FormControl;\n  required: boolean;\n\n  @Input() handlerContext: HandlerContext;\n  readOnlyMode;\n\n  constructor(\n    fb: FormBuilder,\n    private activeComponentRegistry: ActiveComponentRegistryService,\n    private cdr: ChangeDetectorRef,\n  ) {\n    super();\n    this.datetimeParsed = new DatetimeRepresentation();\n    this.timePickerTime = this.getDefaultTime();\n  }\n\n  ngOnInit(): void {\n    if (this.handlerContext && this.handlerContext.readOnlyMode) {\n      this.readOnlyMode = this.handlerContext.readOnlyMode;\n    }\n  }\n\n  ngAfterViewInit(): void {\n    this.cdr.detectChanges();\n  }\n\n  @Input() set componentToRender(componentToRender: FieldComponent) {\n    this.component = componentToRender;\n    this.required = this.component.valueInfo.requiredValue;\n    this.activeComponentRegistry.registerComponent(this.component, this);\n  }\n\n  dateInputChanged(event): void {\n    this.datetimeParsed.setDate(event);\n    this.handlerContext.changeValue(this.component, this.datetimeParsed.toStorageRepresentation());\n  }\n\n  timeInputChanged(event): void {\n    this.datetimeParsed.setHours(this.timePickerTime.getHours());\n    this.datetimeParsed.setAMPM(this.enableMeridian());\n\n    if (!this.disableMinute()) {\n      this.datetimeParsed.setMinutes(this.timePickerTime.getMinutes());\n    }\n\n    if (this.showSeconds()) {\n      this.datetimeParsed.setSeconds(this.timePickerTime.getSeconds());\n    }\n    this.handlerContext.changeValue(this.component, this.datetimeParsed.toStorageRepresentation());\n  }\n\n  decimalSecondsChanged(event): void {\n    this.datetimeParsed.setDecimalSeconds(this.decimalSeconds);\n    this.handlerContext.changeValue(this.component, this.datetimeParsed.toStorageRepresentation());\n  }\n\n  timezoneInputChanged(event): void {\n    if (event != null) {\n      this.datetimeParsed.setTimezone(event);\n      this.handlerContext.changeValue(this.component, this.datetimeParsed.toStorageRepresentation());\n    }\n  }\n\n  showDatePicker(): boolean {\n    return [Xsd.dateTime, Xsd.date].indexOf(this.component.valueInfo.temporalType) > -1;\n  }\n\n  dateFormat(): string {\n    let format = DatePickerComponent.YEAR_MONTH_DAY_FORMAT;\n\n    if (this.component.valueInfo.temporalType === Xsd.date) {\n      switch (this.component.basicInfo.temporalGranularity) {\n        case Temporal.month:\n          format = DatePickerComponent.YEAR_MONTH_FORMAT;\n          break;\n        case Temporal.year:\n          format = DatePickerComponent.YEAR_FORMAT;\n          break;\n      }\n    }\n    return format;\n  }\n\n  showTimePicker(): boolean {\n    return [Xsd.dateTime, Xsd.time].indexOf(this.component.valueInfo.temporalType) > -1;\n  }\n\n  enableMeridian(): boolean {\n    return this.component.basicInfo.inputTimeFormat === Temporal.inputType12h;\n  }\n\n  disableMinute(): boolean {\n    return this.component.basicInfo.temporalGranularity === Temporal.hour;\n  }\n\n  showSeconds(): boolean {\n    return [Temporal.second, Temporal.decimalSecond].indexOf(this.component.basicInfo.temporalGranularity) > -1;\n  }\n\n  showDecimalSeconds(): boolean {\n    return this.component.basicInfo.temporalGranularity === Temporal.decimalSecond;\n  }\n\n  showTimezonePicker(): boolean {\n    return this.component.basicInfo.timezoneEnabled === true;\n  }\n\n  setCurrentValue(currentValue: any): void {\n    if (currentValue) {\n      this.datetimeParsed = DatetimeRepresentation.fromStorageRepresentation(\n        currentValue as string,\n        this.enableMeridian(),\n      );\n\n      if (this.datetimeParsed.dateIsSet) {\n        const m = moment();\n        m.set('date', +this.datetimeParsed.day);\n        m.set('month', +this.datetimeParsed.month - 1);\n        m.set('year', +this.datetimeParsed.year);\n        this.dateMonthYearControl = new FormControl(m);\n      }\n\n      if (this.datetimeParsed.timeIsSet) {\n        // reset timepicker UI\n        this.timePickerTime = new Date();\n        this.timePickerTime.setHours(\n          +this.datetimeParsed.hours,\n          +this.datetimeParsed.minutes,\n          +this.datetimeParsed.seconds,\n        );\n\n        // reset decimal seconds\n        if (this.datetimeParsed.decimalSeconds.length > 0) {\n          this.decimalSeconds = +this.datetimeParsed.decimalSeconds;\n        } else {\n          this.decimalSeconds = null;\n        }\n\n        if (this.datetimeParsed.timezoneIsSet) {\n          this.timezone = {\n            id: this.datetimeParsed.timezoneOffset,\n            label: this.datetimeParsed.timezoneName,\n          };\n        } else {\n          this.resetTimezone();\n        }\n      }\n    }\n    // set datetime UI to default view\n    else {\n      // Following 2 lines puts the today's date in the date picker and time, which should not be the default behaviour\n      // this.resetDate();\n      // this.resetTime();\n    }\n  }\n\n  private resetDate(): void {\n    if (this.showDatePicker()) {\n      const defDate = this.getDefaultDate();\n      this.dateMonthYearControl = new FormControl(defDate);\n      this.datetimeParsed.setDate(defDate);\n      this.handlerContext.changeValue(this.component, this.datetimeParsed.toStorageRepresentation());\n    }\n  }\n\n  private resetTime(): void {\n    if (this.showTimePicker()) {\n      this.timePickerTime = this.getDefaultTime();\n      this.decimalSeconds = null;\n      this.datetimeParsed.setDecimalSeconds(null);\n      this.resetTimezone();\n      this.handlerContext.changeValue(this.component, this.datetimeParsed.toStorageRepresentation());\n    }\n  }\n\n  private resetTimezone(): void {\n    if (this.showTimezonePicker()) {\n      let tz = null;\n\n      if (this.setDefaultZone) {\n        tz = TimezonePickerComponent.guessedUserZone();\n      }\n      this.timezone = tz;\n      this.datetimeParsed.setTimezone(tz);\n      this.handlerContext.changeValue(this.component, this.datetimeParsed.toStorageRepresentation());\n    }\n  }\n\n  private getDefaultDate(): Moment {\n    const dt = moment();\n    const format = this.dateFormat();\n\n    switch (format) {\n      case DatePickerComponent.YEAR_MONTH_FORMAT:\n        dt.set('date', 1);\n        break;\n      case DatePickerComponent.YEAR_FORMAT:\n        dt.set('date', 1);\n        dt.set('month', 0);\n        break;\n    }\n    return dt;\n  }\n\n  private getDefaultTime(): Date {\n    const dt = new Date();\n    // dt.setHours(0,0,0,0);\n    return dt;\n  }\n}\n\nexport class DatetimeRepresentation {\n  static readonly DATE_SEPARATOR = '-';\n  static readonly TIME_SEPARATOR = ':';\n  static readonly DATE_TIME_SEPARATOR = 'T';\n  static readonly TIME_DECIMAL_SECOND_SEPARATOR = '.';\n  static readonly DATE_STORED_FORMAT = 'YYYY-MM-DD';\n\n  dateIsSet: boolean;\n  timeIsSet: boolean;\n  timezoneIsSet: boolean;\n\n  year: string;\n  month: string;\n  day: string;\n\n  hours: string;\n  minutes: string;\n  seconds: string;\n  decimalSeconds: string;\n  ampm: boolean;\n\n  timezoneName: string;\n  timezoneOffset: string;\n\n  constructor() {\n    // set default values\n    const DEF_ZERO = '00';\n    const DEF_ONE = '01';\n\n    this.dateIsSet = false;\n    this.timeIsSet = false;\n    this.timezoneIsSet = false;\n\n    this.year = '';\n    this.month = DEF_ONE;\n    this.day = DEF_ONE;\n\n    this.hours = DEF_ZERO;\n    this.minutes = DEF_ZERO;\n    this.seconds = DEF_ZERO;\n    this.decimalSeconds = '';\n    this.ampm = true;\n\n    this.timezoneName = '';\n    this.timezoneOffset = '';\n  }\n\n  static fromStorageRepresentation(storedDateStr: string, ampm: boolean): DatetimeRepresentation {\n    const that = new DatetimeRepresentation();\n    const datePatternStr =\n      '^\\\\d{4}\\\\' +\n      DatetimeRepresentation.DATE_SEPARATOR +\n      '\\\\d{2}\\\\' +\n      DatetimeRepresentation.DATE_SEPARATOR +\n      '\\\\d{2}';\n    const datePattern = new RegExp(datePatternStr);\n    const dateStr = storedDateStr.match(datePattern);\n\n    if (dateStr && dateStr.length > 0) {\n      that.dateIsSet = true;\n      that.setDate(moment(dateStr[0], DatetimeRepresentation.DATE_STORED_FORMAT));\n    }\n    const timePatternStr =\n      '(\\\\d{2}\\\\' +\n      DatetimeRepresentation.TIME_SEPARATOR +\n      '\\\\d{2}\\\\' +\n      DatetimeRepresentation.TIME_SEPARATOR +\n      '\\\\d{2})(\\\\.[\\\\d\\\\.]+)*';\n    const timePattern = new RegExp(timePatternStr);\n    const timeStr = storedDateStr.match(timePattern);\n\n    if (timeStr && timeStr.length > 1) {\n      that.setAMPM(ampm);\n      const timeArr = timeStr[1].split(DatetimeRepresentation.TIME_SEPARATOR);\n      that.setHours(+timeArr[0]);\n      that.setMinutes(+timeArr[1]);\n      that.setSeconds(+timeArr[2]);\n\n      if (timeStr.length > 2 && timeStr[2]) {\n        that.setDecimalSeconds(+timeStr[2].substring(1));\n      }\n      const timezonePatternStr = 'Z|[\\\\-\\\\+]{1}\\\\d{2}\\\\' + DatetimeRepresentation.TIME_SEPARATOR + '\\\\d{2}$';\n      const timezonePattern = new RegExp(timezonePatternStr);\n      const timezoneStr = storedDateStr.match(timezonePattern);\n\n      if (timezoneStr && timezoneStr.length > 0) {\n        const timezone = TimezonePickerComponent.AVAILABLE_TIMEZONES.find((z) => z.id === timezoneStr[0]);\n        that.setTimezone(timezone);\n      }\n    }\n    return that;\n  }\n\n  static regexIndexOf(text, re, i): number {\n    const indexInSuffix = text.slice(i).search(re);\n    return indexInSuffix < 0 ? indexInSuffix : indexInSuffix + i;\n  }\n\n  static indexOfEnd(sourceStr, matchStr): number {\n    const io = sourceStr.indexOf(matchStr);\n    return io === -1 ? -1 : io + matchStr.length;\n  }\n\n  setDate(dateIn: Moment): void {\n    if (!dateIn) {\n      return;\n    }\n    this.dateIsSet = true;\n    this.year = dateIn.year().toLocaleString().replace(/,/, '');\n    this.month = this.stringify((dateIn.month() + 1).toLocaleString());\n    this.day = this.stringify(dateIn.date().toLocaleString());\n  }\n\n  setHours(hoursIn: number): void {\n    this.timeIsSet = true;\n    this.hours = this.stringify(hoursIn);\n  }\n\n  setMinutes(minutesIn: number): void {\n    this.timeIsSet = true;\n    this.minutes = this.stringify(minutesIn);\n  }\n\n  setSeconds(secondsIn: number): void {\n    this.timeIsSet = true;\n    this.seconds = this.stringify(secondsIn);\n  }\n\n  setAMPM(val: boolean): void {\n    this.ampm = val;\n  }\n\n  setDecimalSeconds(decSecondsIn: number): void {\n    this.timeIsSet = true;\n\n    if (decSecondsIn == null) {\n      this.decimalSeconds = '';\n    } else {\n      this.decimalSeconds = decSecondsIn.toString();\n    }\n  }\n\n  setTimezone(timezoneIn: TZone): void {\n    if (timezoneIn) {\n      this.timezoneIsSet = true;\n      this.timezoneOffset = timezoneIn.id;\n      this.timezoneName = timezoneIn.label;\n    } else {\n      this.timezoneIsSet = false;\n      this.timezoneOffset = '';\n      this.timezoneName = '';\n    }\n  }\n\n  toDateRepresentation(): string {\n    const m = moment();\n    const formatArr = [];\n\n    if (this.timezoneIsSet) {\n      m.utcOffset(this.timezoneOffset);\n    }\n\n    if (this.dateIsSet) {\n      m.set({ year: +this.year, month: +this.month - 1, date: +this.day });\n      formatArr.push(DatePickerComponent.YEAR_MONTH_DAY_FORMAT);\n    }\n\n    if (this.timeIsSet) {\n      m.set({ hour: +this.hours, minute: +this.minutes, second: +this.seconds });\n\n      if (this.dateIsSet) {\n        formatArr.push(' ');\n      }\n\n      if (this.ampm) {\n        formatArr.push('hh:mm:ss A');\n      } else {\n        formatArr.push('HH:mm:ss'); // 24-hour clock time\n      }\n    }\n\n    if (this.timezoneIsSet) {\n      formatArr.push('Z');\n    }\n    return m.format(formatArr.join(''));\n  }\n\n  toStorageRepresentation(): string {\n    let dateStr = '';\n\n    if (this.dateIsSet) {\n      dateStr +=\n        this.year +\n        DatetimeRepresentation.DATE_SEPARATOR +\n        this.month +\n        DatetimeRepresentation.DATE_SEPARATOR +\n        this.day;\n    }\n\n    if (this.timeIsSet) {\n      if (this.dateIsSet) {\n        dateStr += DatetimeRepresentation.DATE_TIME_SEPARATOR;\n      }\n      dateStr +=\n        this.hours +\n        DatetimeRepresentation.TIME_SEPARATOR +\n        this.minutes +\n        DatetimeRepresentation.TIME_SEPARATOR +\n        this.seconds;\n\n      if (this.decimalSeconds.length > 0) {\n        dateStr += DatetimeRepresentation.TIME_DECIMAL_SECOND_SEPARATOR + this.decimalSeconds;\n      }\n    }\n\n    if (this.timezoneIsSet) {\n      dateStr += this.timezoneOffset;\n    }\n    return dateStr;\n  }\n\n  toString(): string {\n    return this.toStorageRepresentation();\n  }\n\n  private stringify(valIn: any): string {\n    let str = valIn.toString();\n    if (valIn < 10) {\n      str = '0' + str;\n    }\n    return str;\n  }\n}\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, FormGroupDirective, NgForm, Validators } from '@angular/forms';\nimport { ErrorStateMatcher } from '@angular/material/core';\nimport { CedarUIComponent } from '../../../shared/models/ui/cedar-ui-component.model';\nimport { FieldComponent } from '../../../shared/models/component/field-component.model';\nimport { ActiveComponentRegistryService } from '../../../shared/service/active-component-registry.service';\nimport { HandlerContext } from '../../../shared/util/handler-context';\nimport { ComponentDataService } from '../../../shared/service/component-data.service';\n\nexport class TextFieldErrorStateMatcher implements ErrorStateMatcher {\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n    return !!(control && control.invalid && (control.dirty || control.touched));\n  }\n}\n\n@Component({\n  selector: 'app-cedar-input-email',\n  templateUrl: './cedar-input-email.component.html',\n  styleUrls: ['./cedar-input-email.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class CedarInputEmailComponent extends CedarUIComponent implements OnInit {\n  component: FieldComponent;\n  options: FormGroup;\n  inputValueControl = new FormControl(null, null);\n  errorStateMatcher = new TextFieldErrorStateMatcher();\n  @Input() handlerContext: HandlerContext;\n  readOnlyMode;\n\n  constructor(\n    fb: FormBuilder,\n    public cds: ComponentDataService,\n    private activeComponentRegistry: ActiveComponentRegistryService,\n  ) {\n    super();\n    this.options = fb.group({\n      inputValue: this.inputValueControl,\n    });\n  }\n\n  ngOnInit(): void {\n    const validators: any[] = [];\n\n    validators.push(Validators.email);\n\n    if (this.component.valueInfo.requiredValue) {\n      validators.push(Validators.required);\n    }\n    this.inputValueControl = new FormControl(null, validators);\n\n    if (this.component.valueInfo.defaultValue != null) {\n      if (this.inputValueControl.getRawValue() == '') {\n        this.setValueUIAndModel(this.component.valueInfo.defaultValue);\n      }\n    }\n    if(this.handlerContext && this.handlerContext.readOnlyMode){\n      this.readOnlyMode = this.handlerContext.readOnlyMode;\n    }\n  }\n\n  @Input() set componentToRender(componentToRender: FieldComponent) {\n    this.component = componentToRender;\n    this.activeComponentRegistry.registerComponent(this.component, this);\n  }\n\n  inputChanged($event: Event): void {\n    let val = ($event.target as HTMLTextAreaElement).value;\n\n    if (val.length === 0) {\n      val = null;\n    }\n\n    this.handlerContext.changeValue(this.component, val);\n  }\n\n  setCurrentValue(currentValue: any): void {\n    this.inputValueControl.setValue(currentValue);\n  }\n\n  clearValue(): void {\n    this.setValueUIAndModel(null);\n  }\n\n  private setValueUIAndModel(value: string): void {\n    this.inputValueControl.setValue(value);\n    this.handlerContext.changeValue(this.component, value);\n  }\n\n  getCharCountHint(): string {\n    let len = 0;\n    if (this.inputValueControl.value != null) {\n      len = this.inputValueControl.value.length;\n    }\n    return '' + len;\n  }\n}\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, FormGroupDirective, NgForm, Validators } from '@angular/forms';\nimport { ErrorStateMatcher } from '@angular/material/core';\nimport { CedarUIComponent } from '../../../shared/models/ui/cedar-ui-component.model';\nimport { FieldComponent } from '../../../shared/models/component/field-component.model';\nimport { ActiveComponentRegistryService } from '../../../shared/service/active-component-registry.service';\nimport { HandlerContext } from '../../../shared/util/handler-context';\nimport { ComponentDataService } from '../../../shared/service/component-data.service';\n\nexport class TextFieldErrorStateMatcher implements ErrorStateMatcher {\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n    return !!(control && control.invalid && (control.dirty || control.touched));\n  }\n}\n\n@Component({\n  selector: 'app-cedar-input-link',\n  templateUrl: './cedar-input-link.component.html',\n  styleUrls: ['./cedar-input-link.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class CedarInputLinkComponent extends CedarUIComponent implements OnInit {\n  component: FieldComponent;\n  options: FormGroup;\n  inputValueControl = new FormControl(null, null);\n  errorStateMatcher = new TextFieldErrorStateMatcher();\n  @Input() handlerContext: HandlerContext;\n  readOnlyMode;\n\n  constructor(\n    fb: FormBuilder,\n    public cds: ComponentDataService,\n    private activeComponentRegistry: ActiveComponentRegistryService,\n  ) {\n    super();\n    this.options = fb.group({\n      inputValue: this.inputValueControl,\n    });\n  }\n\n  ngOnInit(): void {\n    const validators: any[] = [];\n\n    const reg = /(https?:\\/\\/)([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*\\/?/i;\n    validators.push(Validators.pattern(reg));\n\n    if (this.component.valueInfo.requiredValue) {\n      validators.push(Validators.required);\n    }\n\n    if (this.handlerContext && this.handlerContext.readOnlyMode) {\n      this.readOnlyMode = this.handlerContext.readOnlyMode;\n    }\n\n    this.inputValueControl = new FormControl(null, validators);\n\n    if (this.component.valueInfo.defaultValue != null) {\n      if (this.inputValueControl.getRawValue() == '') {\n        this.setValueUIAndModel(this.component.valueInfo.defaultValue);\n      }\n    }\n  }\n\n  @Input() set componentToRender(componentToRender: FieldComponent) {\n    this.component = componentToRender;\n    this.activeComponentRegistry.registerComponent(this.component, this);\n  }\n\n  inputChanged($event: Event): void {\n    let val = ($event.target as HTMLTextAreaElement).value;\n\n    if (val.length === 0) {\n      val = null;\n    }\n    this.handlerContext.changeValue(this.component, val);\n  }\n\n  setCurrentValue(currentValue: any): void {\n    this.inputValueControl.setValue(currentValue);\n  }\n\n  clearValue(): void {\n    this.setValueUIAndModel(null);\n  }\n\n  private setValueUIAndModel(value: string): void {\n    this.inputValueControl.setValue(value);\n    this.handlerContext.changeValue(this.component, value);\n  }\n\n  getCharCountHint(): string {\n    let len = 0;\n    if (this.inputValueControl.value != null) {\n      len = this.inputValueControl.value.length;\n    }\n    return '' + len;\n  }\n}\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FieldComponent } from '../../../shared/models/component/field-component.model';\nimport { FormBuilder, FormControl, FormGroup, FormGroupDirective, NgForm, Validators } from '@angular/forms';\nimport { CedarUIComponent } from '../../../shared/models/ui/cedar-ui-component.model';\nimport { ActiveComponentRegistryService } from '../../../shared/service/active-component-registry.service';\nimport { HandlerContext } from '../../../shared/util/handler-context';\nimport { ErrorStateMatcher } from '@angular/material/core';\n\nexport class MultipleChoiceErrorStateMatcher implements ErrorStateMatcher {\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n    return !!(control && control.invalid && (control.dirty || control.touched));\n  }\n}\n\n@Component({\n  selector: 'app-cedar-input-multiple-choice',\n  templateUrl: './cedar-input-multiple-choice.component.html',\n  styleUrls: ['./cedar-input-multiple-choice.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class CedarInputMultipleChoiceComponent extends CedarUIComponent implements OnInit {\n  component: FieldComponent;\n  options: FormGroup;\n  selectedChoiceInputControl = new FormControl(null, null);\n  errorStateMatcher = new MultipleChoiceErrorStateMatcher();\n  @Input() handlerContext: HandlerContext;\n  readOnlyMode;\n  selected;\n\n  constructor(\n    fb: FormBuilder,\n    private activeComponentRegistry: ActiveComponentRegistryService,\n  ) {\n    super();\n    this.options = fb.group({\n      selectedChoiceValue: this.selectedChoiceInputControl,\n    });\n  }\n\n  ngOnInit(): void {\n    this.populateItemsOnLoad();\n    const validators: any[] = [];\n    if (this.component.valueInfo.requiredValue) {\n      validators.push(Validators.required);\n    }\n    this.selectedChoiceInputControl = new FormControl(null, validators);\n\n    if (this.handlerContext && this.handlerContext.readOnlyMode) {\n      this.readOnlyMode = this.handlerContext.readOnlyMode;\n    }\n  }\n\n  @Input() set componentToRender(componentToRender: FieldComponent) {\n    this.component = componentToRender;\n    this.activeComponentRegistry.registerComponent(this.component, this);\n  }\n\n  inputChanged(event): void {\n    if (this.readOnlyMode) {\n      this.selectedChoiceInputControl.setValue(this.selected);\n      return;\n    }\n    this.handlerContext.changeValue(this.component, event.value);\n  }\n\n  clearValue(): void {\n    this.setValueUIAndModel(null);\n  }\n\n  private setValueUIAndModel(value: string): void {\n    this.selectedChoiceInputControl.setValue(value);\n    this.handlerContext.changeValue(this.component, value);\n  }\n\n  setCurrentValue(currentValue: any): void {\n    this.selectedChoiceInputControl.setValue(currentValue);\n    this.selected = currentValue;\n  }\n\n  private populateItemsOnLoad(): void {\n    for (const choice of this.component.choiceInfo.choices) {\n      if (choice.selectedByDefault) {\n        this.handlerContext.changeValue(this.component, choice.label);\n        this.selected = choice.label;\n        return;\n      }\n    }\n    this.handlerContext.changeValue(this.component, null);\n  }\n}\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FieldComponent } from '../../../shared/models/component/field-component.model';\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { ComponentDataService } from '../../../shared/service/component-data.service';\nimport { CedarUIComponent } from '../../../shared/models/ui/cedar-ui-component.model';\nimport { ActiveComponentRegistryService } from '../../../shared/service/active-component-registry.service';\nimport { HandlerContext } from '../../../shared/util/handler-context';\nimport { Numbers } from '../../../shared/models/numbers.model';\nimport { Xsd } from '../../../shared/models/xsd.model';\n\n@Component({\n  selector: 'app-cedar-input-numeric',\n  templateUrl: './cedar-input-numeric.component.html',\n  styleUrls: ['./cedar-input-numeric.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class CedarInputNumericComponent extends CedarUIComponent implements OnInit {\n  component: FieldComponent;\n  options: FormGroup;\n  inputValueControl = new FormControl(null, Validators.min(10));\n  unitOfMeasure: string = null;\n  constraintMinValue = null;\n  constraintMaxValue = null;\n  patternErrorMessage = null;\n  @Input() handlerContext: HandlerContext;\n  readOnlyMode;\n\n  constructor(\n    fb: FormBuilder,\n    public cds: ComponentDataService,\n    private activeComponentRegistry: ActiveComponentRegistryService,\n  ) {\n    super();\n    this.options = fb.group({\n      inputValue: this.inputValueControl,\n    });\n  }\n\n  ngOnInit(): void {\n    this.unitOfMeasure = this.component.numberInfo.unitOfMeasure;\n\n    const validators: any[] = [];\n\n    this.constraintMinValue = this.component.numberInfo.minValue;\n    this.constraintMaxValue = this.component.numberInfo.maxValue;\n\n    if (this.component.valueInfo.requiredValue) {\n      validators.push(Validators.required);\n    }\n\n    const numberType = this.component.numberInfo.numberType;\n    const decimalPlace = this.component.numberInfo.decimalPlace;\n    let maxDecimalError = '';\n\n    if (numberType === Xsd.int) {\n      validators.push(Validators.pattern(Numbers.PATTERN_XSD_INT_AND_LONG));\n      this.patternErrorMessage = ' The value should be an integer.';\n\n      if (this.constraintMinValue == null) {\n        this.constraintMinValue = Numbers.NUMBER_INT_MIN;\n      }\n\n      if (this.constraintMaxValue == null) {\n        this.constraintMaxValue = Numbers.NUMBER_INT_MAX;\n      }\n    }\n\n    if (numberType === Xsd.long) {\n      validators.push(Validators.pattern(Numbers.PATTERN_XSD_INT_AND_LONG));\n      this.patternErrorMessage = ' The value should be a long integer.';\n\n      if (this.constraintMinValue == null) {\n        this.constraintMinValue = Numbers.NUMBER_LONG_MIN;\n      }\n\n      if (this.constraintMaxValue == null) {\n        this.constraintMaxValue = Numbers.NUMBER_LONG_MAX;\n      }\n    }\n\n    if (numberType === Xsd.float || numberType === Xsd.double) {\n      let pattern: string = Numbers.PATTERN_XSD_FLOAT_AND_DOUBLE;\n      let maxDig = '';\n\n      if (decimalPlace != null) {\n        maxDig = '' + decimalPlace;\n        maxDecimalError = ' maximum ' + decimalPlace + ' decimals.';\n      }\n      pattern = pattern.replace(new RegExp('maxDig', 'g'), maxDig);\n      validators.push(Validators.pattern(pattern));\n    }\n\n    if (numberType === Xsd.float) {\n      this.patternErrorMessage = ' The value should be a float,' + maxDecimalError;\n    }\n\n    if (numberType === Xsd.double) {\n      this.patternErrorMessage = ' The value should be a double,' + maxDecimalError;\n    }\n\n    if (this.constraintMinValue != null) {\n      validators.push(Validators.min(this.constraintMinValue));\n    }\n\n    if (this.constraintMaxValue != null) {\n      validators.push(Validators.max(this.constraintMaxValue));\n    }\n    if(this.handlerContext && this.handlerContext.readOnlyMode){\n      this.readOnlyMode = this.handlerContext.readOnlyMode;\n    }\n    this.inputValueControl = new FormControl(null, validators);\n  }\n\n  @Input() set componentToRender(componentToRender: FieldComponent) {\n    this.component = componentToRender;\n    this.activeComponentRegistry.registerComponent(this.component, this);\n  }\n\n  inputChanged($event: Event): void {\n    let val = ($event.target as HTMLTextAreaElement).value;\n\n    if (val.length === 0) {\n      val = null;\n    }\n    this.handlerContext.changeValue(this.component, val);\n  }\n\n  setCurrentValue(currentValue: any): void {\n    this.inputValueControl.setValue(currentValue);\n  }\n\n  clearValue(): void {\n    this.setValueUIAndModel(null);\n  }\n\n  private setValueUIAndModel(value: string): void {\n    this.inputValueControl.setValue(value);\n    this.handlerContext.changeValue(this.component, value);\n  }\n\n  getMinMaxValueHint(): string {\n    let s = '';\n    let min = null;\n    let max = null;\n\n    if (this.component.numberInfo.minValue != null) {\n      min = this.component.numberInfo.minValue;\n    }\n\n    if (this.component.numberInfo.maxValue != null) {\n      max = this.component.numberInfo.maxValue;\n    }\n\n    if (min != null || max != null) {\n      if (min != null) {\n        s += 'min: ' + min + '; ';\n      }\n\n      if (max != null) {\n        s += 'max: ' + max + ';';\n      }\n    }\n    const decimalPlace = this.component.numberInfo.decimalPlace;\n\n    if (decimalPlace != null) {\n      s += ' max ' + decimalPlace + ' decimals;';\n    }\n    return s;\n  }\n}\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, FormGroupDirective, NgForm, Validators } from '@angular/forms';\nimport { ErrorStateMatcher } from '@angular/material/core';\nimport { CedarUIComponent } from '../../../shared/models/ui/cedar-ui-component.model';\nimport { FieldComponent } from '../../../shared/models/component/field-component.model';\nimport { ActiveComponentRegistryService } from '../../../shared/service/active-component-registry.service';\nimport { HandlerContext } from '../../../shared/util/handler-context';\nimport { ComponentDataService } from '../../../shared/service/component-data.service';\n\nexport class TextFieldErrorStateMatcher implements ErrorStateMatcher {\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n    return !!(control && control.invalid && (control.dirty || control.touched));\n  }\n}\n\n@Component({\n  selector: 'app-cedar-input-phone',\n  templateUrl: './cedar-input-phone.component.html',\n  styleUrls: ['./cedar-input-phone.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class CedarInputPhoneComponent extends CedarUIComponent implements OnInit {\n  component: FieldComponent;\n  options: FormGroup;\n  inputValueControl = new FormControl(null, null);\n  errorStateMatcher = new TextFieldErrorStateMatcher();\n  @Input() handlerContext: HandlerContext;\n  readOnlyMode;\n\n  constructor(\n    fb: FormBuilder,\n    public cds: ComponentDataService,\n    private activeComponentRegistry: ActiveComponentRegistryService,\n  ) {\n    super();\n    this.options = fb.group({\n      inputValue: this.inputValueControl,\n    });\n  }\n\n  ngOnInit(): void {\n    const validators: any[] = [];\n\n    const reg = /^[\\+0-9\\s\\-\\(\\)]+$/im;\n    validators.push(Validators.pattern(reg));\n\n    if (this.component.valueInfo.requiredValue) {\n      validators.push(Validators.required);\n    }\n\n    this.inputValueControl = new FormControl(null, validators);\n\n    if (this.component.valueInfo.defaultValue != null) {\n      if (this.inputValueControl.getRawValue() == '') {\n        this.setValueUIAndModel(this.component.valueInfo.defaultValue);\n      }\n    }\n    if (this.handlerContext && this.handlerContext.readOnlyMode) {\n      this.readOnlyMode = this.handlerContext.readOnlyMode;\n    }\n  }\n\n  @Input() set componentToRender(componentToRender: FieldComponent) {\n    this.component = componentToRender;\n    this.activeComponentRegistry.registerComponent(this.component, this);\n  }\n\n  inputChanged($event: Event): void {\n    let val = ($event.target as HTMLTextAreaElement).value;\n\n    if (val.length === 0) {\n      val = null;\n    }\n\n    this.handlerContext.changeValue(this.component, val);\n  }\n\n  setCurrentValue(currentValue: any): void {\n    this.inputValueControl.setValue(currentValue);\n  }\n\n  clearValue(): void {\n    this.setValueUIAndModel(null);\n  }\n\n  private setValueUIAndModel(value: string): void {\n    this.inputValueControl.setValue(value);\n    this.handlerContext.changeValue(this.component, value);\n  }\n\n  getCharCountHint(): string {\n    let len = 0;\n    if (this.inputValueControl.value != null) {\n      len = this.inputValueControl.value.length;\n    }\n    return '' + len;\n  }\n}\n","import { Component, Input, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { FormBuilder, FormControl, FormGroup, FormGroupDirective, NgForm, Validators } from '@angular/forms';\nimport { ErrorStateMatcher } from '@angular/material/core';\nimport { FieldComponent } from '../../../shared/models/component/field-component.model';\nimport { CedarUIComponent } from '../../../shared/models/ui/cedar-ui-component.model';\nimport { ActiveComponentRegistryService } from '../../../shared/service/active-component-registry.service';\nimport { HandlerContext } from '../../../shared/util/handler-context';\nimport { ComponentDataService } from '../../../shared/service/component-data.service';\n\nexport class TextFieldErrorStateMatcher implements ErrorStateMatcher {\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n    return !!(control && control.invalid && (control.dirty || control.touched));\n  }\n}\n@Component({\n  selector: 'app-cedar-input-select',\n  templateUrl: './cedar-input-select.component.html',\n  styleUrls: ['./cedar-input-select.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class CedarInputSelectComponent extends CedarUIComponent implements OnInit {\n  @ViewChild('inputSelect') selectElement;\n  readonly ITEM_ID_FIELD = 'id';\n  readonly ITEM_TEXT_FIELD = 'label';\n\n  component: FieldComponent;\n  dropdownList = [];\n  selectedItems: any;\n  options: FormGroup;\n  inputValueControl = new FormControl(null, null);\n  errorStateMatcher = new TextFieldErrorStateMatcher();\n  selections: string[];\n  maxSelections: number;\n  @Input() handlerContext: HandlerContext;\n  readOnlyMode;\n\n  constructor(\n    private activeComponentRegistry: ActiveComponentRegistryService,\n    public cds: ComponentDataService,\n    fb: FormBuilder,\n  ) {\n    super();\n    this.options = fb.group({\n      inputValue: this.inputValueControl,\n    });\n  }\n\n  ngOnInit(): void {\n    this.populateItemsOnLoad();\n    const validators: any[] = [];\n\n    if (this.component.valueInfo.requiredValue) {\n      validators.push(Validators.required);\n    }\n    this.inputValueControl = new FormControl(null, validators);\n\n    if (this.handlerContext && this.handlerContext.readOnlyMode) {\n      this.readOnlyMode = this.handlerContext.readOnlyMode;\n    }\n  }\n\n  @Input() set componentToRender(componentToRender: FieldComponent) {\n    this.component = componentToRender;\n    this.activeComponentRegistry.registerComponent(this.component, this);\n    this.maxSelections = this.component.multiInfo.maxItems;\n  }\n\n  inputChanged(): void {\n    const values = this.inputValueControl.value;\n    const multi = this.component.choiceInfo.multipleChoice;\n    if (multi) {\n      if (this.maxSelections === undefined || (values && values.length <= this.maxSelections)) {\n        this.selections = values;\n      } else {\n        this.inputValueControl.setValue(this.selections);\n      }\n      // close dropdown if max selections reached\n      if (this.selectElement && this.maxSelections !== undefined && values && values.length === this.maxSelections) {\n        this.selectElement.close();\n      }\n      this.changeValue(this.selections);\n    } else {\n      this.inputValueControl.setValue(values);\n      this.changeValue(values);\n    }\n  }\n\n  setCurrentValue(currentValue: any): void {\n    this.inputValueControl.setValue(currentValue);\n  }\n\n  private populateItemsOnLoad(): void {\n    const multi = this.component.choiceInfo.multipleChoice;\n    if (multi) {\n      this.selectedItems = [];\n    }\n    for (const choice of this.component.choiceInfo.choices) {\n      const entry: { [key: string]: any } = {\n        [this.ITEM_ID_FIELD]: choice.label,\n        [this.ITEM_TEXT_FIELD]: choice.label,\n      };\n      this.dropdownList.push(entry);\n    }\n  }\n\n  clearValue($event): void {\n    $event.stopPropagation();\n    this.inputValueControl.setValue(null);\n    const multi = this.component.choiceInfo.multipleChoice;\n    if (multi) {\n      this.changeValue(null);\n    } else {\n      this.changeValue(null);\n    }\n  }\n\n  changeValue(value): void {\n    const multi = this.component.choiceInfo.multipleChoice;\n    if (multi) {\n      this.handlerContext.changeListValue(this.component, value);\n    } else {\n      this.handlerContext.changeValue(this.component, value);\n    }\n  }\n}\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FieldComponent } from '../../../shared/models/component/field-component.model';\nimport { FormBuilder, FormControl, FormGroup, FormGroupDirective, NgForm, Validators } from '@angular/forms';\nimport { ComponentDataService } from '../../../shared/service/component-data.service';\nimport { CedarUIComponent } from '../../../shared/models/ui/cedar-ui-component.model';\nimport { ActiveComponentRegistryService } from '../../../shared/service/active-component-registry.service';\nimport { HandlerContext } from '../../../shared/util/handler-context';\nimport { ErrorStateMatcher } from '@angular/material/core';\nimport { InputType } from '../../../shared/models/input-type.model';\nimport { CedarEmbeddableMetadataEditorComponent } from '../../../shared/components/cedar-embeddable-metadata-editor/cedar-embeddable-metadata-editor.component';\n\nexport class TextFieldErrorStateMatcher implements ErrorStateMatcher {\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n    return !!(control && control.invalid && (control.dirty || control.touched));\n  }\n}\n\n@Component({\n  selector: 'app-cedar-input-text',\n  templateUrl: './cedar-input-text.component.html',\n  styleUrls: ['./cedar-input-text.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class CedarInputTextComponent extends CedarUIComponent implements OnInit {\n  component: FieldComponent;\n  options: FormGroup;\n  inputValueControl = new FormControl(null, null);\n  errorStateMatcher = new TextFieldErrorStateMatcher();\n  constraintMinLength = null;\n  constraintMaxLength = null;\n  @Input() handlerContext: HandlerContext;\n  inputText = InputType.text;\n  inputTextarea = InputType.textarea;\n  readOnlyMode;\n  isRichText: boolean = false;\n  isOrcid: boolean = false;\n  isRor: boolean = false;\n  originalValue = null;\n\n  constructor(\n    fb: FormBuilder,\n    public cds: ComponentDataService,\n    private activeComponentRegistry: ActiveComponentRegistryService,\n  ) {\n    super();\n    this.options = fb.group({\n      inputValue: this.inputValueControl,\n    });\n  }\n\n  ngOnInit(): void {\n    const validators: any[] = [];\n    this.constraintMinLength = this.component.valueInfo.minLength;\n\n    if (this.constraintMinLength != null) {\n      validators.push(Validators.minLength(this.constraintMinLength));\n    }\n    this.constraintMaxLength = this.component.valueInfo.maxLength;\n\n    if (this.constraintMaxLength != null) {\n      validators.push(Validators.maxLength(this.constraintMaxLength));\n    }\n\n    if (this.component.valueInfo.requiredValue) {\n      validators.push(Validators.required);\n    }\n    this.inputValueControl = new FormControl(null, validators);\n\n    if (this.component.valueInfo.defaultValue != null) {\n      if (this.inputValueControl.getRawValue() == '') {\n        this.setValueUIAndModel(this.component.valueInfo.defaultValue);\n      }\n    }\n    if (this.handlerContext && this.handlerContext.readOnlyMode) {\n      this.readOnlyMode = this.handlerContext.readOnlyMode;\n      if (this.readOnlyMode) {\n        this.checkHTMLContent();\n      }\n    }\n  }\n\n  @Input() set componentToRender(componentToRender: FieldComponent) {\n    this.component = componentToRender;\n    this.activeComponentRegistry.registerComponent(this.component, this);\n  }\n\n  checkHTMLContent() {\n    const label = this.cds.getRenderingLabelForComponent(this.component);\n    if (label && label.toUpperCase().indexOf('HTML') !== -1) {\n      this.isRichText = true;\n    }\n  }\n  inputChanged($event: Event): void {\n    let val = ($event.target as HTMLTextAreaElement).value;\n    if (val.length === 0) {\n      val = null;\n    }\n    this.handlerContext.changeValue(this.component, val);\n  }\n\n  setCurrentValue(currentValue: any): void {\n    if (this.readOnlyMode) {\n      if (this.checkOrcid(currentValue)) {\n        this.isOrcid = true;\n        this.originalValue = currentValue as string;\n        currentValue = currentValue.split('/').pop();\n      } else if (this.checkRor(currentValue)) {\n        this.isRor = true;\n        this.originalValue = currentValue as string;\n        currentValue = currentValue.split('/').pop();\n      }\n    }\n    this.inputValueControl.setValue(currentValue);\n  }\n\n  checkOrcid(value): boolean {\n    const pattern = CedarEmbeddableMetadataEditorComponent.orcidPrefix;\n    const orcidReg = new RegExp(`^${pattern}`);\n    return orcidReg.test(value);\n  }\n\n  checkRor(value): boolean {\n    const pattern = CedarEmbeddableMetadataEditorComponent.rorPrefix;\n    const orcidReg = new RegExp(`^${pattern}`);\n    return orcidReg.test(value);\n  }\n  clearValue(): void {\n    this.setValueUIAndModel(null);\n  }\n\n  private setValueUIAndModel(value: string): void {\n    this.inputValueControl.setValue(value);\n    this.handlerContext.changeValue(this.component, value);\n  }\n\n  getCharCountHint(): string {\n    let len = 0;\n    if (this.inputValueControl.value != null) {\n      len = this.inputValueControl.value.length;\n    }\n    let s = '' + len;\n    let min = null;\n    let max = null;\n    if (this.component.valueInfo.minLength != null) {\n      min = this.component.valueInfo.minLength;\n    }\n    if (this.component.valueInfo.maxLength != null) {\n      max = this.component.valueInfo.maxLength;\n    }\n    if (min != null || max != null) {\n      s += ' / ';\n      if (min != null) {\n        s += min + ' ';\n      }\n      s += ' - ';\n      if (max != null) {\n        s += max;\n      }\n    }\n    return s;\n  }\n\n  goToLink() {\n    window.open(this.originalValue, '_blank');\n  }\n\n  protected readonly window = window;\n}\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { ComponentDataService } from '../../../shared/service/component-data.service';\nimport { CedarUIComponent } from '../../../shared/models/ui/cedar-ui-component.model';\nimport { ActiveComponentRegistryService } from '../../../shared/service/active-component-registry.service';\nimport { HandlerContext } from '../../../shared/util/handler-context';\nimport { StaticFieldComponent } from '../../../shared/models/static/static-field-component.model';\n\n@Component({\n  selector: 'app-cedar-static-image',\n  templateUrl: './cedar-static-image.component.html',\n  styleUrls: ['./cedar-static-image.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class CedarStaticImageComponent extends CedarUIComponent implements OnInit {\n  component: StaticFieldComponent;\n  @Input() handlerContext: HandlerContext;\n\n  constructor(\n    fb: FormBuilder,\n    public cds: ComponentDataService,\n    private activeComponentRegistry: ActiveComponentRegistryService,\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {}\n\n  @Input() set componentToRender(componentToRender: StaticFieldComponent) {\n    this.component = componentToRender;\n    this.activeComponentRegistry.registerComponent(this.component, this);\n  }\n\n  setCurrentValue(currentValue: any): void {\n    // DO NOTHING\n  }\n}\n","import { Component, Injectable, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { DataContext } from '../../../shared/util/data-context';\nimport { MatPaginatorIntl } from '@angular/material/paginator';\nimport { PageBreakPaginatorService } from '../../../shared/service/page-break-paginator.service';\n\n@Injectable()\nexport class CustomMatPaginatorIntl extends MatPaginatorIntl {\n  getRangeLabel = (page: number, pageSize: number, length: number) => {\n    return '';\n  };\n}\n\n@Component({\n  selector: 'app-cedar-static-page-break',\n  templateUrl: './cedar-static-page-break.component.html',\n  styleUrls: ['./cedar-static-page-break.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  providers: [{ provide: MatPaginatorIntl, useClass: CustomMatPaginatorIntl }],\n})\nexport class CedarStaticPageBreakComponent implements OnInit {\n  @Input() dataContext: DataContext;\n  @Input() pageBreakPaginatorService: PageBreakPaginatorService;\n\n  constructor() {}\n\n  ngOnInit(): void {}\n\n  paginatorChanged(event): void {\n    this.pageBreakPaginatorService.setPageNumberAndGet(event.pageIndex);\n  }\n}\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { StaticFieldComponent } from '../../../shared/models/static/static-field-component.model';\nimport { CedarUIComponent } from '../../../shared/models/ui/cedar-ui-component.model';\nimport { ActiveComponentRegistryService } from '../../../shared/service/active-component-registry.service';\nimport { HandlerContext } from '../../../shared/util/handler-context';\n\n@Component({\n  selector: 'app-cedar-static-rich-text',\n  templateUrl: './cedar-static-rich-text.component.html',\n  styleUrls: ['./cedar-static-rich-text.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class CedarStaticRichTextComponent extends CedarUIComponent implements OnInit {\n  component: StaticFieldComponent;\n  @Input() handlerContext: HandlerContext;\n\n  constructor(private activeComponentRegistry: ActiveComponentRegistryService) {\n    super();\n  }\n\n  ngOnInit(): void {}\n\n  @Input() set componentToRender(componentToRender: StaticFieldComponent) {\n    this.component = componentToRender;\n    this.activeComponentRegistry.registerComponent(this.component, this);\n  }\n\n  setCurrentValue(currentValue: any): void {\n    // not applicable to rich text component\n  }\n}\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { ComponentDataService } from '../../../shared/service/component-data.service';\nimport { CedarUIComponent } from '../../../shared/models/ui/cedar-ui-component.model';\nimport { ActiveComponentRegistryService } from '../../../shared/service/active-component-registry.service';\nimport { HandlerContext } from '../../../shared/util/handler-context';\nimport { StaticFieldComponent } from '../../../shared/models/static/static-field-component.model';\n\n@Component({\n  selector: 'app-cedar-static-section-break',\n  templateUrl: './cedar-static-section-break.component.html',\n  styleUrls: ['./cedar-static-section-break.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class CedarStaticSectionBreakComponent extends CedarUIComponent implements OnInit {\n  component: StaticFieldComponent;\n  @Input() handlerContext: HandlerContext;\n\n  constructor(\n    fb: FormBuilder,\n    public cds: ComponentDataService,\n    private activeComponentRegistry: ActiveComponentRegistryService,\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {}\n\n  @Input() set componentToRender(componentToRender: StaticFieldComponent) {\n    this.component = componentToRender;\n    this.activeComponentRegistry.registerComponent(this.component, this);\n  }\n\n  setCurrentValue(currentValue: any): void {\n    // DO NOTHING\n  }\n}\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { ComponentDataService } from '../../../shared/service/component-data.service';\nimport { CedarUIComponent } from '../../../shared/models/ui/cedar-ui-component.model';\nimport { ActiveComponentRegistryService } from '../../../shared/service/active-component-registry.service';\nimport { HandlerContext } from '../../../shared/util/handler-context';\nimport { StaticFieldComponent } from '../../../shared/models/static/static-field-component.model';\n\n@Component({\n  selector: 'app-cedar-static-youtube',\n  templateUrl: './cedar-static-youtube.component.html',\n  styleUrls: ['./cedar-static-youtube.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class CedarStaticYoutubeComponent extends CedarUIComponent implements OnInit {\n  component: StaticFieldComponent;\n  @Input() handlerContext: HandlerContext;\n  videoHeight: number = null;\n  videoWidth: number = null;\n\n  constructor(\n    fb: FormBuilder,\n    public cds: ComponentDataService,\n    private activeComponentRegistry: ActiveComponentRegistryService,\n  ) {\n    super();\n  }\n\n  ngOnInit(): void {}\n\n  @Input() set componentToRender(componentToRender: StaticFieldComponent) {\n    this.component = componentToRender;\n    this.activeComponentRegistry.registerComponent(this.component, this);\n  }\n\n  setCurrentValue(currentValue: any): void {\n    // DO NOTHING\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { MAT_FORM_FIELD_DEFAULT_OPTIONS, MatFormFieldModule } from '@angular/material/form-field';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { HttpClientModule } from '@angular/common/http';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { MatCardModule } from '@angular/material/card';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatRadioModule } from '@angular/material/radio';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { ClipboardModule } from '@angular/cdk/clipboard';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatNativeDateModule, MatRippleModule } from '@angular/material/core';\nimport { MatPaginatorModule } from '@angular/material/paginator';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { MatGridListModule } from '@angular/material/grid-list';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatSelectModule } from '@angular/material/select';\nimport {\n  NgxMatDatetimePickerModule,\n  NgxMatNativeDateModule,\n  NgxMatTimepickerModule,\n} from '@angular-material-components/datetime-picker';\nimport { NgSelectModule } from '@ng-select/ng-select';\nimport { CedarInputEmailComponent } from './components/cedar-input-email/cedar-input-email.component';\nimport { CedarInputCheckboxComponent } from './components/cedar-input-checkbox/cedar-input-checkbox.component';\nimport { CedarInputSelectComponent } from './components/cedar-input-select/cedar-input-select.component';\nimport { CedarInputAttributeValueComponent } from './components/cedar-input-attribute-value/cedar-input-attribute-value.component';\nimport { CedarInputMultipleChoiceComponent } from './components/cedar-input-multiple-choice/cedar-input-multiple-choice.component';\nimport { CedarInputDatetimeComponent } from './components/cedar-input-datetime/cedar-input-datetime.component';\nimport { CedarInputLinkComponent } from './components/cedar-input-link/cedar-input-link.component';\nimport { CedarInputNumericComponent } from './components/cedar-input-numeric/cedar-input-numeric.component';\nimport { CedarInputTextComponent } from './components/cedar-input-text/cedar-input-text.component';\nimport { CedarInputPhoneComponent } from './components/cedar-input-phone/cedar-input-phone.component';\nimport { CedarStaticRichTextComponent } from './components/cedar-static-rich-text/cedar-static-rich-text.component';\nimport { CedarStaticSectionBreakComponent } from './components/cedar-static-section-break/cedar-static-section-break.component';\nimport { CedarStaticPageBreakComponent } from './components/cedar-static-page-break/cedar-static-page-break.component';\nimport { CedarStaticImageComponent } from './components/cedar-static-image/cedar-static-image.component';\nimport { CedarStaticYoutubeComponent } from './components/cedar-static-youtube/cedar-static-youtube.component';\nimport { YouTubePlayerModule } from '@angular/youtube-player';\nimport { CedarFooBarComponent } from './components/cedar-foo-bar/cedar-foo-bar.component';\nimport { CedarInputControlledComponent } from './components/cedar-input-controlled/cedar-input-controlled.component';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { EscapeHtmlPipe } from '../shared/pipe/keep-html.pipe';\nimport { DatePickerComponent } from '../shared/components/date-picker/date-picker.component';\nimport { TimezonePickerComponent } from '../shared/components/timezone-picker/timezone-picker.component';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { NgOptimizedImage } from '@angular/common';\n\n@NgModule({\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    BrowserAnimationsModule,\n    MatAutocompleteModule,\n    MatCardModule,\n    MatFormFieldModule,\n    ReactiveFormsModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatCheckboxModule,\n    MatRadioModule,\n    MatIconModule,\n    MatExpansionModule,\n    MatButtonModule,\n    MatTooltipModule,\n    ClipboardModule,\n    MatToolbarModule,\n    MatRippleModule,\n    MatPaginatorModule,\n    MatChipsModule,\n    MatGridListModule,\n    MatDatepickerModule,\n    MatNativeDateModule,\n    NgxMatDatetimePickerModule,\n    NgxMatTimepickerModule,\n    NgxMatNativeDateModule,\n    NgSelectModule,\n    YouTubePlayerModule,\n    FormsModule,\n    MatSelectModule,\n    TranslateModule,\n    NgOptimizedImage,\n  ],\n  declarations: [\n    CedarFooBarComponent,\n    CedarInputTextComponent,\n    CedarInputPhoneComponent,\n    CedarInputControlledComponent,\n    CedarInputNumericComponent,\n    CedarInputEmailComponent,\n    CedarInputCheckboxComponent,\n    CedarInputSelectComponent,\n    CedarInputAttributeValueComponent,\n    CedarInputMultipleChoiceComponent,\n    CedarInputDatetimeComponent,\n    CedarInputLinkComponent,\n    CedarStaticRichTextComponent,\n    CedarStaticSectionBreakComponent,\n    CedarStaticPageBreakComponent,\n    CedarStaticImageComponent,\n    CedarStaticYoutubeComponent,\n    DatePickerComponent,\n    TimezonePickerComponent,\n    EscapeHtmlPipe,\n  ],\n  providers: [\n    MatDatepickerModule,\n    MatNativeDateModule,\n    { provide: MAT_FORM_FIELD_DEFAULT_OPTIONS, useValue: { appearance: 'outline' } },\n  ],\n  exports: [\n    // FooBar is needed because the first component gets exported without style otherwise\n    CedarFooBarComponent,\n    CedarInputTextComponent,\n    CedarInputPhoneComponent,\n    CedarInputControlledComponent,\n    CedarInputNumericComponent,\n    CedarInputEmailComponent,\n    CedarInputCheckboxComponent,\n    CedarInputSelectComponent,\n    CedarInputAttributeValueComponent,\n    CedarInputMultipleChoiceComponent,\n    CedarInputDatetimeComponent,\n    CedarInputLinkComponent,\n    CedarStaticRichTextComponent,\n    CedarStaticSectionBreakComponent,\n    CedarStaticPageBreakComponent,\n    CedarStaticImageComponent,\n    CedarStaticYoutubeComponent,\n    EscapeHtmlPipe,\n  ],\n})\nexport class InputTypesModule {}\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { CedarComponent } from '../../models/component/cedar-component.model';\nimport { ComponentDataService } from '../../service/component-data.service';\nimport { MultiComponent } from '../../models/component/multi-component.model';\nimport { ComponentTypeHandler } from '../../handler/component-type.handler';\nimport { SingleFieldComponent } from '../../models/field/single-field-component.model';\nimport { FieldComponent } from '../../models/component/field-component.model';\nimport { MultiFieldComponent } from '../../models/field/multi-field-component.model';\n\n@Component({\n  selector: 'app-cedar-component-header',\n  templateUrl: './cedar-component-header.component.html',\n  styleUrls: ['./cedar-component-header.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class CedarComponentHeaderComponent implements OnInit {\n  component: CedarComponent;\n  multiComponent: MultiComponent;\n  shouldRenderRequiredMark = false;\n  @Input() readOnlyMode;\n\n  constructor(public cds: ComponentDataService) {}\n\n  ngOnInit(): void {}\n\n  @Input() set componentToRender(componentToRender: CedarComponent) {\n    this.component = componentToRender;\n    if (ComponentTypeHandler.isMulti(componentToRender)) {\n      this.multiComponent = componentToRender as MultiComponent;\n      if (this.multiComponent instanceof MultiFieldComponent) {\n        const _multiToFieldComp = this.multiComponent as MultiFieldComponent;\n        if (_multiToFieldComp.valueInfo.requiredValue) {\n          this.shouldRenderRequiredMark = true;\n        }\n      }\n    } else {\n      this.multiComponent = null;\n    }\n    if (this.component instanceof SingleFieldComponent) {\n      const fieldComp = this.component as unknown as FieldComponent;\n      if (fieldComp.valueInfo.requiredValue) {\n        this.shouldRenderRequiredMark = true;\n      }\n    }\n  }\n}\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { CedarComponent } from '../../models/component/cedar-component.model';\nimport { ComponentDataService } from '../../service/component-data.service';\n\n@Component({\n  selector: 'app-cedar-component-linked-static-field-header',\n  templateUrl: './cedar-component-linked-static-field-header.component.html',\n  styleUrls: ['./cedar-component-linked-static-field-header.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class CedarComponentLinkedStaticFieldHeaderComponent implements OnInit {\n  component: CedarComponent;\n\n  constructor(public cds: ComponentDataService) {}\n\n  ngOnInit(): void {}\n\n  @Input() set componentToRender(componentToRender: CedarComponent) {\n    this.component = componentToRender;\n  }\n}\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { CedarComponent } from '../../models/component/cedar-component.model';\nimport { ElementComponent } from '../../models/component/element-component.model';\nimport { SingleElementComponent } from '../../models/element/single-element-component.model';\nimport { MultiElementComponent } from '../../models/element/multi-element-component.model';\nimport { CedarTemplate } from '../../models/template/cedar-template.model';\nimport { FieldComponent } from '../../models/component/field-component.model';\nimport { MultiFieldComponent } from '../../models/field/multi-field-component.model';\nimport { SingleFieldComponent } from '../../models/field/single-field-component.model';\nimport { MultiInfo } from '../../models/info/multi-info.model';\nimport { HandlerContext } from '../../util/handler-context';\nimport { StaticFieldComponent } from '../../models/static/static-field-component.model';\nimport { InputType } from '../../models/input-type.model';\nimport { MultiComponent } from '../../models/component/multi-component.model';\nimport { PageBreakPaginatorService } from '../../service/page-break-paginator.service';\n\n@Component({\n  selector: 'app-cedar-component-renderer',\n  templateUrl: './cedar-component-renderer.component.html',\n  styleUrls: ['./cedar-component-renderer.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class CedarComponentRendererComponent implements OnInit {\n  protected readonly InputType = InputType;\n\n  private component: CedarComponent;\n  iterableComponent: ElementComponent;\n  nonIterableComponent: FieldComponent;\n  iterableAsMultiComponent: MultiComponent;\n  staticComponent: StaticFieldComponent;\n  multiInfo: MultiInfo;\n  panelOpenState: boolean;\n  @Input() handlerContext: HandlerContext;\n  @Input() showStaticText: boolean;\n  @Input() showAllMultiInstanceValues: boolean;\n  @Input() pageBreakPaginatorService: PageBreakPaginatorService;\n  readOnlyMode;\n  // tslint:disable-next-line:variable-name\n  private _allExpanded = false;\n  @Input()\n  get allExpanded(): boolean {\n    return this._allExpanded;\n  }\n\n  set allExpanded(allExpanded: boolean) {\n    this.panelOpenState = allExpanded;\n    this._allExpanded = allExpanded;\n  }\n\n  constructor() {}\n\n  ngOnInit(): void {\n    if (this.handlerContext && this.handlerContext.readOnlyMode) {\n      this.readOnlyMode = this.handlerContext.readOnlyMode;\n    }\n  }\n\n  @Input() set componentToRender(componentToRender: CedarComponent) {\n    this.component = componentToRender;\n    this.iterableComponent = null;\n    this.nonIterableComponent = null;\n    this.iterableAsMultiComponent = null;\n    if (\n      componentToRender instanceof SingleElementComponent ||\n      componentToRender instanceof MultiElementComponent ||\n      componentToRender instanceof CedarTemplate\n    ) {\n      const elementComponent = componentToRender as ElementComponent;\n      if (!elementComponent.hidden) {\n        this.iterableComponent = componentToRender as ElementComponent;\n        if (componentToRender instanceof MultiElementComponent) {\n          this.multiInfo = (componentToRender as MultiElementComponent).multiInfo;\n        }\n      }\n    }\n    if (componentToRender instanceof SingleFieldComponent || componentToRender instanceof MultiFieldComponent) {\n      const fieldComponent = componentToRender as FieldComponent;\n      if (!fieldComponent.hidden) {\n        this.nonIterableComponent = componentToRender as FieldComponent;\n        if (componentToRender instanceof MultiFieldComponent) {\n          this.multiInfo = (componentToRender as MultiFieldComponent).multiInfo;\n        }\n      }\n    }\n    if (componentToRender instanceof StaticFieldComponent) {\n      this.staticComponent = componentToRender as StaticFieldComponent;\n    }\n    if (this.iterableComponent != null && this.iterableComponent.isMulti()) {\n      this.iterableAsMultiComponent = this.iterableComponent as unknown as MultiComponent;\n    }\n  }\n\n  shouldRenderContentOfIterable(iterableComponent: ElementComponent): boolean {\n    if (iterableComponent.isMulti()) {\n      const multiElement: MultiElementComponent = iterableComponent as MultiElementComponent;\n      if (!this.handlerContext.multiInstanceObjectService.hasMultiInstances(multiElement)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  shouldRenderContentOfNonIterable(nonIterableComponent: FieldComponent): boolean {\n    if (nonIterableComponent.isMulti()) {\n      const multiField: MultiFieldComponent = nonIterableComponent as MultiFieldComponent;\n      if (!this.handlerContext.multiInstanceObjectService.hasMultiInstances(multiField)) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n","import { Component, Input, OnDestroy, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { ControlledFieldDataService } from '../../service/controlled-field-data.service';\nimport { MessageHandlerService } from '../../service/message-handler.service';\nimport { Subject } from 'rxjs';\nimport { SampleTemplatesService } from '../sample-templates/sample-templates.service';\nimport { map, withLatestFrom } from 'rxjs/operators';\nimport { HandlerContext } from '../../util/handler-context';\nimport { ActiveComponentRegistryService } from '../../service/active-component-registry.service';\nimport { TranslateService } from '@ngx-translate/core';\nimport { CedarEmbeddableMetadataEditorComponent } from '../cedar-embeddable-metadata-editor/cedar-embeddable-metadata-editor.component';\nimport { DataContext } from '../../util/data-context';\nimport { HttpStatusCode } from '@angular/common/http';\nimport { GlobalSettingsContextService } from '../../service/global-settings-context.service';\n\n@Component({\n  selector: 'app-cedar-embeddable-metadata-editor-wrapper',\n  templateUrl: './cedar-embeddable-metadata-editor-wrapper.component.html',\n  styleUrls: ['./cedar-embeddable-metadata-editor-wrapper.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class CedarEmbeddableMetadataEditorWrapperComponent implements OnInit, OnDestroy {\n  innerConfig: object = null;\n  private initialized = false;\n  private configSet = false;\n\n  templateJson: object = null;\n  instanceJson: object = null;\n  templateAndInstanceJson: object = null;\n  sampleTemplateLoaderObject = null;\n  showSpinnerBeforeInit = true;\n  protected onDestroySubject = new Subject<void>();\n  private loadedTemplateJson: object = null;\n  private loadedMetadata: object = null;\n\n  readonly dataContext: DataContext = null;\n  readonly handlerContext: HandlerContext = null;\n\n  private defaultLanguage = GlobalSettingsContextService.DEFAULT_LANGUAGE;\n  private fallbackLanguage = GlobalSettingsContextService.DEFAULT_LANGUAGE;\n\n  @ViewChild(CedarEmbeddableMetadataEditorComponent) editorComponent: CedarEmbeddableMetadataEditorComponent;\n\n  constructor(\n    private controlledFieldDataService: ControlledFieldDataService,\n    private messageHandlerService: MessageHandlerService,\n    private sampleTemplateService: SampleTemplatesService,\n    private activeComponentRegistry: ActiveComponentRegistryService,\n    private translateService: TranslateService,\n    private messagingService: MessageHandlerService,\n    private globalSettingsContextService: GlobalSettingsContextService,\n  ) {\n    this.sampleTemplateLoaderObject = this;\n\n    this.dataContext = new DataContext();\n    this.handlerContext = new HandlerContext(this.dataContext, this.messagingService);\n  }\n\n  ngOnInit(): void {\n    const { templateJson$, metadataJson$ } = this.sampleTemplateService;\n\n    const metadataAndTemplate = metadataJson$.pipe(\n      withLatestFrom(templateJson$),\n      map(([metadataJson, templateJson]) => {\n        return { metadataJson, templateJson };\n      }),\n    );\n\n    metadataAndTemplate.subscribe((values) => {\n      let { templateJson, metadataJson } = values;\n      if (templateJson && metadataJson) {\n        templateJson = Object.values(templateJson)[0];\n        metadataJson = Object.values(metadataJson)[0];\n        if (templateJson && metadataJson) {\n          this.loadedTemplateJson = templateJson;\n          this.loadedMetadata = metadataJson;\n        } else if (templateJson) {\n          this.loadedTemplateJson = templateJson;\n          this.loadedMetadata = null;\n        } else if (metadataJson) {\n          this.loadedMetadata = metadataJson;\n        } else {\n          this.templateJson = null;\n          this.loadedMetadata = null;\n        }\n        this.triggerUpdateOnInjectedSampleData();\n      }\n    });\n    this.initialized = true;\n    this.doInitialize();\n  }\n\n  @Input() get currentMetadata(): object {\n    if (this.handlerContext) {\n      return JSON.parse(JSON.stringify(this.handlerContext.dataContext.instanceFullData));\n    }\n    return {};\n  }\n\n  @Input() set templateObject(template: object) {\n    this.templateJson = template;\n  }\n\n  @Input() set instanceObject(instance: object) {\n    this.instanceJson = instance;\n  }\n\n  @Input() set templateAndInstanceObject(templateAndInstance: object) {\n    this.templateAndInstanceJson = templateAndInstance;\n  }\n\n  @Input() get dataQualityReport(): object {\n    if (this.handlerContext) {\n      return JSON.parse(JSON.stringify(this.handlerContext.dataContext.dataQualityReport));\n    }\n    return {};\n  }\n\n  // TODO: revisit if this method is needed. The CEE should be agnostic of the environment, should expect the config to be injected\n  @Input() loadConfigFromURL(jsonURL, successHandler = null, errorHandler = null): void {\n    const that = this;\n    const xhr = new XMLHttpRequest();\n    xhr.onreadystatechange = () => {\n      if (xhr.readyState === XMLHttpRequest.DONE) {\n        if (xhr.status === HttpStatusCode.Ok) {\n          const jsonConfig = JSON.parse(xhr.responseText);\n          that.config = jsonConfig;\n\n          if (successHandler) {\n            successHandler(jsonConfig);\n          }\n        } else {\n          if (errorHandler) {\n            errorHandler(xhr);\n          }\n        }\n      }\n    };\n    xhr.open('GET', jsonURL, true);\n    xhr.send();\n  }\n\n  ngOnDestroy(): void {\n    this.onDestroySubject.next();\n    this.onDestroySubject.complete();\n  }\n\n  @Input() set config(value: object) {\n    this.messageHandlerService.trace('CEDAR Embeddable Editor config set to:' + JSON.stringify(value));\n\n    if (value != null) {\n      this.innerConfig = value;\n      this.configSet = true;\n      this.doInitialize();\n    }\n  }\n\n  @Input() set eventHandler(value: object) {\n    this.messageHandlerService.injectEventHandler(value);\n  }\n\n  private doInitialize(): void {\n    if (this.initialized && this.configSet) {\n      if (Object.hasOwn(this.innerConfig, CedarEmbeddableMetadataEditorComponent.LOAD_SAMPLE_TEMPLATE_NAME)) {\n        this.sampleTemplateService.loadTemplate(\n          this.innerConfig[CedarEmbeddableMetadataEditorComponent.TEMPLATE_LOCATION_PREFIX],\n          this.innerConfig[CedarEmbeddableMetadataEditorComponent.LOAD_SAMPLE_TEMPLATE_NAME],\n        );\n      }\n      if (Object.hasOwn(this.innerConfig, CedarEmbeddableMetadataEditorComponent.TERMINOLOGY_INTEGRATED_SEARCH_URL)) {\n        const integratedSearchUrl =\n          this.innerConfig[CedarEmbeddableMetadataEditorComponent.TERMINOLOGY_INTEGRATED_SEARCH_URL];\n        this.controlledFieldDataService.setTerminologyIntegratedSearchUrl(integratedSearchUrl);\n      }\n      if (Object.hasOwn(this.innerConfig, CedarEmbeddableMetadataEditorComponent.SHOW_SPINNER_BEFORE_INIT)) {\n        this.showSpinnerBeforeInit = this.innerConfig[CedarEmbeddableMetadataEditorComponent.SHOW_SPINNER_BEFORE_INIT];\n      }\n\n      if (Object.hasOwn(this.innerConfig, CedarEmbeddableMetadataEditorComponent.LANGUAGE_MAP_PATH_PREFIX)) {\n        const languageMapPathPrefix = this.innerConfig[CedarEmbeddableMetadataEditorComponent.LANGUAGE_MAP_PATH_PREFIX];\n        this.globalSettingsContextService.languageMapPathPrefix = languageMapPathPrefix;\n      }\n      if (Object.hasOwn(this.innerConfig, CedarEmbeddableMetadataEditorComponent.FALLBACK_LANGUAGE)) {\n        this.fallbackLanguage = this.innerConfig[CedarEmbeddableMetadataEditorComponent.FALLBACK_LANGUAGE];\n      } else {\n        this.messagingService.traceGroup(\n          'language',\n          '\"fallbackLanguage\" not set, using default: \"' + this.fallbackLanguage + '\"',\n        );\n      }\n      if (Object.hasOwn(this.innerConfig, CedarEmbeddableMetadataEditorComponent.DEFAULT_LANGUAGE)) {\n        this.defaultLanguage = this.innerConfig[CedarEmbeddableMetadataEditorComponent.DEFAULT_LANGUAGE];\n      } else {\n        this.messagingService.traceGroup(\n          'language',\n          '\"defaultLanguage\" not set, using default: \"' + this.defaultLanguage + '\"',\n        );\n      }\n      if (Object.hasOwn(this.innerConfig, CedarEmbeddableMetadataEditorComponent.READ_ONLY_MODE)) {\n        const mode = this.innerConfig[CedarEmbeddableMetadataEditorComponent.READ_ONLY_MODE];\n        if (mode) {\n          this.handlerContext.enableReadOnlyMode();\n        }\n      }\n      if (Object.hasOwn(this.innerConfig, CedarEmbeddableMetadataEditorComponent.HIDE_EMPTY_FIELDS)) {\n        // Hiding empty fields is only allowed in ReadOnly Mode\n        const hideEmptyFields: boolean = this.innerConfig[CedarEmbeddableMetadataEditorComponent.HIDE_EMPTY_FIELDS];\n        if (this.handlerContext.readOnlyMode && hideEmptyFields) {\n          this.handlerContext.enableEmptyFieldHiding();\n        }\n      }\n      this.translateService.setDefaultLang(this.fallbackLanguage);\n      this.translateService.use(this.defaultLanguage);\n    }\n  }\n\n  editorDataReady(): boolean {\n    return this.innerConfig != null && (this.templateJson != null || this.templateAndInstanceJson != null);\n  }\n\n  private triggerUpdateOnInjectedSampleData(): void {\n    if (this.loadedTemplateJson != null && this.loadedMetadata != null) {\n      this.templateAndInstanceObject = {\n        templateObject: this.loadedTemplateJson,\n        instanceObject: this.loadedMetadata,\n      };\n      return;\n    }\n    if (this.loadedTemplateJson != null) {\n      this.handlerContext.dataContext.instanceExtractData = null;\n      this.handlerContext.dataContext.instanceFullData = null;\n      this.templateObject = this.loadedTemplateJson;\n    }\n    if (this.loadedMetadata !== null) {\n      this.instanceObject = this.loadedMetadata;\n    }\n  }\n}\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { NullTemplate } from '../../models/template/null-template.model';\nimport { DataContext } from '../../util/data-context';\nimport { HandlerContext } from '../../util/handler-context';\nimport { PageBreakPaginatorService } from '../../service/page-break-paginator.service';\nimport { ActiveComponentRegistryService } from '../../service/active-component-registry.service';\nimport { DataObjectUtil } from '../../util/data-object-util';\nimport { MultiInstanceObjectHandler } from '../../handler/multi-instance-object.handler';\nimport { MessageHandlerService } from '../../service/message-handler.service';\n\n@Component({\n  selector: 'app-cedar-embeddable-metadata-editor',\n  templateUrl: './cedar-embeddable-metadata-editor.component.html',\n  styleUrls: ['./cedar-embeddable-metadata-editor.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class CedarEmbeddableMetadataEditorComponent implements OnInit {\n  private static INNER_VERSION = '2024-07-09 04:21:00';\n\n  private static SHOW_TEMPLATE_RENDERING = 'showTemplateRenderingRepresentation';\n  private static SHOW_MULTI_INSTANCE = 'showMultiInstanceInfo';\n  private static SHOW_TEMPLATE_SOURCE = 'showTemplateSourceData';\n  private static SHOW_INSTANCE_CORE = 'showInstanceDataCore';\n  private static SHOW_INSTANCE_FULL = 'showInstanceDataFull';\n  private static SHOW_DATA_QUALITY_REPORT = 'showDataQualityReport';\n  private static SHOW_SAMPLE_TEMPLATE_LINKS = 'showSampleTemplateLinks';\n\n  private static SHOW_HEADER = 'showHeader';\n  private static SHOW_FOOTER = 'showFooter';\n\n  private static EXPANDED_TEMPLATE_RENDERING = 'expandedTemplateRenderingRepresentation';\n  private static EXPANDED_MULTI_INSTANCE = 'expandedMultiInstanceInfo';\n  private static EXPANDED_TEMPLATE_SOURCE = 'expandedTemplateSourceData';\n  private static EXPANDED_INSTANCE_CORE = 'expandedInstanceDataCore';\n  private static EXPANDED_INSTANCE_FULL = 'expandedInstanceDataFull';\n  private static EXPANDED_DATA_QUALITY_REPORT = 'expandedDataQualityReport';\n  private static EXPANDED_SAMPLE_TEMPLATE_LINKS = 'expandedSampleTemplateLinks';\n\n  private static COLLAPSE_STATIC_COMPONENTS = 'collapseStaticComponents';\n  private static SHOW_ALL_MULTI_INSTANCE_VALUES = 'showAllMultiInstanceValues';\n\n  private static SHOW_STATIC_TEXT = 'showStaticText';\n\n  static TEMPLATE_LOCATION_PREFIX = 'sampleTemplateLocationPrefix';\n  static LOAD_SAMPLE_TEMPLATE_NAME = 'loadSampleTemplateName';\n  static TERMINOLOGY_INTEGRATED_SEARCH_URL = 'terminologyIntegratedSearchUrl';\n  static SHOW_SPINNER_BEFORE_INIT = 'showSpinnerBeforeInit';\n\n  static FALLBACK_LANGUAGE = 'fallbackLanguage';\n  static DEFAULT_LANGUAGE = 'defaultLanguage';\n  static LANGUAGE_MAP_PATH_PREFIX = 'languageMapPathPrefix';\n  static SHOW_TEMPLATE_DESCRIPTION: string = 'showTemplateDescription';\n\n  static READ_ONLY_MODE: string = 'readOnlyMode';\n  static HIDE_EMPTY_FIELDS: string = 'hideEmptyFields';\n\n  private static IRI_PREFIX = 'iriPrefix';\n  private static BIO_PORTAL_PREFIX = 'bioPortalPrefix';\n  private static ORCID_PREFIX = 'orcidPrefix';\n  private static ROR_PREFIX = 'rorPrefix';\n\n  dataContext: DataContext = null;\n  handlerContext: HandlerContext = null;\n\n  pageBreakPaginatorService: PageBreakPaginatorService = null;\n\n  @Input() sampleTemplateLoaderObject: any = null;\n\n  showTemplateRenderingRepresentation = false;\n  showMultiInstanceInfo = false;\n  showTemplateSourceData = true;\n  showInstanceDataCore = false;\n  showInstanceDataFull = true;\n  showDataQualityReport = false;\n  showSampleTemplateLinks = false;\n  showStaticText = true;\n\n  showHeader = false;\n  showFooter = false;\n\n  expandedTemplateRenderingRepresentation = false;\n  expandedMultiInstanceInfo = false;\n  expandedTemplateSourceData = false;\n  expandedInstanceDataCore = false;\n  expandedInstanceDataFull = false;\n  expandedDataQualityReport = false;\n  expandedSampleTemplateLinks = false;\n\n  collapseStaticComponents = false;\n  showAllMultiInstanceValues = true;\n  showTemplateDescription: boolean = false;\n  readOnlyMode = false;\n\n  static iriPrefix = 'https://repo.metadatacenter.org/';\n  static bioPortalPrefix = 'https://bioportal.bioontology.org/ontologies/';\n  static orcidPrefix = 'https://orcid.org/';\n  static rorPrefix = 'https://ror.org/';\n\n  private initDataFromInstanceQueue: Promise<void> = Promise.resolve();\n\n  allExpanded = true;\n\n  constructor(\n    private activeComponentRegistry: ActiveComponentRegistryService,\n    private messageHandlerService: MessageHandlerService,\n  ) {\n    this.messageHandlerService.trace('CEDAR Embeddable Editor ' + CedarEmbeddableMetadataEditorComponent.INNER_VERSION);\n  }\n\n  ngOnInit(): void {}\n\n  @Input() set dataContextObject(dataContext: DataContext) {\n    this.dataContext = dataContext;\n  }\n\n  @Input() set handlerContextObject(handlerContext: HandlerContext) {\n    this.handlerContext = handlerContext;\n    this.pageBreakPaginatorService = new PageBreakPaginatorService(this.activeComponentRegistry, this.handlerContext);\n  }\n\n  @Input() set config(value: object) {\n    if (value != null) {\n      if (Object.hasOwn(value, CedarEmbeddableMetadataEditorComponent.SHOW_TEMPLATE_RENDERING)) {\n        this.showTemplateRenderingRepresentation =\n          value[CedarEmbeddableMetadataEditorComponent.SHOW_TEMPLATE_RENDERING];\n      }\n      if (Object.hasOwn(value, CedarEmbeddableMetadataEditorComponent.SHOW_MULTI_INSTANCE)) {\n        this.showMultiInstanceInfo = value[CedarEmbeddableMetadataEditorComponent.SHOW_MULTI_INSTANCE];\n      }\n      if (Object.hasOwn(value, CedarEmbeddableMetadataEditorComponent.SHOW_TEMPLATE_SOURCE)) {\n        this.showTemplateSourceData = value[CedarEmbeddableMetadataEditorComponent.SHOW_TEMPLATE_SOURCE];\n      }\n      if (Object.hasOwn(value, CedarEmbeddableMetadataEditorComponent.SHOW_INSTANCE_CORE)) {\n        this.showInstanceDataCore = value[CedarEmbeddableMetadataEditorComponent.SHOW_INSTANCE_CORE];\n      }\n      if (Object.hasOwn(value, CedarEmbeddableMetadataEditorComponent.SHOW_INSTANCE_FULL)) {\n        this.showInstanceDataFull = value[CedarEmbeddableMetadataEditorComponent.SHOW_INSTANCE_FULL];\n      }\n      if (Object.hasOwn(value, CedarEmbeddableMetadataEditorComponent.SHOW_DATA_QUALITY_REPORT)) {\n        this.showDataQualityReport = value[CedarEmbeddableMetadataEditorComponent.SHOW_DATA_QUALITY_REPORT];\n      }\n      if (Object.hasOwn(value, CedarEmbeddableMetadataEditorComponent.SHOW_SAMPLE_TEMPLATE_LINKS)) {\n        this.showSampleTemplateLinks = value[CedarEmbeddableMetadataEditorComponent.SHOW_SAMPLE_TEMPLATE_LINKS];\n      }\n      if (Object.hasOwn(value, CedarEmbeddableMetadataEditorComponent.SHOW_FOOTER)) {\n        this.showFooter = value[CedarEmbeddableMetadataEditorComponent.SHOW_FOOTER];\n      }\n      if (Object.hasOwn(value, CedarEmbeddableMetadataEditorComponent.SHOW_HEADER)) {\n        this.showHeader = value[CedarEmbeddableMetadataEditorComponent.SHOW_HEADER];\n      }\n      if (Object.hasOwn(value, CedarEmbeddableMetadataEditorComponent.EXPANDED_TEMPLATE_RENDERING)) {\n        this.expandedTemplateRenderingRepresentation =\n          value[CedarEmbeddableMetadataEditorComponent.EXPANDED_TEMPLATE_RENDERING];\n      }\n      if (Object.hasOwn(value, CedarEmbeddableMetadataEditorComponent.EXPANDED_MULTI_INSTANCE)) {\n        this.expandedMultiInstanceInfo = value[CedarEmbeddableMetadataEditorComponent.EXPANDED_MULTI_INSTANCE];\n      }\n      if (Object.hasOwn(value, CedarEmbeddableMetadataEditorComponent.EXPANDED_TEMPLATE_SOURCE)) {\n        this.expandedTemplateSourceData = value[CedarEmbeddableMetadataEditorComponent.EXPANDED_TEMPLATE_SOURCE];\n      }\n      if (Object.hasOwn(value, CedarEmbeddableMetadataEditorComponent.EXPANDED_INSTANCE_CORE)) {\n        this.expandedInstanceDataCore = value[CedarEmbeddableMetadataEditorComponent.EXPANDED_INSTANCE_CORE];\n      }\n      if (Object.hasOwn(value, CedarEmbeddableMetadataEditorComponent.EXPANDED_INSTANCE_FULL)) {\n        this.expandedInstanceDataFull = value[CedarEmbeddableMetadataEditorComponent.EXPANDED_INSTANCE_FULL];\n      }\n      if (Object.hasOwn(value, CedarEmbeddableMetadataEditorComponent.EXPANDED_DATA_QUALITY_REPORT)) {\n        this.expandedDataQualityReport = value[CedarEmbeddableMetadataEditorComponent.EXPANDED_DATA_QUALITY_REPORT];\n      }\n      if (Object.hasOwn(value, CedarEmbeddableMetadataEditorComponent.EXPANDED_SAMPLE_TEMPLATE_LINKS)) {\n        this.expandedSampleTemplateLinks = value[CedarEmbeddableMetadataEditorComponent.EXPANDED_SAMPLE_TEMPLATE_LINKS];\n      }\n      if (Object.hasOwn(value, CedarEmbeddableMetadataEditorComponent.COLLAPSE_STATIC_COMPONENTS)) {\n        this.collapseStaticComponents = value[CedarEmbeddableMetadataEditorComponent.COLLAPSE_STATIC_COMPONENTS];\n      }\n      if (Object.hasOwn(value, CedarEmbeddableMetadataEditorComponent.SHOW_STATIC_TEXT)) {\n        this.showStaticText = value[CedarEmbeddableMetadataEditorComponent.SHOW_STATIC_TEXT];\n      }\n      if (Object.hasOwn(value, CedarEmbeddableMetadataEditorComponent.IRI_PREFIX)) {\n        CedarEmbeddableMetadataEditorComponent.iriPrefix = value[CedarEmbeddableMetadataEditorComponent.IRI_PREFIX];\n      }\n      if (Object.hasOwn(value, CedarEmbeddableMetadataEditorComponent.SHOW_ALL_MULTI_INSTANCE_VALUES)) {\n        this.showAllMultiInstanceValues = value[CedarEmbeddableMetadataEditorComponent.SHOW_ALL_MULTI_INSTANCE_VALUES];\n      }\n      if (Object.hasOwn(value, CedarEmbeddableMetadataEditorComponent.SHOW_TEMPLATE_DESCRIPTION)) {\n        this.showTemplateDescription = value[CedarEmbeddableMetadataEditorComponent.SHOW_TEMPLATE_DESCRIPTION];\n      }\n      if (Object.hasOwn(value, CedarEmbeddableMetadataEditorComponent.BIO_PORTAL_PREFIX)) {\n        CedarEmbeddableMetadataEditorComponent.bioPortalPrefix =\n          value[CedarEmbeddableMetadataEditorComponent.BIO_PORTAL_PREFIX];\n      }\n      if (Object.hasOwn(value, CedarEmbeddableMetadataEditorComponent.ORCID_PREFIX)) {\n        CedarEmbeddableMetadataEditorComponent.orcidPrefix = value[CedarEmbeddableMetadataEditorComponent.ORCID_PREFIX];\n      }\n      if (Object.hasOwn(value, CedarEmbeddableMetadataEditorComponent.ROR_PREFIX)) {\n        CedarEmbeddableMetadataEditorComponent.rorPrefix = value[CedarEmbeddableMetadataEditorComponent.ROR_PREFIX];\n      }\n    }\n  }\n\n  @Input() set templateJsonObject(value: object) {\n    if (value != null) {\n      if (this.handlerContext.hideEmptyFields) {\n        this.messageHandlerService.trace('HideEmptyFields can not be used and set to false');\n        this.handlerContext.hideEmptyFields = false;\n      }\n      this.dataContext.setInputTemplate(\n        value,\n        this.handlerContext,\n        this.pageBreakPaginatorService,\n        this.collapseStaticComponents,\n      );\n      setTimeout(() => {\n        this.initDataFromInstance(this.dataContext.instanceFullData)\n          .then(() => {})\n          .catch(() => {});\n      });\n    }\n  }\n\n  @Input() set instanceJsonObject(value: object) {\n    if (value != null) {\n      if (this.handlerContext.hideEmptyFields) {\n        this.messageHandlerService.trace('HideEmptyFields can not be used and set to false');\n        this.handlerContext.hideEmptyFields = false;\n      }\n      setTimeout(() => {\n        this.initDataFromInstance(value)\n          .then(() => {})\n          .catch(() => {});\n      });\n    }\n  }\n\n  @Input() set templateAndInstanceObject(templateAndInstance: object) {\n    if (templateAndInstance === null) {\n      return;\n    }\n    // TODO: an interface for templateAndInstance object\n    // @ts-ignore\n    const { templateObject, instanceObject } = templateAndInstance;\n    if (!templateObject) {\n      this.messageHandlerService.error('Template Object is missing.');\n      return;\n    } else if (!instanceObject) {\n      this.messageHandlerService.error('Instance Object is missing.');\n      return;\n    }\n    this.setDataContextWithInstance(instanceObject);\n    this.dataContext.setInputTemplate(\n      templateObject,\n      this.handlerContext,\n      this.pageBreakPaginatorService,\n      this.collapseStaticComponents,\n    );\n    setTimeout(() => {\n      this.initDataWithDataContext()\n        .then(() => {})\n        .catch(() => {});\n    });\n  }\n  private async initDataWithDataContext(): Promise<void> {\n    if (this.handlerContext) {\n      const dataContext = this.handlerContext.dataContext;\n      this.handlerContext.buildQualityReport();\n      return this.renderInstance(dataContext);\n    }\n  }\n  private async initDataFromInstance(instance: object): Promise<void> {\n    if (this.handlerContext) {\n      this.setDataContextWithInstance(instance);\n      const dataContext = this.handlerContext.dataContext;\n      const multiInstanceObjectService: MultiInstanceObjectHandler = this.handlerContext.multiInstanceObjectService;\n      dataContext.multiInstanceData = multiInstanceObjectService.buildNewOrFromMetadata(\n        dataContext.templateRepresentation,\n        dataContext.instanceExtractData,\n      );\n      return this.renderInstance(dataContext);\n    }\n  }\n  setDataContextWithInstance(instanceObject): void {\n    const instanceFullData = JSON.parse(JSON.stringify(instanceObject));\n    const instanceExtractData = JSON.parse(JSON.stringify(instanceObject));\n    DataObjectUtil.deleteContext(instanceExtractData);\n    const dataContext = this.handlerContext.dataContext;\n    dataContext.instanceFullData = instanceFullData;\n    dataContext.instanceExtractData = instanceExtractData;\n  }\n  private async renderInstance(dataContext): Promise<void> {\n    this.initDataFromInstanceQueue = this.initDataFromInstanceQueue.finally(async () => {\n      if (dataContext.templateRepresentation != null && dataContext.templateRepresentation.children != null) {\n        await new Promise<void>((resolve) => {\n          setTimeout(() => {\n            for (const childComponent of dataContext.templateRepresentation.children) {\n              this.activeComponentRegistry.updateViewToModel(childComponent, this.handlerContext);\n            }\n            resolve();\n          });\n        });\n      }\n    });\n    return this.initDataFromInstanceQueue;\n  }\n\n  dataAvailableForRender(): boolean {\n    return (\n      this.dataContext != null &&\n      this.dataContext.templateRepresentation != null &&\n      !(this.dataContext.templateRepresentation instanceof NullTemplate) &&\n      this.dataContext.multiInstanceData != null\n    );\n  }\n\n  openAll(): void {\n    this.allExpanded = true;\n  }\n\n  closeAll(): void {\n    this.allExpanded = false;\n  }\n  launchMetadataCenter() {\n    window.open('https://metadatacenter.org/', '_blank');\n  }\n}\n","import { Component, DoCheck, EventEmitter, Input, OnInit, Output, ViewEncapsulation } from '@angular/core';\nimport { MultiComponent } from '../../models/component/multi-component.model';\nimport { PageEvent } from '@angular/material/paginator';\nimport { ActiveComponentRegistryService } from '../../service/active-component-registry.service';\nimport { MultiInstanceObjectInfo } from '../../models/info/multi-instance-object-info.model';\nimport { HandlerContext } from '../../util/handler-context';\nimport { ComponentTypeHandler } from '../../handler/component-type.handler';\nimport { JsonSchema } from '../../models/json-schema.model';\nimport { MultiFieldComponent } from '../../models/field/multi-field-component.model';\nimport { InputType } from '../../models/input-type.model';\nimport { TranslateService } from '@ngx-translate/core';\nimport { MessageHandlerService } from '../../service/message-handler.service';\nimport { InstanceExtractData } from '../../models/instance-extract-data.model';\nimport { PageBreakPaginatorService } from '../../service/page-break-paginator.service';\n\n@Component({\n  selector: 'app-cedar-multi-pager',\n  templateUrl: './cedar-multi-pager.component.html',\n  styleUrls: ['./cedar-multi-pager.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class CedarMultiPagerComponent implements OnInit, DoCheck {\n  static readonly MAX_CHARACTERS_MULTI_VALUE = 30;\n\n  component: MultiComponent;\n  currentMultiInfo: MultiInstanceObjectInfo;\n  activeComponentRegistry: ActiveComponentRegistryService;\n  translateService: TranslateService;\n  messageHandlerService: MessageHandlerService;\n  @Input() handlerContext: HandlerContext;\n  @Input() isAlignedUp: boolean;\n  @Input() showAllMultiInstanceValues: boolean;\n  @Input() pageBreakPaginatorService: PageBreakPaginatorService;\n  readOnlyMode;\n\n  length = 0;\n  pageSize = 5;\n  pageIndex = 0;\n  pageSizeOptions: number[] = [1, 2, 5, 10, 25];\n\n  firstIndex = 0;\n  lastIndex = -1;\n  pageNumbers: number[] = [];\n  showPageSizeOptions = false;\n  hidePageSize = true;\n\n  multiInstanceValue: string;\n\n  constructor(\n    activeComponentRegistry: ActiveComponentRegistryService,\n    translateService: TranslateService,\n    messageHandlerService: MessageHandlerService,\n  ) {\n    this.activeComponentRegistry = activeComponentRegistry;\n    this.translateService = translateService;\n    this.messageHandlerService = messageHandlerService;\n  }\n\n  ngOnInit(): void {\n    if (this.handlerContext && this.handlerContext.readOnlyMode) {\n      this.readOnlyMode = this.handlerContext.readOnlyMode;\n    }\n    this.recomputeNumbers();\n  }\n\n  ngDoCheck(): void {\n    this.multiInstanceValue = this.getMultiInstanceDataValueInfo();\n  }\n\n  getMultiInstanceDataValueInfo(): string {\n    if (!ComponentTypeHandler.isField(this.component)) {\n      return '';\n    }\n    const parentNodeInfo: InstanceExtractData = this.handlerContext.getParentDataObjectNodeByPath(this.component.path);\n    const nodeInfo: InstanceExtractData = this.handlerContext.getDataObjectNodeByPath(this.component.path);\n    let info = '';\n    const infoArray = [];\n    const inputType = (this.component as MultiFieldComponent).basicInfo.inputType;\n    if (nodeInfo !== null && nodeInfo !== undefined) {\n      (nodeInfo as Array<any>).forEach((fieldName, index) => {\n        const numStr =\n          '<span class=\"multiinfo-index' +\n          (index > 0 ? ' not-first-multiinfo-index' : '') +\n          (index === this.currentMultiInfo.currentIndex ? ' current-multiinfo-index' : '') +\n          '\">' +\n          (index + 1) +\n          '</span> ';\n\n        if (typeof fieldName === 'string' && fieldName !== '') {\n          // attribute-value type input\n          infoArray.push(\n            numStr + fieldName + '=' + this.shortValue(inputType, parentNodeInfo[fieldName][JsonSchema.atValue]),\n          );\n        } else if (typeof fieldName === 'object') {\n          // all other type inputs\n          if (Object.hasOwn(fieldName, JsonSchema.atValue)) {\n            infoArray.push(numStr + (this.shortValue(inputType, fieldName[JsonSchema.atValue]) || 'null'));\n          } else if (Object.hasOwn(fieldName, JsonSchema.atId) && inputType === InputType.link) {\n            // link field\n            infoArray.push(numStr + (this.shortValue(inputType, fieldName[JsonSchema.atId]) || 'null'));\n          } else if (Object.hasOwn(fieldName, JsonSchema.atId)) {\n            // controlled field\n            infoArray.push(numStr + (this.shortValue(inputType, fieldName[JsonSchema.rdfsLabel]) || 'null'));\n          } else {\n            // empty controlled field\n            infoArray.push(numStr + 'null');\n          }\n        }\n      });\n    } else {\n      this.messageHandlerService.error('Missing data in instance:' + this.component.path);\n      return '';\n    }\n\n    info = infoArray.join('');\n\n    if (info) {\n      info = '<b>' + this.translateService.instant('Generic.AllValues') + ':</b> ' + info;\n    }\n    return info || '';\n  }\n\n  @Input() set componentToRender(componentToRender: MultiComponent) {\n    this.component = componentToRender;\n    this.activeComponentRegistry.registerMultiPagerComponent(this.component, this);\n  }\n\n  private shortValue(inputType: string, value: string): string {\n    let val = value;\n\n    if (\n      value &&\n      [InputType.text, InputType.textarea].includes(inputType) &&\n      value.length > CedarMultiPagerComponent.MAX_CHARACTERS_MULTI_VALUE\n    ) {\n      val = value.substr(0, CedarMultiPagerComponent.MAX_CHARACTERS_MULTI_VALUE);\n      let ind = CedarMultiPagerComponent.MAX_CHARACTERS_MULTI_VALUE;\n      // make sure we cut off on a whole word rather than a fragment\n      while (!this.isEmptySpace(value[ind]) && ind < value.length) {\n        val += value[ind];\n        ind++;\n      }\n\n      if (val.trim().length < value.trim().length) {\n        val += '...';\n      }\n    }\n    return val;\n  }\n\n  private isEmptySpace(text: string): boolean {\n    return text == null || text.match(/^\\s*$/) !== null;\n  }\n\n  private recomputeNumbers(): void {\n    this.setCurrentMultiInfo();\n    this.computeFirstIndex();\n    this.computeLastIndex();\n    this.updatePageNumbers();\n  }\n\n  private setCurrentMultiInfo(): void {\n    if (this.component != null && this.handlerContext.multiInstanceObjectService != null) {\n      this.currentMultiInfo = this.handlerContext.multiInstanceObjectService.getMultiInstanceInfoForComponent(\n        this.component,\n      );\n    }\n  }\n\n  paginatorChanged($event: PageEvent): void {\n    if ($event.pageSize !== this.pageSize) {\n      this.pageSizeChanged($event);\n    } else {\n      this.pageChanged($event);\n    }\n  }\n\n  private pageSizeChanged($event: PageEvent): void {\n    this.pageSize = $event.pageSize;\n    this.computeFirstIndex();\n    this.computeLastIndex();\n    this.updatePageNumbers();\n  }\n\n  private pageChanged($event: PageEvent): void {\n    this.pageSize = $event.pageSize;\n    this.firstIndex = $event.pageIndex * $event.pageSize;\n    this.handlerContext.setCurrentIndex(this.component, this.firstIndex);\n    this.computeLastIndex();\n    this.updatePageNumbers();\n    this.activeComponentRegistry.updateViewToModel(this.component, this.handlerContext);\n  }\n\n  private updatePageNumbers(): void {\n    this.pageNumbers = [];\n    if (this.length > 0) {\n      for (let idx = this.firstIndex; idx <= this.lastIndex; idx++) {\n        this.pageNumbers.push(idx);\n      }\n    }\n  }\n\n  private computeFirstIndex(): void {\n    this.pageIndex = Math.floor(this.currentMultiInfo.currentIndex / this.pageSize);\n    this.firstIndex = this.pageIndex * this.pageSize;\n  }\n\n  private computeLastIndex(): void {\n    this.length = this.currentMultiInfo.currentCount;\n    if (this.length > 0) {\n      this.lastIndex = this.firstIndex + this.pageSize - 1;\n      if (this.lastIndex > this.length - 1) {\n        this.lastIndex = this.length - 1;\n      }\n    } else {\n      this.lastIndex = -1;\n    }\n  }\n\n  chipClicked(chipIdx: number): void {\n    // this call was causing the entire dateTimeParsed object to reset\n    // after the timezone input was set\n    // see cedar-input-datetime.component.ts:\n    // this.timezone = {\n    //   id: this.datetimeParsed.timezoneOffset,\n    //   label: this.datetimeParsed.timezoneName\n    // };\n    // this.activeComponentRegistry.updateViewToModel(this.component, this.handlerContext);\n    // nothing has changed, the same page number is clicked\n    if (chipIdx === this.currentMultiInfo.currentIndex) {\n      return;\n    }\n    this.handlerContext.setCurrentIndex(this.component, chipIdx);\n    if (this.handlerContext.hideEmptyFields) {\n      this.activeComponentRegistry.setVisibility(this.component, this.handlerContext);\n    }\n    this.recomputeNumbers();\n    setTimeout(() => {\n      this.activeComponentRegistry.updateViewToModel(this.component, this.handlerContext);\n    });\n  }\n\n  clickedAdd(event: MouseEvent): void {\n    this.handlerContext.addMultiInstance(this.component);\n    this.recomputeNumbers();\n    // The component will be null if the count was 0 before\n    // We need to wait for it to be available\n    setTimeout(() => {\n      this.activeComponentRegistry.updateViewToModel(this.component, this.handlerContext);\n      this.emitEvent(event, 'multiInstanceAdded');\n    });\n  }\n\n  clickedCopy(event: MouseEvent): void {\n    this.handlerContext.copyMultiInstance(this.component);\n    this.recomputeNumbers();\n    setTimeout(() => {\n      this.activeComponentRegistry.updateViewToModel(this.component, this.handlerContext);\n      this.emitEvent(event, 'multiInstanceCopied');\n    });\n  }\n\n  clickedDelete(event: MouseEvent): void {\n    this.handlerContext.deleteMultiInstance(this.component);\n    this.recomputeNumbers();\n\n    setTimeout(() => {\n      this.activeComponentRegistry.deleteCurrentValue(this.component);\n      this.emitEvent(event, 'multiInstanceDeleted');\n    });\n\n    if (this.currentMultiInfo.currentCount > 0) {\n      setTimeout(() => {\n        this.activeComponentRegistry.updateViewToModel(this.component, this.handlerContext);\n      });\n    }\n  }\n\n  isEnabledDelete(): boolean {\n    if (this.currentMultiInfo.currentCount === 0) {\n      return false;\n    }\n    if (this.component.multiInfo.minItems != null) {\n      if (this.currentMultiInfo.currentCount <= this.component.multiInfo.minItems) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  isEnabledCopy(): boolean {\n    if (this.currentMultiInfo.currentCount === 0) {\n      return false;\n    }\n    return this.isEnabledAdd();\n  }\n\n  isEnabledAdd(): boolean {\n    if (this.component.multiInfo.minItems != null) {\n      if (this.currentMultiInfo.currentCount >= this.component.multiInfo.maxItems) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  updatePagingUI(): void {\n    this.recomputeNumbers();\n  }\n\n  hasMultiInstances(): boolean {\n    return this.currentMultiInfo.currentCount > 0;\n  }\n\n  getInstanceCount(): number {\n    return this.currentMultiInfo.currentCount;\n  }\n\n  private emitEvent(event: MouseEvent, message: string) {\n    const myEvent = new CustomEvent('change', {\n      detail: { message: message },\n      bubbles: true,\n      cancelable: true,\n    });\n    event.target.dispatchEvent(myEvent);\n  }\n}\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { FormControl, Validators } from '@angular/forms';\nimport { DateAdapter } from '@angular/material/core';\nimport { MatDatepicker } from '@angular/material/datepicker';\n\n// Depending on whether rollup is used, moment needs to be imported differently.\n// Since Moment.js doesn't have a default export, we normally need to import using the `* as`\n// syntax. However, rollup creates a synthetic default module, and we thus need to import it using\n// the `default as` syntax.\nimport * as _moment from 'moment';\n// tslint:disable-next-line:no-duplicate-imports\nimport { default as _rollupMoment, Moment } from 'moment';\nimport { CustomDateAdapter } from '../../service/date-time/custom-date-adapter';\nimport { DateTimeService } from '../../service/date-time/date-time.service';\n\nconst moment = _rollupMoment || _moment;\n\n@Component({\n  selector: 'app-date-picker',\n  templateUrl: './date-picker.component.html',\n  styleUrls: ['./date-picker.component.scss'],\n  providers: [\n    // DateTimeService is added as a provider to allow it\n    // to be injected as a new instance per component, rather\n    // than a Singleton instance\n    DateTimeService,\n    CustomDateAdapter, // so we could inject services to 'CustomDateAdapter'\n    { provide: DateAdapter, useClass: CustomDateAdapter }, // Parse MatDatePicker format\n  ],\n})\nexport class DatePickerComponent implements OnInit {\n  static readonly YEAR_FORMAT = 'YYYY';\n  static readonly YEAR_MONTH_FORMAT = 'MM/YYYY';\n  static readonly YEAR_MONTH_DAY_FORMAT = 'MM/DD/YYYY';\n  yearFormat = DatePickerComponent.YEAR_FORMAT;\n  yearMonthFormat = DatePickerComponent.YEAR_MONTH_FORMAT;\n  yearMonthDayFormat = DatePickerComponent.YEAR_MONTH_DAY_FORMAT;\n\n  @Input() dateMonthYear: FormControl;\n  @Input() dateFormat = DatePickerComponent.YEAR_FORMAT;\n  @Input() required: boolean;\n  @Output() dateChangedEvent = new EventEmitter<Moment>();\n  @Input() readOnlyMode;\n\n  public constructor(private _dateTimeService: DateTimeService) {}\n\n  public ngOnInit(): void {\n    const validators: any[] = [];\n    this._dateTimeService.format = this.dateFormat;\n    const m = moment();\n\n    switch (this.dateFormat) {\n      case this.yearMonthFormat:\n        m.set('date', 1);\n        break;\n      case this.yearFormat:\n        m.set('date', 1);\n        m.set('month', 0);\n        break;\n    }\n    if (this.required) {\n      validators.push(Validators.required);\n    }\n    this.dateMonthYear = new FormControl(null, validators);\n  }\n\n  chosenYearHandler(normalizedYear: Moment, datepicker: MatDatepicker<Moment>): void {\n    if (this.dateMonthYear.value == null) {\n      this.dateMonthYear.setValue(moment());\n    }\n    const ctrlValue = this.dateMonthYear.value;\n    ctrlValue.year(normalizedYear.year());\n    this.dateMonthYear.setValue(ctrlValue);\n    if (this.dateFormat === this.yearFormat) {\n      datepicker.close();\n      this.dateChangedEvent.emit(this.dateMonthYear.value);\n    }\n  }\n\n  chosenMonthHandler(normalizedMonth: Moment, datepicker: MatDatepicker<Moment>): void {\n    const ctrlValue = this.dateMonthYear.value;\n    ctrlValue.month(normalizedMonth.month());\n    this.dateMonthYear.setValue(ctrlValue);\n\n    if (this.dateFormat === this.yearMonthFormat) {\n      datepicker.close();\n    }\n    this.dateChangedEvent.emit(this.dateMonthYear.value);\n  }\n\n  chosenDateHandler(event): void {\n    if (event) {\n      this.dateChangedEvent.emit(event.value);\n    }\n  }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'preferences-menu',\n  templateUrl: './preferences-menu.component.html',\n  styleUrls: ['./preferences-menu.component.scss'],\n})\nexport class PreferencesMenu {}\n","import { Component, Input, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { SampleTemplatesService } from '../sample-templates/sample-templates.service';\nimport { FormControl } from '@angular/forms';\nimport { ReplaySubject, Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { CedarEmbeddableMetadataEditorComponent } from '../cedar-embeddable-metadata-editor/cedar-embeddable-metadata-editor.component';\n\n@Component({\n  selector: 'app-sample-template-select',\n  templateUrl: './sample-template-select.component.html',\n  styleUrls: ['./sample-template-select.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class SampleTemplateSelectComponent implements OnInit, OnDestroy {\n  @Input() callbackOwnerObject: any = null;\n  sampleTemplates: object[];\n  templateLocationPrefix: string;\n  templateCtrl: FormControl = new FormControl();\n  templateFilterCtrl: FormControl = new FormControl();\n  filteredTemplates: ReplaySubject<object[]> = new ReplaySubject<object[]>(1);\n  loadMetadata = true;\n  protected _onDestroy = new Subject<void>();\n\n  constructor(public sampleTemplateService: SampleTemplatesService) {}\n\n  ngOnInit(): void {\n    this.templateLocationPrefix =\n      this.callbackOwnerObject.innerConfig[CedarEmbeddableMetadataEditorComponent.TEMPLATE_LOCATION_PREFIX];\n    this.sampleTemplateService\n      .getSampleTemplatesFromRegistry(this.templateLocationPrefix)\n      .pipe(takeUntil(this._onDestroy))\n      .subscribe((templates: object[]) => {\n        this.sampleTemplates = templates;\n        this.filteredTemplates.next(this.sampleTemplates);\n      });\n\n    this.sampleTemplateService.templateJson$.pipe(takeUntil(this._onDestroy)).subscribe((templateJson) => {\n      this.templateCtrl.setValue(Object.keys(templateJson)[0]);\n    });\n\n    // listen for search field value changes\n    this.templateFilterCtrl.valueChanges.pipe(takeUntil(this._onDestroy)).subscribe(() => {\n      this.filterTemplates();\n    });\n  }\n\n  ngOnDestroy(): void {\n    this._onDestroy.next();\n    this._onDestroy.complete();\n  }\n\n  filterTemplates(): void {\n    if (!this.sampleTemplates) {\n      return;\n    }\n    // get the search keyword\n    let search = this.templateFilterCtrl.value;\n    if (!search) {\n      this.filteredTemplates.next(this.sampleTemplates.slice());\n      return;\n    } else {\n      search = search.toLowerCase();\n    }\n    this.filteredTemplates.next(\n      this.sampleTemplates.filter(\n        (template) => template[this.sampleTemplateService.TEMPLATE_LABEL].toLowerCase().indexOf(search) > -1,\n      ),\n    );\n  }\n\n  loadBuiltinTemplate(templateNum: string): void {\n    this.sampleTemplateService.loadTemplate(this.templateLocationPrefix, templateNum);\n    window.scroll(0, 0);\n  }\n\n  inputChanged(event): void {\n    if (event) {\n      this.loadBuiltinTemplate(event.value);\n    }\n  }\n\n  loadMetadataChanged(checked: boolean) {\n    this.sampleTemplateService.reloadTemplateWithMetadata(checked);\n  }\n}\n","import { Component, Input, OnDestroy, OnInit, ViewEncapsulation } from '@angular/core';\nimport { MatListOption } from '@angular/material/list';\nimport { HttpClient } from '@angular/common/http';\nimport { SampleTemplatesService } from './sample-templates.service';\nimport { Subject } from 'rxjs';\nimport { FormControl } from '@angular/forms';\nimport { takeUntil } from 'rxjs/operators';\nimport { CedarEmbeddableMetadataEditorComponent } from '../cedar-embeddable-metadata-editor/cedar-embeddable-metadata-editor.component';\n\n@Component({\n  selector: 'app-sample-templates',\n  templateUrl: './sample-templates.component.html',\n  styleUrls: ['./sample-templates.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class SampleTemplatesComponent implements OnInit, OnDestroy {\n  @Input() callbackOwnerObject: any = null;\n  @Input() expandedSampleTemplateLinks: boolean;\n  templateLocationPrefix: string;\n  templateCtrl: FormControl = new FormControl();\n  sampleTemplates: object[] = [];\n  protected _onDestroy = new Subject<void>();\n\n  constructor(\n    private http: HttpClient,\n    public sampleTemplateService: SampleTemplatesService,\n  ) {}\n\n  ngOnInit(): void {\n    this.templateLocationPrefix =\n      this.callbackOwnerObject.innerConfig[CedarEmbeddableMetadataEditorComponent.TEMPLATE_LOCATION_PREFIX];\n    this.sampleTemplateService\n      .getSampleTemplatesFromRegistry(this.templateLocationPrefix)\n      .pipe(takeUntil(this._onDestroy))\n      .subscribe((templates: object[]) => {\n        this.sampleTemplates.push(...templates);\n      });\n\n    this.sampleTemplateService.templateJson$.pipe(takeUntil(this._onDestroy)).subscribe((templateJson) => {\n      this.templateCtrl.setValue([Object.keys(templateJson)[0]]);\n    });\n  }\n\n  loadBuiltinTemplate(templateNum: string): void {\n    this.sampleTemplateService.loadTemplate(this.templateLocationPrefix, templateNum);\n    window.scroll(0, 0);\n  }\n\n  selectionClicked({ option }: { option: MatListOption }): void {\n    this.loadBuiltinTemplate(option.value);\n  }\n\n  ngOnDestroy(): void {\n    this._onDestroy.next();\n    this._onDestroy.complete();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { JsonSchema } from '../../models/json-schema.model';\nimport { HttpClient } from '@angular/common/http';\nimport { BehaviorSubject, EMPTY, from, Observable, of, Subject } from 'rxjs';\nimport { catchError, concatMap, map, takeUntil } from 'rxjs/operators';\nimport { MessageHandlerService } from '../../service/message-handler.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class SampleTemplatesService {\n  private readonly MAX_CHECK = 500;\n  readonly TEMPLATE_FILENAME = 'template.json';\n  readonly METADATA_FILENAME = 'metadata.json';\n  readonly TEMPLATE_REGISTRY_FILENAME = 'registry.json';\n  readonly TEMPLATE_NUMBER = 'num';\n  readonly TEMPLATE_LABEL = 'label';\n  private allTemplates: Observable<object[]>;\n  private templateJsonSubject = new BehaviorSubject<object>(null);\n  templateJson$ = this.templateJsonSubject.asObservable();\n  private metadataJsonSubject = new BehaviorSubject<object>(null);\n  metadataJson$ = this.metadataJsonSubject.asObservable();\n  private loadedTemplate = null;\n  private loadedMetadata = null;\n  private attemptedFileCount = 0;\n  private targetAttemptedFileCount = 0;\n  private templateNum = '';\n  private templateLocationPrefix = '';\n  private doLoadMetadata = true;\n\n  constructor(\n    private http: HttpClient,\n    private messageHandlerService: MessageHandlerService,\n  ) {}\n\n  loadTemplate(tLocationPrefix: string, templateNum: string): void {\n    this.templateLocationPrefix = this.fixedLocationPrefix(tLocationPrefix);\n    this.templateNum = templateNum;\n    this.loadTemplateAndMetadata();\n  }\n\n  reloadTemplateWithMetadata(doLoadMetadata: boolean) {\n    this.doLoadMetadata = doLoadMetadata;\n    this.loadTemplateAndMetadata();\n  }\n\n  private loadTemplateAndMetadata() {\n    this.attemptedFileCount = 0;\n    this.targetAttemptedFileCount = this.doLoadMetadata ? 2 : 1;\n    this.loadedTemplate = null;\n    this.loadedMetadata = null;\n    const templateUrl = this.templateLocationPrefix + this.templateNum + '/' + this.TEMPLATE_FILENAME;\n    this.loadTemplateFromURL(templateUrl, this.templateNum);\n    if (this.doLoadMetadata) {\n      const metadataUrl = this.templateLocationPrefix + this.templateNum + '/' + this.METADATA_FILENAME;\n      this.loadMetadataFromURL(metadataUrl, this.templateNum);\n    }\n  }\n\n  loadTemplateFromURL(templateUrl: string, templateNum: string = null): void {\n    if (!templateNum) {\n      templateNum = this.templateNumberFromUrl(templateUrl);\n    }\n    this.http.get(templateUrl).subscribe(\n      (value) => {\n        this.attemptedFileCount++;\n        this.loadedTemplate = value;\n        this.messageHandlerService.trace(\n          'Loaded template: ' + templateUrl + ' (' + JSON.stringify(value).length + ' characters)',\n        );\n        this.handleLoadedDataFiles();\n      },\n      (error) => {\n        this.attemptedFileCount++;\n        this.loadedTemplate = null;\n        this.messageHandlerService.error('Error while loading sample template from: ' + templateUrl);\n        this.handleLoadedDataFiles();\n      },\n    );\n  }\n\n  loadMetadataFromURL(metadataUrl: string, templateNum: string = null): void {\n    if (!templateNum) {\n      templateNum = this.templateNumberFromUrl(metadataUrl);\n    }\n    this.http.get(metadataUrl).subscribe(\n      (value) => {\n        this.attemptedFileCount++;\n        this.loadedMetadata = value;\n        this.messageHandlerService.trace(\n          'Loaded metadata: ' + metadataUrl + ' (' + JSON.stringify(value).length + ' characters)',\n        );\n        this.handleLoadedDataFiles();\n      },\n      (error) => {\n        this.attemptedFileCount++;\n        this.loadedMetadata = null;\n        this.messageHandlerService.error('Error while loading sample metadata from: ' + metadataUrl);\n        this.handleLoadedDataFiles();\n      },\n    );\n  }\n\n  handleLoadedDataFiles(): void {\n    if (this.attemptedFileCount === this.targetAttemptedFileCount) {\n      const templateObj = {};\n      templateObj[this.templateNum] = this.loadedTemplate;\n      this.templateJsonSubject.next(templateObj);\n\n      const metadataObj = {};\n      metadataObj[this.templateNum] = this.loadedMetadata;\n      this.metadataJsonSubject.next(metadataObj);\n    }\n  }\n\n  getSampleTemplatesFromRegistry(templateLocationPrefix: string): Observable<object[]> {\n    if (this.allTemplates) {\n      return this.allTemplates;\n    }\n    templateLocationPrefix = this.fixedLocationPrefix(templateLocationPrefix);\n    const registryUrl = templateLocationPrefix + this.TEMPLATE_REGISTRY_FILENAME;\n    this.allTemplates = this.http.get(registryUrl).pipe(\n      map((resp: object) => {\n        return Object.keys(resp)\n          .sort()\n          .map((key, index) => {\n            const entry = {};\n            entry[this.TEMPLATE_NUMBER] = key;\n            entry[this.TEMPLATE_LABEL] = resp[key];\n            return entry;\n          });\n      }),\n      catchError((error) => {\n        this.messageHandlerService.errorObject(error.message, error);\n        return EMPTY;\n      }),\n    );\n    return this.allTemplates;\n  }\n\n  getSampleTemplatesDynamically(templateLocationPrefix: string): Observable<object> {\n    if (!this.allTemplates) {\n      templateLocationPrefix = this.fixedLocationPrefix(templateLocationPrefix);\n      this.buildAllTemplatesDynamically(templateLocationPrefix);\n    }\n    return this.allTemplates;\n  }\n\n  private buildAllTemplatesDynamically(templateLocationPrefix: string): void {\n    const allTemplates = [];\n    this.getAllTemplatesSubscription(templateLocationPrefix).subscribe((resp) => {\n      const entry = {};\n      entry[this.TEMPLATE_NUMBER] = Object.keys(resp)[0];\n      entry[this.TEMPLATE_LABEL] = Object.values(resp)[0];\n      allTemplates.push(entry);\n    });\n    this.allTemplates = of(allTemplates);\n  }\n\n  private getAllTemplatesSubscription(templateLocationPrefix: string): Observable<object> {\n    const singleUrls: string[] = [];\n    const closeRequest$ = new Subject<void>();\n    let errorIndex = 0;\n\n    for (let i = 1; i <= this.MAX_CHECK; i++) {\n      const templateName = i < 10 ? '0' + i.toString() : i.toString();\n      const templateUrl = templateLocationPrefix + templateName + '/' + this.TEMPLATE_FILENAME;\n      singleUrls.push(templateUrl);\n    }\n    return from(singleUrls).pipe(\n      concatMap((singleUrl) => {\n        const templateNum = this.templateNumberFromUrl(singleUrl);\n        return this.getSingleTemplateLabel(singleUrl).pipe(\n          map((templateLabel) => {\n            errorIndex = 0;\n            const templateEntry = {};\n            templateEntry[templateNum] = 'Template ' + templateNum + ' - ' + templateLabel;\n            return templateEntry;\n          }),\n          // if encounter two consecutive error requests, finish polling\n          catchError((error) => {\n            if (error.status === 0) {\n              errorIndex++;\n            } else {\n              this.messageHandlerService.errorObject(error['message'], error);\n            }\n\n            if (errorIndex > 1) {\n              closeRequest$.next();\n              closeRequest$.complete();\n            }\n            return EMPTY;\n          }),\n        );\n      }),\n      takeUntil(closeRequest$),\n    );\n  }\n\n  private getSingleTemplateLabel(templateUrl: string): Observable<string> {\n    return this.http.get(templateUrl).pipe(\n      map((response) => {\n        if (response == null || !response[JsonSchema.schemaName]) {\n          return null;\n        }\n        return response[JsonSchema.schemaName];\n      }),\n    );\n  }\n\n  private templateNumberFromUrl(url): string {\n    const templateNumPatternStr = '\\\\/(\\\\d+)\\\\/' + this.TEMPLATE_FILENAME;\n    const templateNumPattern = new RegExp(templateNumPatternStr);\n    const templateNumMatch = url.match(templateNumPattern);\n\n    if (templateNumMatch && templateNumMatch.length > 1) {\n      return templateNumMatch[1];\n    }\n    return '-1';\n  }\n\n  private fixedLocationPrefix(locationPrefix: string): string {\n    const locationPrefixPatternStr = '\\\\/$';\n    const locationPrefixPattern = new RegExp(locationPrefixPatternStr);\n    const locationPrefixMatch = locationPrefix.match(locationPrefixPattern);\n\n    if (!locationPrefixMatch) {\n      locationPrefix += '/';\n    }\n    return locationPrefix;\n  }\n}\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\nimport { DataContext } from '../../util/data-context';\n\n@Component({\n  selector: 'app-source-panels',\n  templateUrl: './source-panels.component.html',\n  styleUrls: ['./source-panels.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class SourcePanelsComponent implements OnInit {\n  @Input() dataContext: DataContext = null;\n\n  @Input() showTemplateRenderingRepresentation: boolean;\n  @Input() showMultiInstanceInfo: boolean;\n  @Input() showTemplateSourceData: boolean;\n  @Input() showInstanceDataCore: boolean;\n  @Input() showInstanceDataFull: boolean;\n  @Input() showDataQualityReport: boolean;\n\n  @Input() expandedInstanceDataCore = false;\n  @Input() expandedInstanceDataFull = false;\n  @Input() expandedTemplateSourceData = false;\n  @Input() expandedTemplateRenderingRepresentation = false;\n  @Input() expandedMultiInstanceInfo = false;\n  @Input() expandedDataQualityReport: boolean;\n\n  constructor() {}\n\n  ngOnInit(): void {}\n\n  stopPropagation(event): void {\n    event.stopPropagation();\n  }\n}\n","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\n\n@Component({\n  selector: 'app-static-footer',\n  templateUrl: './static-footer.component.html',\n  styleUrls: ['./static-footer.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class StaticFooterComponent implements OnInit {\n  constructor() {}\n\n  ngOnInit(): void {}\n}\n","import { Component, Input, OnInit, ViewEncapsulation } from '@angular/core';\n\n@Component({\n  selector: 'app-static-header',\n  templateUrl: './static-header.component.html',\n  styleUrls: ['./static-header.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class StaticHeaderComponent implements OnInit {\n  @Input() callbackOwnerObject: any = null;\n  @Input() showSampleTemplateLinks: boolean = null;\n\n  constructor() {}\n\n  ngOnInit(): void {}\n}\n","import {\n  AfterViewInit,\n  Component,\n  forwardRef,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  SimpleChanges,\n  ViewEncapsulation,\n} from '@angular/core';\nimport * as momentZone from 'moment-timezone';\nimport { ControlValueAccessor, FormBuilder, FormControl, FormGroup, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nexport class TZone {\n  id: string;\n  label: string;\n}\n\nexport interface SelectConfig {\n  appearance: 'underline' | 'outline';\n  appendTo: string;\n  clearOnBackspace: boolean;\n  closeOnSelect: boolean;\n  dropdownPosition: 'auto' | 'bottom' | 'top';\n  hideSelected: boolean;\n}\n\n@Component({\n  selector: 'app-timezone-picker',\n  templateUrl: './timezone-picker.component.html',\n  styleUrls: ['./timezone-picker.component.scss'],\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => TimezonePickerComponent),\n      multi: true,\n    },\n  ],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class TimezonePickerComponent implements OnInit, AfterViewInit, OnDestroy, OnChanges, ControlValueAccessor {\n  static readonly AVAILABLE_TIMEZONES = [\n    { id: '-12:00', label: '(GMT -12:00) Eniwetok, Kwajalein' },\n    { id: '-11:00', label: '(GMT -11:00) Midway Island, Samoa' },\n    { id: '-10:00', label: '(GMT -10:00) Hawaii' },\n    { id: '-09:30', label: '(GMT -9:30) Taiohae' },\n    { id: '-09:00', label: '(GMT -9:00) Alaska' },\n    { id: '-08:00', label: '(GMT -8:00) Pacific Time (US & Canada)' },\n    { id: '-07:00', label: '(GMT -7:00) Mountain Time (US & Canada)' },\n    { id: '-06:00', label: '(GMT -6:00) Central Time (US & Canada), Mexico City' },\n    { id: '-05:00', label: '(GMT -5:00) Eastern Time (US & Canada), Bogota, Lima' },\n    { id: '-04:30', label: '(GMT -4:30) Caracas' },\n    { id: '-04:00', label: '(GMT -4:00) Atlantic Time (Canada), Caracas, La Paz' },\n    { id: '-03:30', label: '(GMT -3:30) Newfoundland' },\n    { id: '-03:00', label: '(GMT -3:00) Brazil, Buenos Aires, Georgetown' },\n    { id: '-02:00', label: '(GMT -2:00) Mid-Atlantic' },\n    { id: '-01:00', label: '(GMT -1:00) Azores, Cape Verde Islands' },\n    { id: 'Z', label: '(GMT) Western Europe Time, London, Lisbon, Casablanca' },\n    { id: '+01:00', label: '(GMT +1:00) Brussels, Copenhagen, Madrid, Paris' },\n    { id: '+02:00', label: '(GMT +2:00) Kaliningrad, South Africa' },\n    { id: '+03:00', label: '(GMT +3:00) Baghdad, Riyadh, Moscow, St. Petersburg' },\n    { id: '+03:30', label: '(GMT +3:30) Tehran' },\n    { id: '+04:00', label: '(GMT +4:00) Abu Dhabi, Muscat, Baku, Tbilisi' },\n    { id: '+04:30', label: '(GMT +4:30) Kabul' },\n    { id: '+05:00', label: '(GMT +5:00) Ekaterinburg, Islamabad, Karachi, Tashkent' },\n    { id: '+05:30', label: '(GMT +5:30) Bombay, Calcutta, Madras, New Delhi' },\n    { id: '+05:45', label: '(GMT +5:45) Kathmandu, Pokhara' },\n    { id: '+06:00', label: '(GMT +6:00) Almaty, Dhaka, Colombo' },\n    { id: '+06:30', label: '(GMT +6:30) Yangon, Mandalay' },\n    { id: '+07:00', label: '(GMT +7:00) Bangkok, Hanoi, Jakarta' },\n    { id: '+08:00', label: '(GMT +8:00) Beijing, Perth, Singapore, Hong Kong' },\n    { id: '+08:45', label: '(GMT +8:45) Eucla' },\n    { id: '+09:00', label: '(GMT +9:00) Tokyo, Seoul, Osaka, Sapporo, Yakutsk' },\n    { id: '+09:30', label: '(GMT +9:30) Adelaide, Darwin' },\n    { id: '+10:00', label: '(GMT +10:00) Eastern Australia, Guam, Vladivostok' },\n    { id: '+10:30', label: '(GMT +10:30) Lord Howe Island' },\n    { id: '+11:00', label: '(GMT +11:00) Magadan, Solomon Islands, New Caledonia' },\n    { id: '+11:30', label: '(GMT +11:30) Norfolk Island' },\n    { id: '+12:00', label: '(GMT +12:00) Auckland, Wellington, Fiji, Kamchatka' },\n    { id: '+12:45', label: '(GMT +12:45) Chatham Islands' },\n    { id: '+13:00', label: '(GMT +13:00) Apia, Nukualofa' },\n    { id: '+14:00', label: '(GMT +14:00) Line Islands, Tokelau' },\n  ];\n\n  /**\n   * Setup section.\n   */\n  @Input() getUserZone = false;\n  @Input() customPlaceholderText = 'Choose...';\n  @Input() customNotFoundText = 'No zone found';\n  @Input() clearable = false;\n  @Input() virtualScroll = true;\n  @Input() disabled = false;\n  readOnlyTimezoneControl = new FormControl(null, null);\n  @Input() readOnlyMode;\n\n  @Input() set config(conf: SelectConfig) {\n    this._config = conf;\n  }\n\n  private _config: SelectConfig = {\n    hideSelected: false,\n    dropdownPosition: 'auto',\n    appearance: 'underline',\n    clearOnBackspace: true,\n    closeOnSelect: true,\n    appendTo: null,\n  };\n\n  get config(): SelectConfig {\n    return this._config;\n  }\n\n  /**\n   * Internals section.\n   */\n  timeZones: Array<any>;\n  form: FormGroup;\n  private propagateChange: (_: any) => {};\n  private destroy$ = new Subject<void>();\n\n  constructor(private fb: FormBuilder) {}\n\n  static guessedUserZone(): TZone {\n    const guessedZone = momentZone.tz.guess(true);\n    return TimezonePickerComponent.findZone(guessedZone);\n  }\n\n  static findZone(zone: string): TZone {\n    const allZones = JSON.parse(JSON.stringify(TimezonePickerComponent.AVAILABLE_TIMEZONES));\n    const utc: string = momentZone.tz(zone).format('Z');\n    return allZones.find((z) => z.id === utc);\n  }\n\n  ngOnInit(): void {\n    // make a copy of the list to avoid modifying the original timezones array\n    this.timeZones = JSON.parse(JSON.stringify(TimezonePickerComponent.AVAILABLE_TIMEZONES));\n    this.form = this.fb.group({\n      timezone: [],\n    });\n\n    /**\n     * Value change subscription.\n     */\n    this.form\n      .get('timezone')\n      .valueChanges.pipe(takeUntil(this.destroy$))\n      .subscribe(() => this.fireChanges());\n  }\n\n  ngAfterViewInit(): void {\n    this.guessUserTimezone();\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  private guessUserTimezone(): void {\n    setTimeout(() => {\n      if (this.getUserZone) {\n        const guessedZone = TimezonePickerComponent.guessedUserZone();\n        this.form.get('timezone').setValue(guessedZone);\n      }\n    });\n  }\n\n  // /**\n  //  * Make TZone object from simple string.\n  //  * @link ngOnInit\n  //  */\n  // formatZone(zone: string): TZone {\n  //   const utc: string = momentZone.tz(zone).format('Z');\n  //   return this.timeZones.find(z => z.id === utc);\n  // }\n\n  /**\n   * Propagate result to parent component.\n   */\n  private fireChanges(): void {\n    if (this.propagateChange) {\n      const { value } = this.form.get('timezone');\n      if (this.readOnlyMode) {\n        this.readOnlyTimezoneControl.setValue(value?.label);\n      } else {\n        this.propagateChange(value);\n      }\n    }\n  }\n\n  /**\n   * Clear selection.\n   */\n  private clearZone(): void {\n    this.form.get('timezone').setValue(null);\n  }\n\n  /**\n   * Handle parent imports changes.\n   */\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.getUserZone && changes.getUserZone.currentValue) {\n      this.guessUserTimezone();\n    }\n    if (changes.disabled) {\n      setTimeout(() => {\n        changes.disabled.currentValue ? this.form.get('timezone').disable() : this.form.get('timezone').enable();\n      });\n    }\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {}\n\n  /**\n   * Handle parent model value changes.\n   */\n  writeValue(zone: string | TZone): void {\n    if (zone) {\n      let _zone: TZone = null;\n\n      if (typeof zone === 'string' && zone.length > 0) {\n        _zone = this.timeZones.find((z) => z.id === zone);\n      } else if (typeof zone === 'object') {\n        _zone = this.timeZones.find((z) => z.id === zone.id);\n      }\n\n      if (_zone) {\n        this.form.get('timezone').setValue(_zone);\n      }\n    } else {\n      this.clearZone();\n    }\n  }\n}\n","import { JsonSchema } from '../models/json-schema.model';\nimport { CedarModel } from '../models/cedar-model.model';\nimport { JavascriptTypes } from '../models/javascript-types.model';\nimport { CedarComponent } from '../models/component/cedar-component.model';\nimport { MultiElementComponent } from '../models/element/multi-element-component.model';\nimport { CedarTemplate } from '../models/template/cedar-template.model';\nimport { NullTemplate } from '../models/template/null-template.model';\nimport { EmptyTemplate } from '../models/template/empty-template.model';\nimport { TemplateComponent } from '../models/template/template-component.model';\nimport { MultiFieldComponent } from '../models/field/multi-field-component.model';\nimport { SingleFieldComponent } from '../models/field/single-field-component.model';\nimport { SingleElementComponent } from '../models/element/single-element-component.model';\nimport { MultiComponent } from '../models/component/multi-component.model';\nimport { ElementComponent } from '../models/component/element-component.model';\nimport { FieldComponent } from '../models/component/field-component.model';\nimport { ChoiceOption } from '../models/info/choice-option.model';\nimport { CedarInputTemplate } from '../models/cedar-input-template.model';\nimport { StaticFieldComponent } from '../models/static/static-field-component.model';\nimport { ComponentTypeHandler } from '../handler/component-type.handler';\nimport { InputType } from '../models/input-type.model';\nimport { TemplateObjectUtil } from '../util/template-object-util';\nimport { HandlerContext } from '../util/handler-context';\n\nexport class TemplateRepresentationFactory {\n  static create(\n    inputTemplate: CedarInputTemplate,\n    collapseStaticComponents: boolean,\n    handlerContext: HandlerContext,\n  ): TemplateComponent {\n    if (inputTemplate === null) {\n      return new NullTemplate();\n    } else {\n      const template = new CedarTemplate();\n      TemplateRepresentationFactory.wrap(\n        inputTemplate,\n        inputTemplate,\n        template,\n        [],\n        collapseStaticComponents,\n        handlerContext,\n      );\n      // this.removeEmpty(template);\n      TemplateRepresentationFactory.extractTemplateLabels(inputTemplate, template);\n      TemplateRepresentationFactory.extractPageBreakPages(template);\n      return template;\n    }\n  }\n  static extractPageBreakPages(template: CedarTemplate): void {\n    const pages = [];\n    let page = [];\n    let numPBInRow = 0;\n\n    template.children.forEach((child, index) => {\n      // encountered page-break component\n      if (\n        child instanceof StaticFieldComponent &&\n        (child as StaticFieldComponent).basicInfo.inputType === InputType.pageBreak\n      ) {\n        if (page.length) {\n          pages.push(page);\n        }\n        // if page-break is the last component, always add an empty page\n        if (index === template.children.length - 1) {\n          pages.push([new EmptyTemplate()]);\n        } else {\n          numPBInRow++;\n        }\n        page = [];\n      } else {\n        page.push(child);\n\n        if (index === template.children.length - 1) {\n          pages.push(page);\n        }\n\n        // add empty pages corresponding to: (number of page breaks in a row - 1)\n        for (let i = 0; i < numPBInRow - 1; i++) {\n          pages.push([new EmptyTemplate()]);\n        }\n        numPBInRow = 0;\n      }\n    });\n    template.pageBreakChildren = pages;\n  }\n\n  private static isFragmentMulti(templateFragment: object): boolean {\n    const fragmentType = templateFragment[CedarModel.type];\n\n    if (fragmentType === JavascriptTypes.object) {\n      return false;\n    } else if (fragmentType === JavascriptTypes.array) {\n      return true;\n    } else {\n      throw new Error(\n        'Invalid node value of ' +\n          CedarModel.type +\n          '. Value found:\"' +\n          fragmentType +\n          '\". ' +\n          'Expected \"' +\n          JavascriptTypes.object +\n          '\" or \"' +\n          JavascriptTypes.array +\n          '\"!',\n      );\n    }\n  }\n\n  private static wrap(\n    templateJsonObj: object,\n    parentJsonObj: object,\n    component: CedarComponent,\n    parentPath: string[],\n    collapseStaticComponents: boolean,\n    handlerContext: HandlerContext,\n  ): void {\n    // const propertyNames: string[] = TemplateRepresentationFactory.getFilteredSchemaPropertyNames(templateJsonObj);\n    // console.log(propertyNames);\n    const propertyNames: string[] = TemplateRepresentationFactory.getOrderedPropertyNames(templateJsonObj);\n    for (const name of propertyNames) {\n      const templateFragment = templateJsonObj[JsonSchema.properties][name];\n\n      const isMulti: boolean = TemplateRepresentationFactory.isFragmentMulti(templateFragment);\n\n      const parentDataNode: object = TemplateRepresentationFactory.getDataNode(parentJsonObj);\n      const dataNode: object = TemplateRepresentationFactory.getDataNode(templateFragment);\n      const fragmentAtType = dataNode[JsonSchema.atType];\n      let r: CedarComponent = null;\n\n      const myPath: string[] = parentPath.slice();\n      myPath.push(name);\n\n      if (fragmentAtType === CedarModel.templateFieldType) {\n        if (isMulti) {\n          r = new MultiFieldComponent();\n        } else {\n          r = new SingleFieldComponent();\n        }\n\n        TemplateRepresentationFactory.extractValueConstraints(dataNode, r as FieldComponent);\n        TemplateRepresentationFactory.extractLabels(dataNode, parentDataNode, name, r as FieldComponent);\n      } else if (fragmentAtType === CedarModel.templateElementType) {\n        if (isMulti) {\n          r = new MultiElementComponent();\n        } else {\n          r = new SingleElementComponent();\n        }\n        TemplateRepresentationFactory.extractLabels(dataNode, parentDataNode, name, r as FieldComponent);\n        TemplateRepresentationFactory.wrap(\n          dataNode,\n          templateJsonObj,\n          r,\n          myPath,\n          collapseStaticComponents,\n          handlerContext,\n        );\n      } else if (fragmentAtType === CedarModel.templateStaticFieldType) {\n        r = new StaticFieldComponent();\n        TemplateRepresentationFactory.extractStaticData(dataNode, parentDataNode, name, r as StaticFieldComponent);\n      }\n\n      if (r !== null) {\n        const wrapperElement: ElementComponent = component as ElementComponent;\n        if (!dataNode['_ui'].hidden) {\n          wrapperElement.children.push(r);\n          r.name = name;\n          r.path = myPath;\n          if (handlerContext.hideEmptyFields && handlerContext.dataContext.instanceExtractData) {\n            if (r instanceof SingleFieldComponent || r instanceof MultiFieldComponent) {\n              const val = this.getValueByPath(myPath, handlerContext.dataContext.instanceExtractData);\n              val ? (r.hidden = false) : (r.hidden = true);\n            } else if (r instanceof MultiElementComponent || r instanceof SingleElementComponent) {\n              this.hasNonEmptyChild(r, handlerContext) ? (r.hidden = false) : (r.hidden = true);\n            }\n          }\n        }\n      }\n      if (isMulti) {\n        const mr = r as MultiComponent;\n        TemplateRepresentationFactory.extractMultiInfo(templateFragment, mr);\n      }\n    }\n\n    if (collapseStaticComponents) {\n      this.collapseStaticFieldsIntoNextFieldOrElement(component);\n    }\n  }\n  private static hasNonEmptyChild(component: ElementComponent, handlerContext): boolean {\n    let hasNonEmptyChild = false;\n    const instanceExtractData = handlerContext.dataContext.instanceExtractData;\n    for (const child of component.children) {\n      if (child instanceof MultiElementComponent || child instanceof SingleElementComponent) {\n        hasNonEmptyChild = this.hasNonEmptyChild(child, handlerContext);\n      } else if (this.getValueByPath(child.path, instanceExtractData)) {\n        hasNonEmptyChild = true;\n        break;\n      }\n    }\n    return hasNonEmptyChild;\n  }\n\n  private static getValueByPath(path: string[], json) {\n    if (!json) {\n      return null;\n    }\n    if (path.length === 0) {\n      if (Object.prototype.hasOwnProperty.call(json, '@value')) {\n        return json['@value'];\n      } else if (Object.prototype.hasOwnProperty.call(json, '@id')) {\n        return json['@id'];\n      } else return null;\n    }\n    const currentKey = path[0];\n    const remainingPath = path.slice(1);\n    if (Object.prototype.hasOwnProperty.call(json, currentKey)) {\n      const value = json[currentKey];\n      if (value instanceof Array) {\n        if (!value.length) {\n          return null;\n        }\n        return this.getValueByPath(remainingPath, value[0]);\n      } else {\n        return this.getValueByPath(remainingPath, value);\n      }\n    }\n  }\n  // private static getFilteredSchemaPropertyNames(jsonObj: object): string[] {\n  //   const names: string[] = [];\n  //   if (jsonObj.hasOwnProperty(JsonSchema.properties)) {\n  //     const prMap = jsonObj[JsonSchema.properties];\n  //     if (prMap instanceof Object) {\n  //       for (const name of Object.keys(prMap)) {\n  //         if (!JsonSchema.builtInProperties.has(name)) {\n  //           names.push(name);\n  //         }\n  //       }\n  //     }\n  //   }\n  //   return names;\n  // }\n\n  private static getOrderedPropertyNames(jsonObj: object): string[] {\n    const order: string[] = [];\n    if (Object.hasOwn(jsonObj, CedarModel.ui)) {\n      const uiMap = jsonObj[CedarModel.ui];\n      if (Object.hasOwn(uiMap, CedarModel.order)) {\n        return uiMap[CedarModel.order];\n      }\n    }\n    return order;\n  }\n\n  private static getDataNode(templateFragment: object): object {\n    if (templateFragment == null) {\n      return null;\n    }\n    const isMulti: boolean = TemplateRepresentationFactory.isFragmentMulti(templateFragment);\n    if (isMulti) {\n      return templateFragment[CedarModel.items];\n    } else {\n      return templateFragment;\n    }\n  }\n\n  private static extractValueConstraints(dataNode: object, fc: FieldComponent): void {\n    fc.basicInfo.inputType = dataNode[CedarModel.ui][CedarModel.inputType];\n\n    if (dataNode[CedarModel.ui][CedarModel.inputType] === InputType.temporal) {\n      if (Object.hasOwn(dataNode[CedarModel.ui], CedarModel.timezoneEnabled)) {\n        fc.basicInfo.timezoneEnabled = dataNode[CedarModel.ui][CedarModel.timezoneEnabled];\n      }\n      if (Object.hasOwn(dataNode[CedarModel.ui], CedarModel.inputTimeFormat)) {\n        fc.basicInfo.inputTimeFormat = dataNode[CedarModel.ui][CedarModel.inputTimeFormat];\n      }\n      if (Object.hasOwn(dataNode[CedarModel.ui], CedarModel.temporalGranularity)) {\n        fc.basicInfo.temporalGranularity = dataNode[CedarModel.ui][CedarModel.temporalGranularity];\n      }\n    }\n\n    if (Object.hasOwn(dataNode[CedarModel.ui], CedarModel.temporalGranularity)) {\n      fc.basicInfo.temporalGranularity = dataNode[CedarModel.ui][CedarModel.temporalGranularity];\n    }\n\n    if (TemplateObjectUtil.hasValueConstraints(dataNode)) {\n      const vc: object = dataNode[CedarModel.valueConstraints];\n      fc.valueInfo.requiredValue = vc[CedarModel.requiredValue];\n      fc.valueInfo.defaultValue = vc[CedarModel.defaultValue];\n      fc.valueInfo.minLength = vc[CedarModel.minLength];\n      fc.valueInfo.maxLength = vc[CedarModel.maxLength];\n\n      if (Object.hasOwn(vc, CedarModel.temporalType)) {\n        fc.valueInfo.temporalType = vc[CedarModel.temporalType];\n      }\n\n      fc.numberInfo.numberType = vc[CedarModel.numberType];\n      fc.numberInfo.unitOfMeasure = vc[CedarModel.unitOfMeasure];\n      fc.numberInfo.minValue = vc[CedarModel.minValue];\n      fc.numberInfo.maxValue = vc[CedarModel.maxValue];\n      fc.numberInfo.decimalPlace = vc[CedarModel.decimalPlace];\n      fc.choiceInfo.multipleChoice = vc[CedarModel.multipleChoice];\n\n      if (vc[CedarModel.literals] !== undefined) {\n        for (const pair of vc[CedarModel.literals]) {\n          const option = new ChoiceOption();\n          option.label = pair[CedarModel.label];\n          option.selectedByDefault = pair[CedarModel.selectedByDefault];\n          fc.choiceInfo.choices.push(option);\n        }\n      }\n\n      if (TemplateObjectUtil.hasControlledInfo(dataNode)) {\n        fc.basicInfo.inputType = InputType.controlled;\n        fc.controlledInfo.ontologies = vc[CedarModel.ontologies];\n        fc.controlledInfo.valueSets = vc[CedarModel.valueSets];\n        fc.controlledInfo.classes = vc[CedarModel.classes];\n        fc.controlledInfo.branches = vc[CedarModel.branches];\n      }\n    }\n  }\n\n  private static extractLabels(dataNode: object, parentDataNode: object, name: string, fc: FieldComponent): void {\n    fc.labelInfo.preferredLabel = dataNode[CedarModel.skosPrefLabel];\n    fc.labelInfo.description = dataNode[JsonSchema.schemaDescription];\n    fc.labelInfo.label = dataNode[JsonSchema.schemaName];\n    if (parentDataNode != null) {\n      if (fc.labelInfo.description == null || fc.labelInfo.description === 'Help Text') {\n        if (parentDataNode[CedarModel.ui][CedarModel.propertyDescriptions] !== undefined) {\n          fc.labelInfo.description = parentDataNode[CedarModel.ui][CedarModel.propertyDescriptions][name];\n        }\n      }\n      if (fc.labelInfo.label == null || fc.labelInfo.label === name) {\n        if (parentDataNode[CedarModel.ui][CedarModel.propertyLabels] !== undefined) {\n          fc.labelInfo.label = parentDataNode[CedarModel.ui][CedarModel.propertyLabels][name];\n        }\n      }\n    }\n  }\n\n  private static extractMultiInfo(templateFragment: object, mr: MultiComponent): void {\n    mr.multiInfo.minItems = templateFragment[CedarModel.minItems];\n    mr.multiInfo.maxItems = templateFragment[CedarModel.maxItems];\n  }\n\n  private static extractTemplateLabels(templateJsonObj: object, template: CedarTemplate): void {\n    template.labelInfo.label = templateJsonObj[JsonSchema.schemaName];\n    template.labelInfo.description = templateJsonObj[JsonSchema.schemaDescription];\n  }\n\n  private static extractStaticData(\n    dataNode: object,\n    parentDataNode: object,\n    name: string,\n    sfc: StaticFieldComponent,\n  ): void {\n    sfc.basicInfo.inputType = dataNode[CedarModel.ui][CedarModel.inputType];\n    sfc.labelInfo.preferredLabel = dataNode[CedarModel.skosPrefLabel];\n    sfc.contentInfo.content = dataNode[CedarModel.ui][CedarModel.content];\n    sfc.labelInfo.description = dataNode[JsonSchema.schemaDescription];\n    sfc.labelInfo.label = dataNode[JsonSchema.schemaName];\n    if (parentDataNode != null) {\n      if (sfc.labelInfo.description == null || sfc.labelInfo.description === 'Help Text') {\n        if (parentDataNode[CedarModel.ui][CedarModel.propertyDescriptions] !== undefined) {\n          sfc.labelInfo.description = parentDataNode[CedarModel.ui][CedarModel.propertyDescriptions][name];\n        }\n      }\n      if (sfc.labelInfo.label == null || sfc.labelInfo.label === name) {\n        if (parentDataNode[CedarModel.ui][CedarModel.propertyLabels] !== undefined) {\n          sfc.labelInfo.label = parentDataNode[CedarModel.ui][CedarModel.propertyLabels][name];\n        }\n      }\n    }\n  }\n\n  // Group RTF/image/video fields into consecutive pairs. Any pair gets combined\n  // and displayed inline wherever it's located.\n  // If the RTF/image/video field is odd (not paired with another RTF/image/video),\n  // wrap this field into the next dynamic field/element\n  private static collapseStaticFieldsIntoNextFieldOrElement(component: CedarComponent): void {\n    // re-iterate, inject static components (images) into the next dynamic components\n    // but only if they aren't paired with other like fields\n    if (ComponentTypeHandler.isContainerComponent(component)) {\n      const elementComponent = component as ElementComponent;\n      let prevChild: CedarComponent = null;\n      const newChildren: CedarComponent[] = [];\n      let isStaticPair = false;\n\n      for (let i = 0; i < elementComponent.children.length; i++) {\n        const currentChild: CedarComponent = elementComponent.children[i];\n\n        if (\n          ComponentTypeHandler.isFieldOrElement(currentChild) &&\n          ComponentTypeHandler.isStaticContentComponent(prevChild) &&\n          !isStaticPair\n        ) {\n          currentChild.linkedStaticFieldComponent = prevChild as StaticFieldComponent;\n          newChildren.pop();\n          newChildren.push(currentChild);\n        } else {\n          newChildren.push(currentChild);\n        }\n\n        if (\n          !isStaticPair &&\n          ComponentTypeHandler.isStaticContentComponent(currentChild) &&\n          ComponentTypeHandler.isStaticContentComponent(prevChild)\n        ) {\n          isStaticPair = true;\n        } else if (isStaticPair) {\n          isStaticPair = false;\n        }\n        prevChild = currentChild;\n      }\n      elementComponent.children = newChildren;\n    }\n  }\n}\n","import { CedarComponent } from '../models/component/cedar-component.model';\nimport { SingleFieldComponent } from '../models/field/single-field-component.model';\nimport { MultiFieldComponent } from '../models/field/multi-field-component.model';\nimport { StaticFieldComponent } from '../models/static/static-field-component.model';\nimport { InputType } from '../models/input-type.model';\nimport { CedarTemplate } from '../models/template/cedar-template.model';\nimport { SingleElementComponent } from '../models/element/single-element-component.model';\nimport { MultiElementComponent } from '../models/element/multi-element-component.model';\n\nexport class ComponentTypeHandler {\n  public static isImage(component: CedarComponent): boolean {\n    return component instanceof StaticFieldComponent && component.basicInfo.inputType === InputType.image;\n  }\n\n  static isYoutube(component: CedarComponent): boolean {\n    return component instanceof StaticFieldComponent && component.basicInfo.inputType === InputType.youtube;\n  }\n\n  public static isRichText(component: CedarComponent): boolean {\n    return component instanceof StaticFieldComponent && component.basicInfo.inputType === InputType.richText;\n  }\n\n  public static isStaticContentComponent(component: CedarComponent): boolean {\n    return this.isImage(component) || this.isYoutube(component) || this.isRichText(component);\n  }\n\n  public static isField(component: CedarComponent): boolean {\n    return component instanceof SingleFieldComponent || component instanceof MultiFieldComponent;\n  }\n\n  public static isElement(component: CedarComponent): boolean {\n    return component instanceof SingleElementComponent || component instanceof MultiElementComponent;\n  }\n\n  static isContainerComponent(component: CedarComponent): boolean {\n    return (\n      component instanceof CedarTemplate ||\n      component instanceof SingleElementComponent ||\n      component instanceof MultiElementComponent\n    );\n  }\n\n  static isTemplate(component: CedarComponent): boolean {\n    return component instanceof CedarTemplate;\n  }\n\n  static isFieldOrElement(component: CedarComponent): boolean {\n    return this.isField(component) || this.isElement(component);\n  }\n\n  static isMulti(component: CedarComponent): boolean {\n    return component instanceof MultiFieldComponent || component instanceof MultiElementComponent;\n  }\n}\n","import { TemplateComponent } from '../models/template/template-component.model';\nimport { CedarComponent } from '../models/component/cedar-component.model';\nimport { SingleElementComponent } from '../models/element/single-element-component.model';\nimport { MultiElementComponent } from '../models/element/multi-element-component.model';\nimport { CedarTemplate } from '../models/template/cedar-template.model';\nimport { ElementComponent } from '../models/component/element-component.model';\nimport { SingleFieldComponent } from '../models/field/single-field-component.model';\nimport { MultiFieldComponent } from '../models/field/multi-field-component.model';\nimport { FieldComponent } from '../models/component/field-component.model';\nimport { JsonSchema } from '../models/json-schema.model';\nimport * as _ from 'lodash-es';\nimport { InstanceExtractData } from '../models/instance-extract-data.model';\nimport { InstanceFullData } from '../models/instance-full-data.model';\nimport { DataObjectUtil } from '../util/data-object-util';\nimport { MultiInstanceObjectHandler } from './multi-instance-object.handler';\nimport { CedarInputTemplate } from '../models/cedar-input-template.model';\nimport { DataObjectBuildingMode } from '../models/enum/data-object-building-mode.model';\n\nexport class DataObjectBuilderHandler {\n  private dataObject: object;\n  private dataObjectFull: object;\n  private templateJsonObj: object;\n  private templateRepresentation: TemplateComponent;\n  private multiInstanceObjectService: MultiInstanceObjectHandler;\n\n  static getSubTemplate(template: CedarInputTemplate, path: string[]): CedarInputTemplate {\n    if (path.length === 0) {\n      return template;\n    }\n    const firstPath = path[0];\n    const remainingPath = path.slice(1);\n    const subTemplate = DataObjectUtil.getSafeSubTemplate(template, firstPath);\n    return this.getSubTemplate(subTemplate, remainingPath);\n  }\n\n  public static buildRecursively(\n    component: CedarComponent,\n    dataObject: InstanceExtractData,\n    templateJsonObj: CedarInputTemplate,\n    buildingMode: DataObjectBuildingMode,\n  ): void {\n    let ret = null;\n    if (templateJsonObj != null) {\n      DataObjectBuilderHandler.addContext(component, dataObject, templateJsonObj, buildingMode);\n    }\n\n    if (\n      component instanceof SingleElementComponent ||\n      component instanceof MultiElementComponent ||\n      component instanceof CedarTemplate\n    ) {\n      const iterableComponent: ElementComponent = component as ElementComponent;\n      const targetName = iterableComponent.name;\n\n      if (component instanceof MultiElementComponent) {\n        // MultiElement\n        const multiElement: MultiElementComponent = component as MultiElementComponent;\n        dataObject[targetName] = DataObjectUtil.getEmptyList();\n        if (multiElement.multiInfo.minItems > 0) {\n          const dummyTargetObject: object = DataObjectUtil.getEmptyObject();\n          const subTemplate = DataObjectUtil.getSafeSubTemplate(templateJsonObj, targetName);\n          for (const childComponent of iterableComponent.children) {\n            DataObjectBuilderHandler.buildRecursively(childComponent, dummyTargetObject, subTemplate, buildingMode);\n          }\n          for (let idx = 0; idx < multiElement.multiInfo.minItems; idx++) {\n            const clone = _.cloneDeep(dummyTargetObject as any);\n            dataObject[targetName].push(clone);\n          }\n        }\n        if (component instanceof MultiElementComponent) {\n          dataObject[targetName].forEach((child) => {\n            DataObjectBuilderHandler.addRandomAtId(child);\n          });\n        }\n      } else {\n        // Single Element || Template\n        dataObject[targetName] = DataObjectUtil.getEmptyObject();\n        const subTemplate = DataObjectUtil.getSafeSubTemplate(templateJsonObj, targetName);\n        for (const childComponent of iterableComponent.children) {\n          DataObjectBuilderHandler.buildRecursively(childComponent, dataObject[targetName], subTemplate, buildingMode);\n        }\n        if (component instanceof SingleElementComponent) {\n          DataObjectBuilderHandler.addRandomAtId(dataObject[targetName]);\n        }\n      }\n\n      ret = dataObject[targetName];\n    }\n    if (component instanceof SingleFieldComponent || component instanceof MultiFieldComponent) {\n      const nonIterableComponent = component as FieldComponent;\n      const targetName = nonIterableComponent.name;\n      if (component instanceof MultiFieldComponent) {\n        // MultiFieldComponent\n        const multiField: MultiFieldComponent = component as MultiFieldComponent;\n        dataObject[targetName] = DataObjectUtil.getEmptyList();\n        if (multiField.multiInfo.minItems > 0) {\n          const subTemplate = DataObjectUtil.getSafeSubTemplate(templateJsonObj, targetName);\n          for (let idx = 0; idx < multiField.multiInfo.minItems; idx++) {\n            dataObject[targetName].push(DataObjectUtil.getEmptyValueWrapper(subTemplate, buildingMode));\n          }\n          if (component?.choiceInfo?.choices?.length > 0) {\n            const values = [];\n            for (const choice of component.choiceInfo.choices) {\n              if (choice.selectedByDefault) {\n                values.push(choice.label);\n              }\n            }\n            dataObject[targetName] = DataObjectUtil.getMultiValueWrapper(subTemplate, buildingMode, values);\n          }\n        }\n      } else {\n        // SingleFieldComponent\n        const subTemplate = DataObjectUtil.getSafeSubTemplate(templateJsonObj, targetName);\n        dataObject[targetName] = DataObjectUtil.getEmptyValueWrapper(subTemplate, buildingMode);\n        if (component?.choiceInfo?.choices?.length > 0) {\n          let value = null;\n          for (const choice of component.choiceInfo.choices) {\n            if (choice.selectedByDefault) {\n              value = choice.label;\n            }\n          }\n          dataObject[targetName] = DataObjectUtil.getSingleValueWrapper(subTemplate, buildingMode, value);\n        }\n      }\n      ret = dataObject[targetName];\n    }\n    return ret;\n  }\n\n  public static setCurrentCountToMinRecursively(component: CedarComponent, path: string[]): void {\n    if (path.length === 0) {\n      return;\n    }\n    // const firstPath = path[0];\n    const remainingPath = path.slice(1);\n    if (component instanceof SingleElementComponent) {\n      const singleElement: SingleElementComponent = component as SingleElementComponent;\n      for (const childComponent of singleElement.children) {\n        DataObjectBuilderHandler.setCurrentCountToMinRecursively(childComponent, remainingPath);\n      }\n    } else if (component instanceof MultiElementComponent) {\n      const multiElement: MultiElementComponent = component as MultiElementComponent;\n      const min = multiElement.multiInfo.getSafeMinItems();\n      if (min === 0) {\n        multiElement.multiInfo.minItems = 1;\n      }\n      for (const childComponent of multiElement.children) {\n        DataObjectBuilderHandler.setCurrentCountToMinRecursively(childComponent, remainingPath);\n      }\n    } else if (component instanceof MultiFieldComponent) {\n      const multiField: MultiFieldComponent = component as MultiFieldComponent;\n      const min = multiField.multiInfo.getSafeMinItems();\n      if (min === 0) {\n        multiField.multiInfo.minItems = 1;\n      }\n    }\n  }\n\n  public static addContext(\n    component: CedarComponent,\n    dataObject: InstanceExtractData,\n    templateJsonObj: CedarInputTemplate,\n    buildingMode: DataObjectBuildingMode,\n  ): void {\n    if (buildingMode === DataObjectBuildingMode.INCLUDE_CONTEXT) {\n      const props = templateJsonObj[JsonSchema.properties];\n      const propsContext = props[JsonSchema.atContext];\n      const propsContextProps = propsContext[JsonSchema.properties];\n      const p: object = {};\n      for (const key of Object.keys(propsContextProps)) {\n        p[key] = DataObjectUtil.convertTemplateContextNode(propsContextProps[key]);\n      }\n      dataObject[JsonSchema.atContext] = p;\n    }\n  }\n\n  public static addRandomAtId(dataObject: InstanceExtractData): void {\n    if (!Object.hasOwn(dataObject, JsonSchema.atId)) {\n      const iri = DataObjectBuilderHandler.getTemplateElementInstanceIRIPrefix() + DataObjectUtil.generateGUID();\n      dataObject[JsonSchema.atId] = iri;\n    }\n  }\n\n  public static getTemplateElementInstanceIRIPrefix(): string {\n    return DataObjectUtil.getIriPrefix() + 'template-element-instances/';\n  }\n\n  injectMultiInstanceService(multiInstanceObjectService: MultiInstanceObjectHandler): void {\n    this.multiInstanceObjectService = multiInstanceObjectService;\n  }\n\n  buildNewExtractDataObject(\n    templateRepresentation: TemplateComponent,\n    templateJsonObj: CedarInputTemplate,\n  ): InstanceExtractData {\n    this.templateJsonObj = templateJsonObj;\n    this.templateRepresentation = templateRepresentation;\n    this.dataObject = new InstanceExtractData();\n    this.buildNewByIterating(this.dataObject, templateJsonObj, DataObjectBuildingMode.EXCLUDE_CONTEXT);\n    return this.dataObject;\n  }\n\n  buildNewFullDataObject(\n    templateRepresentation: TemplateComponent,\n    templateJsonObj: CedarInputTemplate,\n  ): InstanceFullData {\n    this.templateJsonObj = templateJsonObj;\n    this.templateRepresentation = templateRepresentation;\n    this.dataObjectFull = new InstanceFullData();\n    this.buildNewByIterating(this.dataObjectFull, templateJsonObj, DataObjectBuildingMode.INCLUDE_CONTEXT);\n    return this.dataObjectFull;\n  }\n\n  private buildNewByIterating(\n    dataObject: InstanceExtractData,\n    templateJsonObj: CedarInputTemplate,\n    buildingMode: DataObjectBuildingMode,\n  ): void {\n    if (this.templateRepresentation != null && this.templateRepresentation.children != null) {\n      for (const childComponent of this.templateRepresentation.children) {\n        DataObjectBuilderHandler.buildRecursively(childComponent, dataObject, templateJsonObj, buildingMode);\n      }\n    }\n  }\n}\n","import { MultiInstanceObjectInfo } from '../models/info/multi-instance-object-info.model';\nimport { CedarComponent } from '../models/component/cedar-component.model';\nimport { SingleElementComponent } from '../models/element/single-element-component.model';\nimport { CedarTemplate } from '../models/template/cedar-template.model';\nimport { MultiElementComponent } from '../models/element/multi-element-component.model';\nimport { DataContext } from '../util/data-context';\nimport { MultiInstanceObjectHandler } from './multi-instance-object.handler';\nimport { SingleFieldComponent } from '../models/field/single-field-component.model';\nimport { JsonSchema } from '../models/json-schema.model';\nimport { MultiFieldComponent } from '../models/field/multi-field-component.model';\nimport { FieldComponent } from '../models/component/field-component.model';\nimport { InstanceExtractData } from '../models/instance-extract-data.model';\nimport { CedarModel } from '../models/cedar-model.model';\nimport { DataObjectUtil } from '../util/data-object-util';\nimport { InputType } from '../models/input-type.model';\nimport { MessageHandlerService } from '../service/message-handler.service';\n\nexport class DataObjectDataValueHandler {\n  private messageHandlerService: MessageHandlerService;\n\n  constructor(messageHandlerService: MessageHandlerService) {\n    this.messageHandlerService = messageHandlerService;\n  }\n\n  readonly DATA_SUBOBJECT_KEY = 'dataSubObject';\n  readonly CHILD_COMPONENT_KEY = 'childComponent';\n  readonly PARENT_DATA_SUBOBJECT_KEY = 'parentDataSubObject';\n  readonly REMAINING_PATH_KEY = 'remainingPath';\n\n  private injectValue(target: InstanceExtractData, valueObject: object, fullPath: string[]): void {\n    if (target === null || target === undefined) {\n      this.messageHandlerService.error('Unable to set missing data target:' + fullPath);\n    } else {\n      if (Object.hasOwn(valueObject, JsonSchema.atValue)) {\n        target[JsonSchema.atValue] = valueObject[JsonSchema.atValue];\n      } else {\n        delete target[JsonSchema.atValue];\n        target[JsonSchema.atId] = valueObject[JsonSchema.atId];\n        target[JsonSchema.rdfsLabel] = valueObject[JsonSchema.rdfsLabel];\n      }\n    }\n  }\n\n  private injectArrayValue(target: InstanceExtractData, valueArray: object[]): void {\n    (target as Array<object>).length = 0;\n    (target as Array<object>).push(...valueArray);\n  }\n\n  private injectAttributeValue(\n    dataObject: InstanceExtractData,\n    currentIndex: number,\n    parentDataObject: InstanceExtractData,\n    component: CedarComponent,\n    valueObject: object,\n  ): void {\n    const oldName = dataObject[currentIndex];\n    let newName = valueObject[JsonSchema.reservedAttributeName];\n\n    if (!newName || this.isDuplicateAttributeName(newName, dataObject, parentDataObject, currentIndex)) {\n      newName = this.getDefaultAttributeName(dataObject, parentDataObject, currentIndex);\n    }\n\n    const oldNameIndex = (dataObject as Array<string>).indexOf(oldName);\n    dataObject[currentIndex] = newName;\n    const needsDeleting = oldName && newName !== oldName && oldNameIndex === currentIndex;\n\n    if (needsDeleting) {\n      // deleting parent old name entry\n      delete parentDataObject[oldName];\n    }\n\n    parentDataObject[newName] = valueObject[JsonSchema.reservedAttributeValue];\n\n    if (Object.hasOwn(parentDataObject, JsonSchema.atContext)) {\n      if (Object.hasOwn(parentDataObject[JsonSchema.atContext], component.name)) {\n        delete parentDataObject[JsonSchema.atContext][component.name];\n      }\n\n      let elemId = '';\n\n      if (needsDeleting) {\n        elemId = parentDataObject[JsonSchema.atContext][oldName];\n        delete parentDataObject[JsonSchema.atContext][oldName];\n      }\n\n      if (!Object.hasOwn(parentDataObject[JsonSchema.atContext], newName)) {\n        if (!elemId || elemId.length === 0) {\n          elemId = CedarModel.baseTemplateURL + '/' + JsonSchema.properties + '/' + DataObjectUtil.generateGUID();\n        }\n        parentDataObject[JsonSchema.atContext][newName] = elemId;\n      }\n    }\n  }\n\n  private setDataPathValueRecursively(\n    dataObject: InstanceExtractData,\n    parentDataObject: InstanceExtractData,\n    component: CedarComponent,\n    multiInstanceObjectService: MultiInstanceObjectHandler,\n    path: string[],\n    valueObject: object,\n    fullPath: string[],\n  ): void {\n    if (path.length === 0) {\n      if (component instanceof SingleFieldComponent) {\n        this.injectValue(dataObject, valueObject, fullPath);\n      } else {\n        const multiField = component as MultiFieldComponent;\n        const multiInstanceInfo: MultiInstanceObjectInfo =\n          multiInstanceObjectService.getMultiInstanceInfoForComponent(multiField);\n        const currentIndex = multiInstanceInfo.currentIndex;\n\n        if (Object.hasOwn(valueObject, JsonSchema.reservedAttributeName)) {\n          this.injectAttributeValue(dataObject, currentIndex, parentDataObject, component, valueObject);\n        } else if (valueObject instanceof Array) {\n          this.injectArrayValue(dataObject, valueObject);\n        } else {\n          this.injectValue(dataObject[currentIndex], valueObject, fullPath);\n        }\n      }\n    } else {\n      const downstreamObjects = this.getDownstreamObjects(dataObject, component, multiInstanceObjectService, path);\n      const dataSubObjectKey = this.DATA_SUBOBJECT_KEY;\n      const childComponentKey = this.CHILD_COMPONENT_KEY;\n      const parentDataSubObjectKey = this.PARENT_DATA_SUBOBJECT_KEY;\n      const remainingPathKey = this.REMAINING_PATH_KEY;\n      this.setDataPathValueRecursively(\n        downstreamObjects[dataSubObjectKey],\n        downstreamObjects[parentDataSubObjectKey],\n        downstreamObjects[childComponentKey],\n        multiInstanceObjectService,\n        downstreamObjects[remainingPathKey],\n        valueObject,\n        fullPath,\n      );\n    }\n  }\n\n  private deleteAttributeValueRecursively(\n    dataObject: InstanceExtractData,\n    parentDataObject: InstanceExtractData,\n    component: CedarComponent,\n    multiInstanceObjectService: MultiInstanceObjectHandler,\n    path: string[],\n    valueObject: object,\n  ): void {\n    if (path.length === 0) {\n      const name = valueObject[JsonSchema.reservedAttributeName];\n      delete parentDataObject[name];\n\n      if (Object.hasOwn(parentDataObject, JsonSchema.atContext)) {\n        delete parentDataObject[JsonSchema.atContext][name];\n      }\n    } else {\n      const downstreamObjects = this.getDownstreamObjects(dataObject, component, multiInstanceObjectService, path);\n      const dataSubObjectKey = this.DATA_SUBOBJECT_KEY;\n      const childComponentKey = this.CHILD_COMPONENT_KEY;\n      const parentDataSubObjectKey = this.PARENT_DATA_SUBOBJECT_KEY;\n      const remainingPathKey = this.REMAINING_PATH_KEY;\n      this.deleteAttributeValueRecursively(\n        downstreamObjects[dataSubObjectKey],\n        downstreamObjects[parentDataSubObjectKey],\n        downstreamObjects[childComponentKey],\n        multiInstanceObjectService,\n        downstreamObjects[remainingPathKey],\n        valueObject,\n      );\n    }\n  }\n\n  private getDownstreamObjects(\n    dataObject: InstanceExtractData,\n    component: CedarComponent,\n    multiInstanceObjectService: MultiInstanceObjectHandler,\n    path: string[],\n  ): object {\n    const obj = {};\n    const firstPath = path[0];\n    const remainingPath = path.slice(1);\n    let childComponent: CedarComponent = null;\n    let dataSubObject = null;\n    let parentDataSubObject = null;\n\n    if (component instanceof SingleElementComponent) {\n      childComponent = (component as SingleElementComponent).getChildByName(firstPath);\n      dataSubObject = dataObject[firstPath];\n      parentDataSubObject = dataObject;\n    } else if (component instanceof CedarTemplate) {\n      childComponent = (component as CedarTemplate).getChildByName(firstPath);\n      dataSubObject = dataObject[firstPath];\n      parentDataSubObject = dataObject;\n    } else if (component instanceof MultiElementComponent) {\n      const multiElement = component as MultiElementComponent;\n      const multiInstanceInfo: MultiInstanceObjectInfo =\n        multiInstanceObjectService.getMultiInstanceInfoForComponent(multiElement);\n      const currentIndex = multiInstanceInfo.currentIndex;\n      childComponent = multiElement.getChildByName(firstPath);\n      dataSubObject = dataObject[currentIndex][firstPath];\n      parentDataSubObject = dataObject[currentIndex];\n    }\n    const dataSubObjectKey = this.DATA_SUBOBJECT_KEY;\n    const childComponentKey = this.CHILD_COMPONENT_KEY;\n    const parentDataSubObjectKey = this.PARENT_DATA_SUBOBJECT_KEY;\n    const remainingPathKey = this.REMAINING_PATH_KEY;\n    obj[dataSubObjectKey] = dataSubObject;\n    obj[childComponentKey] = childComponent;\n    obj[parentDataSubObjectKey] = parentDataSubObject;\n    obj[remainingPathKey] = remainingPath;\n\n    return obj;\n  }\n\n  private isDuplicateAttributeName(\n    name: string,\n    dataObject: InstanceExtractData,\n    parentDataObject: InstanceExtractData,\n    currentIndex: number,\n  ): boolean {\n    const ind = (dataObject as Array<string>).indexOf(name);\n\n    // completely new name, check if parent object's names conflict\n    if (ind < 0) {\n      return Object.hasOwn(parentDataObject, name);\n    }\n    // name has not changed\n    else if (ind === currentIndex) {\n      return false;\n    }\n    // name changed but already exists in a different slot\n    return true;\n  }\n\n  private getDefaultAttributeName(\n    dataObject: InstanceExtractData,\n    parentDataObject: InstanceExtractData,\n    currentIndex: number,\n  ): string {\n    let nameIndex = currentIndex + 1;\n    let defName = JsonSchema.reservedDefaultAttributeName + nameIndex;\n\n    while (this.isDuplicateAttributeName(defName, dataObject, parentDataObject, currentIndex) && nameIndex < 1000) {\n      nameIndex++;\n      defName = JsonSchema.reservedDefaultAttributeName + nameIndex;\n    }\n\n    return defName;\n  }\n\n  changeValue(\n    dataContext: DataContext,\n    component: FieldComponent,\n    multiInstanceObjectService: MultiInstanceObjectHandler,\n    value: string,\n  ): void {\n    const path = component.path;\n    const valueObject = {};\n    if (component.basicInfo.inputType === InputType.link) {\n      if (value !== null) {\n        valueObject[JsonSchema.atId] = value;\n      }\n    } else {\n      valueObject[JsonSchema.atValue] = value;\n    }\n    this.setDataPathValueRecursively(\n      dataContext.instanceExtractData,\n      null,\n      dataContext.templateRepresentation,\n      multiInstanceObjectService,\n      path,\n      valueObject,\n      path,\n    );\n    this.setDataPathValueRecursively(\n      dataContext.instanceFullData,\n      null,\n      dataContext.templateRepresentation,\n      multiInstanceObjectService,\n      path,\n      valueObject,\n      path,\n    );\n  }\n\n  changeListValue(\n    dataContext: DataContext,\n    component: FieldComponent,\n    multiInstanceObjectService: MultiInstanceObjectHandler,\n    value: string[],\n  ): void {\n    const path = component.path;\n    const valueArray = [];\n\n    if (value.length === 0) {\n      value = [null];\n    }\n\n    for (const val of value) {\n      const obj = {};\n      obj[JsonSchema.atValue] = val;\n      valueArray.push(obj);\n    }\n\n    this.setDataPathValueRecursively(\n      dataContext.instanceExtractData,\n      null,\n      dataContext.templateRepresentation,\n      multiInstanceObjectService,\n      path,\n      valueArray,\n      path,\n    );\n    this.setDataPathValueRecursively(\n      dataContext.instanceFullData,\n      null,\n      dataContext.templateRepresentation,\n      multiInstanceObjectService,\n      path,\n      valueArray,\n      path,\n    );\n  }\n\n  changeAttributeValue(\n    dataContext: DataContext,\n    component: FieldComponent,\n    multiInstanceObjectService: MultiInstanceObjectHandler,\n    key: string,\n    value: string,\n  ): void {\n    const path = component.path;\n    const valueObject = {};\n    const obj = {};\n\n    if (value && value.length === 0) {\n      value = null;\n    }\n\n    obj[JsonSchema.atValue] = value;\n    valueObject[JsonSchema.reservedAttributeName] = key;\n    valueObject[JsonSchema.reservedAttributeValue] = obj;\n\n    this.setDataPathValueRecursively(\n      dataContext.instanceExtractData,\n      null,\n      dataContext.templateRepresentation,\n      multiInstanceObjectService,\n      path,\n      valueObject,\n      path,\n    );\n    this.setDataPathValueRecursively(\n      dataContext.instanceFullData,\n      null,\n      dataContext.templateRepresentation,\n      multiInstanceObjectService,\n      path,\n      valueObject,\n      path,\n    );\n  }\n\n  deleteAttributeValue(\n    dataContext: DataContext,\n    component: FieldComponent,\n    multiInstanceObjectService: MultiInstanceObjectHandler,\n    key: string,\n  ): void {\n    if (!key) {\n      return;\n    }\n\n    const path = component.path;\n    const valueObject = {};\n    valueObject[JsonSchema.reservedAttributeName] = key;\n\n    this.deleteAttributeValueRecursively(\n      dataContext.instanceExtractData,\n      null,\n      dataContext.templateRepresentation,\n      multiInstanceObjectService,\n      path,\n      valueObject,\n    );\n    this.deleteAttributeValueRecursively(\n      dataContext.instanceFullData,\n      null,\n      dataContext.templateRepresentation,\n      multiInstanceObjectService,\n      path,\n      valueObject,\n    );\n  }\n\n  changeControlledValue(\n    dataContext: DataContext,\n    component: FieldComponent,\n    multiInstanceObjectService: MultiInstanceObjectHandler,\n    atId: string,\n    prefLabel: string,\n  ): void {\n    const path = component.path;\n    const valueObject = {};\n\n    if (atId) {\n      valueObject[JsonSchema.atId] = atId;\n      valueObject[JsonSchema.rdfsLabel] = prefLabel;\n    }\n\n    this.setDataPathValueRecursively(\n      dataContext.instanceExtractData,\n      null,\n      dataContext.templateRepresentation,\n      multiInstanceObjectService,\n      path,\n      valueObject,\n      path,\n    );\n    this.setDataPathValueRecursively(\n      dataContext.instanceFullData,\n      null,\n      dataContext.templateRepresentation,\n      multiInstanceObjectService,\n      path,\n      valueObject,\n      path,\n    );\n  }\n}\n","import * as _ from 'lodash-es';\nimport { MultiComponent } from '../models/component/multi-component.model';\nimport { MultiInstanceObjectInfo } from '../models/info/multi-instance-object-info.model';\nimport { CedarComponent } from '../models/component/cedar-component.model';\nimport { SingleElementComponent } from '../models/element/single-element-component.model';\nimport { CedarTemplate } from '../models/template/cedar-template.model';\nimport { MultiElementComponent } from '../models/element/multi-element-component.model';\nimport { DataContext } from '../util/data-context';\nimport { MultiInstanceObjectHandler } from './multi-instance-object.handler';\nimport { DataObjectBuilderHandler } from './data-object-builder.handler';\nimport { InstanceExtractData } from '../models/instance-extract-data.model';\nimport { CedarInputTemplate } from '../models/cedar-input-template.model';\nimport { DataObjectBuildingMode } from '../models/enum/data-object-building-mode.model';\nimport { TemplateComponent } from '../models/template/template-component.model';\nimport { DataObjectUtil } from '../util/data-object-util';\nimport { MessageHandlerService } from '../service/message-handler.service';\nimport { JsonSchema } from '../models/json-schema.model';\n\nexport class DataObjectStructureHandler {\n  public getDataPathNodeRecursively(\n    dataObject: InstanceExtractData,\n    component: CedarComponent,\n    path: string[],\n    multiInstanceObjectService: MultiInstanceObjectHandler,\n    depth = 0,\n  ): InstanceExtractData {\n    if (path.length === 0) {\n      return dataObject;\n    } else {\n      const firstPath = path[0];\n      const remainingPath = path.slice(1);\n      let childComponent: CedarComponent = null;\n      let dataSubObject = null;\n      if (component instanceof SingleElementComponent) {\n        childComponent = (component as SingleElementComponent).getChildByName(firstPath);\n        if (dataObject !== null && dataObject !== undefined) {\n          dataSubObject = dataObject[firstPath];\n        }\n      } else if (component instanceof CedarTemplate) {\n        childComponent = (component as CedarTemplate).getChildByName(firstPath);\n        if (dataObject !== null && dataObject !== undefined) {\n          dataSubObject = dataObject[firstPath];\n        }\n      } else if (component instanceof MultiElementComponent) {\n        const multiElement = component as MultiElementComponent;\n        const multiInstanceInfo: MultiInstanceObjectInfo =\n          multiInstanceObjectService.getMultiInstanceInfoForComponent(multiElement);\n\n        if (!multiInstanceInfo) {\n          return null;\n        }\n        const currentIndex = multiInstanceInfo.currentIndex;\n        childComponent = multiElement.getChildByName(firstPath);\n        if (dataObject !== null && dataObject !== undefined) {\n          if (Object.hasOwn(dataObject, currentIndex)) {\n            dataSubObject = dataObject[currentIndex][firstPath];\n          }\n        }\n      }\n      return this.getDataPathNodeRecursively(\n        dataSubObject,\n        childComponent,\n        remainingPath,\n        multiInstanceObjectService,\n        depth + 1,\n      );\n    }\n  }\n\n  public getParentDataPathNodeRecursively(\n    dataObject: InstanceExtractData,\n    parentDataObject: InstanceExtractData,\n    component: CedarComponent,\n    path: string[],\n    multiInstanceObjectService: MultiInstanceObjectHandler,\n  ): InstanceExtractData {\n    if (path.length === 0) {\n      return parentDataObject;\n    } else {\n      const firstPath = path[0];\n      const remainingPath = path.slice(1);\n      let childComponent: CedarComponent = null;\n      let dataSubObject = null;\n      let parentDataSubObject = null;\n\n      if (component instanceof SingleElementComponent) {\n        childComponent = (component as SingleElementComponent).getChildByName(firstPath);\n        dataSubObject = dataObject[firstPath];\n        parentDataSubObject = dataObject;\n      } else if (component instanceof CedarTemplate) {\n        childComponent = (component as CedarTemplate).getChildByName(firstPath);\n        dataSubObject = dataObject[firstPath];\n        parentDataSubObject = dataObject;\n      } else if (component instanceof MultiElementComponent) {\n        const multiElement = component as MultiElementComponent;\n        const multiInstanceInfo: MultiInstanceObjectInfo =\n          multiInstanceObjectService.getMultiInstanceInfoForComponent(multiElement);\n        const currentIndex = multiInstanceInfo.currentIndex;\n\n        if (currentIndex < 0) {\n          return null;\n        }\n        childComponent = multiElement.getChildByName(firstPath);\n        dataSubObject = dataObject[currentIndex][firstPath];\n        parentDataSubObject = dataObject[currentIndex];\n      }\n      return this.getParentDataPathNodeRecursively(\n        dataSubObject,\n        parentDataSubObject,\n        childComponent,\n        remainingPath,\n        multiInstanceObjectService,\n      );\n    }\n  }\n\n  multiInstanceItemAdd(\n    dataContext: DataContext,\n    component: MultiComponent,\n    multiInstanceObjectService: MultiInstanceObjectHandler,\n    messageHandlerService: MessageHandlerService,\n  ): void {\n    const multiInstanceInfo: MultiInstanceObjectInfo =\n      multiInstanceObjectService.getMultiInstanceInfoForComponent(component);\n    const instanceExtractData: object = dataContext.instanceExtractData;\n    const instanceFullData: object = dataContext.instanceFullData;\n    const templateRepresentation: TemplateComponent = dataContext.templateRepresentation;\n    const templateInput: CedarInputTemplate = dataContext.templateInput;\n\n    this.performItemAdd(\n      instanceExtractData,\n      templateRepresentation,\n      component,\n      multiInstanceObjectService,\n      multiInstanceInfo,\n      templateInput,\n      messageHandlerService,\n    );\n    DataObjectUtil.deleteContext(instanceExtractData);\n    this.performItemAdd(\n      instanceFullData,\n      templateRepresentation,\n      component,\n      multiInstanceObjectService,\n      multiInstanceInfo,\n      templateInput,\n      messageHandlerService,\n    );\n  }\n\n  private performItemAdd(\n    instanceObject: InstanceExtractData,\n    templateRepresentation: TemplateComponent,\n    component: MultiComponent,\n    multiInstanceObjectService: MultiInstanceObjectHandler,\n    multiInstanceInfo: MultiInstanceObjectInfo,\n    templateInput: CedarInputTemplate,\n    messageHandlerService: MessageHandlerService,\n  ): void {\n    const dataObject = {};\n    const cloneComponent = _.cloneDeep(component);\n    DataObjectBuilderHandler.setCurrentCountToMinRecursively(cloneComponent, component.path);\n    let subTemplate = null;\n    if (templateInput != null) {\n      const shorterPath = component.path.slice(0, component.path.length - 1);\n      subTemplate = DataObjectBuilderHandler.getSubTemplate(templateInput, shorterPath);\n    }\n    DataObjectBuilderHandler.buildRecursively(\n      cloneComponent,\n      dataObject,\n      subTemplate,\n      DataObjectBuildingMode.INCLUDE_CONTEXT,\n    );\n    const newDataObject = dataObject[component.name][0];\n    const currentNodeAny = this.getDataPathNodeRecursively(\n      instanceObject,\n      templateRepresentation,\n      component.path,\n      multiInstanceObjectService,\n    );\n    const currentNodeArray = currentNodeAny as [];\n    if (currentNodeArray) {\n      currentNodeArray.splice(multiInstanceInfo.currentIndex + 1, 0, newDataObject as never);\n    } else {\n      messageHandlerService.error('missing data in instance:' + component.path);\n    }\n  }\n\n  multiInstanceItemCopy(\n    dataContext: DataContext,\n    component: MultiComponent,\n    multiInstanceObjectService: MultiInstanceObjectHandler,\n  ): void {\n    const multiInstanceInfo: MultiInstanceObjectInfo =\n      multiInstanceObjectService.getMultiInstanceInfoForComponent(component);\n    const instanceExtractData: object = dataContext.instanceExtractData;\n    const instanceFullData: object = dataContext.instanceFullData;\n    const templateRepresentation: TemplateComponent = dataContext.templateRepresentation;\n    this.performItemCopy(\n      instanceExtractData,\n      templateRepresentation,\n      component.path,\n      multiInstanceObjectService,\n      multiInstanceInfo,\n    );\n    this.performItemCopy(\n      instanceFullData,\n      templateRepresentation,\n      component.path,\n      multiInstanceObjectService,\n      multiInstanceInfo,\n    );\n  }\n\n  private performItemCopy(\n    instanceObject: InstanceExtractData,\n    templateRepresentation: TemplateComponent,\n    path: string[],\n    multiInstanceObjectService: MultiInstanceObjectHandler,\n    multiInstanceInfo: MultiInstanceObjectInfo,\n  ): void {\n    const currentNodeAny = this.getDataPathNodeRecursively(\n      instanceObject,\n      templateRepresentation,\n      path,\n      multiInstanceObjectService,\n    );\n    const currentNodeArray = currentNodeAny as [];\n    const sourceItem = currentNodeArray[multiInstanceInfo.currentIndex];\n    const cloneItem = _.cloneDeep(sourceItem);\n    // TODO: Refactor this\n    this.cleanUpAtIdsRecursively(cloneItem);\n    currentNodeArray.splice(multiInstanceInfo.currentIndex + 1, 0, cloneItem as never);\n  }\n\n  multiInstanceItemDelete(\n    dataContext: DataContext,\n    component: MultiComponent,\n    multiInstanceObjectService: MultiInstanceObjectHandler,\n  ): void {\n    const multiInstanceInfo: MultiInstanceObjectInfo =\n      multiInstanceObjectService.getMultiInstanceInfoForComponent(component);\n    const instanceExtractData: object = dataContext.instanceExtractData;\n    const instanceFullData: object = dataContext.instanceFullData;\n    const templateRepresentation: TemplateComponent = dataContext.templateRepresentation;\n    this.performItemDelete(\n      instanceExtractData,\n      templateRepresentation,\n      component.path,\n      multiInstanceObjectService,\n      multiInstanceInfo,\n    );\n    this.performItemDelete(\n      instanceFullData,\n      templateRepresentation,\n      component.path,\n      multiInstanceObjectService,\n      multiInstanceInfo,\n    );\n  }\n\n  private performItemDelete(\n    instanceObject: InstanceExtractData,\n    templateRepresentation: TemplateComponent,\n    path: string[],\n    multiInstanceObjectService: MultiInstanceObjectHandler,\n    multiInstanceInfo: MultiInstanceObjectInfo,\n  ): void {\n    const currentNodeAny = this.getDataPathNodeRecursively(\n      instanceObject,\n      templateRepresentation,\n      path,\n      multiInstanceObjectService,\n    );\n    const currentNodeArray = currentNodeAny as [];\n    currentNodeArray.splice(multiInstanceInfo.currentIndex, 1);\n  }\n\n  // TODO: refactor this. This is a naive approach.\n  // Implement this as a recursive iterator taking into account the component, the multi-info, the template, and the data object\n  private cleanUpAtIdsRecursively(item: object) {\n    if (Object.hasOwn(item, JsonSchema.atId)) {\n      const atIdValue = item[JsonSchema.atId];\n      if (atIdValue.startsWith(DataObjectBuilderHandler.getTemplateElementInstanceIRIPrefix())) {\n        delete item[JsonSchema.atId];\n        DataObjectBuilderHandler.addRandomAtId(item);\n      }\n    }\n    if (item instanceof Object) {\n      for (const key in item) {\n        const child = item[key];\n        if (child instanceof Object) {\n          this.cleanUpAtIdsRecursively(child);\n        }\n      }\n    }\n  }\n}\n","import { TemplateComponent } from '../models/template/template-component.model';\nimport { DataQualityReport } from '../models/data-quality-report.model';\nimport { DataContext } from '../util/data-context';\nimport { CedarComponent } from '../models/component/cedar-component.model';\nimport { SingleElementComponent } from '../models/element/single-element-component.model';\nimport { MultiElementComponent } from '../models/element/multi-element-component.model';\nimport { CedarTemplate } from '../models/template/cedar-template.model';\nimport { ElementComponent } from '../models/component/element-component.model';\nimport * as _ from 'lodash-es';\nimport { SingleFieldComponent } from '../models/field/single-field-component.model';\nimport { MultiFieldComponent } from '../models/field/multi-field-component.model';\nimport { FieldComponent } from '../models/component/field-component.model';\nimport { MultiInstanceInfo } from '../models/info/multi-instance-info.model';\nimport { MultiInstanceObjectInfo } from '../models/info/multi-instance-object-info.model';\nimport { HandlerContext } from '../util/handler-context';\nimport { JsonSchema } from '../models/json-schema.model';\nimport { InputType } from '../models/input-type.model';\n\nexport class DataQualityReportBuilderHandler {\n  private dataObjectFull: object;\n  private templateRepresentation: TemplateComponent;\n  private report: DataQualityReport;\n\n  buildReport(dataContext: DataContext, handlerContext: HandlerContext): DataQualityReport {\n    this.report = new DataQualityReport();\n    this.report.templateRepresentation = dataContext.templateRepresentation;\n    this.report.instanceExtractData = dataContext.instanceExtractData;\n\n    const valueTree = {};\n\n    if (dataContext.templateRepresentation != null && dataContext.templateInput != null) {\n      DataQualityReportBuilderHandler.buildRecursively(\n        dataContext.templateRepresentation,\n        this.report,\n        valueTree,\n        dataContext.multiInstanceData,\n        handlerContext,\n      );\n    }\n    this.report.valueTree = valueTree['undefined'];\n    this.report.computeValidity();\n    return this.report;\n  }\n\n  private static buildRecursively(\n    component: CedarComponent,\n    report: DataQualityReport,\n    valueTree: object,\n    multiInstanceInfo: MultiInstanceInfo,\n    handlerContext: HandlerContext,\n  ): void {\n    let ret = null;\n    if (\n      component instanceof SingleElementComponent ||\n      component instanceof MultiElementComponent ||\n      component instanceof CedarTemplate\n    ) {\n      const iterableComponent: ElementComponent = component as ElementComponent;\n      const targetName = iterableComponent.name;\n      if (component instanceof MultiElementComponent) {\n        //const multiElement: MultiElementComponent = component as MultiElementComponent;\n        valueTree[targetName] = DataQualityReportBuilderHandler.getEmptyList();\n        const multiCount = (multiInstanceInfo as any as MultiInstanceObjectInfo).currentCount;\n        if (multiCount > 0) {\n          const dummyTargetObject: object = DataQualityReportBuilderHandler.getEmptyObject();\n          const currentIndex = (multiInstanceInfo as any as MultiInstanceObjectInfo).currentIndex;\n          for (const childComponent of iterableComponent.children) {\n            DataQualityReportBuilderHandler.buildRecursively(\n              childComponent,\n              report,\n              dummyTargetObject,\n              multiInstanceInfo['children'][currentIndex][childComponent.name],\n              handlerContext,\n            );\n          }\n          const multiCount = (multiInstanceInfo as any as MultiInstanceObjectInfo).currentCount;\n          for (let idx = 0; idx < multiCount; idx++) {\n            const clone = _.cloneDeep(dummyTargetObject as any);\n            valueTree[targetName]['values'].push(clone);\n          }\n        }\n      } else {\n        valueTree[targetName] = DataQualityReportBuilderHandler.getEmptyObject();\n        for (const childComponent of iterableComponent.children) {\n          let nextMultiInstanceInfo = multiInstanceInfo[childComponent.name];\n          if (nextMultiInstanceInfo == undefined) {\n            nextMultiInstanceInfo = multiInstanceInfo['children'][0][childComponent.name];\n          }\n          DataQualityReportBuilderHandler.buildRecursively(\n            childComponent,\n            report,\n            valueTree[targetName],\n            nextMultiInstanceInfo,\n            handlerContext,\n          );\n        }\n      }\n      ret = valueTree[targetName];\n    }\n    if (component instanceof SingleFieldComponent || component instanceof MultiFieldComponent) {\n      const nonIterableComponent = component as FieldComponent;\n      const targetName = nonIterableComponent.name;\n      let isRequired = false;\n      if (component.valueInfo.requiredValue) {\n        isRequired = true;\n      }\n      const dataValueObject: object = handlerContext.getDataObjectNodeByPath(component.path);\n      if (component instanceof MultiFieldComponent) {\n        valueTree[targetName] = DataQualityReportBuilderHandler.getEmptyList();\n        const multiCount = (multiInstanceInfo as any as MultiInstanceObjectInfo).currentCount;\n        for (let idx = 0; idx < multiCount; idx++) {\n          const value = DataQualityReportBuilderHandler.extractPlainValue(dataValueObject[idx], component);\n          valueTree[targetName]['values'].push(\n            DataQualityReportBuilderHandler.getEmptyValueWrapper(value, isRequired, report),\n          );\n        }\n      } else {\n        const value = DataQualityReportBuilderHandler.extractPlainValue(dataValueObject, component);\n        valueTree[targetName] = DataQualityReportBuilderHandler.getEmptyValueWrapper(value, isRequired, report);\n      }\n      ret = valueTree[targetName];\n    }\n    return ret;\n  }\n\n  private static getEmptyValueWrapper(value: object, isRequired: boolean, report: DataQualityReport) {\n    const v = { value: value };\n    if (isRequired) {\n      v['required'] = true;\n      report.requiredFieldValueCount++;\n      if (value !== null) {\n        report.nonNullRequiredFieldValueCount++;\n      }\n    }\n    return v;\n  }\n\n  private static getSingleValueWrapper() {\n    return {};\n  }\n\n  private static getEmptyList() {\n    return { values: [] };\n  }\n\n  private static getEmptyObject() {\n    return {};\n  }\n\n  private static extractPlainValue(dataObject: object, component: SingleFieldComponent | MultiFieldComponent) {\n    if (dataObject == undefined || dataObject == null) {\n      return null;\n    }\n    if (Object.hasOwn(dataObject, JsonSchema.atValue)) {\n      return this.emptyToNull(dataObject[JsonSchema.atValue]);\n    } else if (Object.hasOwn(dataObject, JsonSchema.atId) && component.basicInfo.inputType === InputType.link) {\n      // url field single\n      return this.emptyToNull(dataObject[JsonSchema.atId]);\n    } else if (Object.hasOwn(dataObject, JsonSchema.atId)) {\n      // controlled field single\n      return this.emptyToNull(dataObject[JsonSchema.rdfsLabel]);\n    }\n    return null;\n  }\n\n  private static emptyToNull(value: any) {\n    if (value === '' || value === undefined) {\n      return null;\n    } else {\n      return value;\n    }\n  }\n}\n","import { TemplateComponent } from '../models/template/template-component.model';\nimport { ElementComponent } from '../models/component/element-component.model';\nimport { MultiComponent } from '../models/component/multi-component.model';\nimport { Injectable } from '@angular/core';\nimport { MultiFieldComponent } from '../models/field/multi-field-component.model';\nimport { SingleFieldComponent } from '../models/field/single-field-component.model';\nimport { MultiElementComponent } from '../models/element/multi-element-component.model';\nimport { SingleElementComponent } from '../models/element/single-element-component.model';\nimport { CedarComponent } from '../models/component/cedar-component.model';\nimport { CedarTemplate } from '../models/template/cedar-template.model';\nimport * as _ from 'lodash-es';\nimport { MultiInstanceInfo } from '../models/info/multi-instance-info.model';\nimport { MultiInstanceObjectInfo } from '../models/info/multi-instance-object-info.model';\nimport { InstanceExtractData } from '../models/instance-extract-data.model';\nimport { JavascriptTypes } from '../models/javascript-types.model';\nimport { JsonSchema } from '../models/json-schema.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class MultiInstanceObjectHandler {\n  public multiInstanceObject: MultiInstanceInfo;\n  private templateRepresentation: TemplateComponent;\n  private indexRegEx = new RegExp(/@#index\\[(\\d+)\\]#@/);\n\n  private static getNodeByPath(obj, arrPath: string[]): object {\n    let val: object;\n\n    for (let i = 0; i < arrPath.length; i++) {\n      if (val) {\n        val = val[arrPath[i]];\n      } else {\n        val = obj[arrPath[i]];\n      }\n    }\n    return val;\n  }\n\n  private static getMultiInstanceInfoNodeByPath(obj, arrPath: string[]): MultiInstanceInfo {\n    return MultiInstanceObjectHandler.getNodeByPath(obj, arrPath) as MultiInstanceInfo;\n  }\n\n  private static getMultiInstanceObjectInfoNodeByPath(obj, arrPath: string[]): MultiInstanceObjectInfo {\n    return MultiInstanceObjectHandler.getNodeByPath(obj, arrPath) as MultiInstanceObjectInfo;\n  }\n\n  buildNewOrFromMetadata(\n    templateRepresentation: TemplateComponent,\n    instanceExtractData: InstanceExtractData = null,\n  ): MultiInstanceInfo {\n    this.templateRepresentation = templateRepresentation;\n    this.multiInstanceObject = new MultiInstanceInfo();\n    this.buildRecursively(templateRepresentation, this.multiInstanceObject);\n\n    if (instanceExtractData) {\n      this.updateFromInstanceExtractData(instanceExtractData, [], this.multiInstanceObject);\n    }\n    return this.multiInstanceObject;\n  }\n\n  private updateFromInstanceExtractData(\n    instanceExtractDataIn: InstanceExtractData,\n    parentPath: string[],\n    multiInstanceObject: MultiInstanceInfo,\n  ): void {\n    const instanceExtractData = JSON.parse(JSON.stringify(instanceExtractDataIn));\n    // this.deleteAttributeValueFields(instanceExtractData, 0);\n\n    for (const key in instanceExtractData) {\n      const myPath: string[] = parentPath.slice();\n      myPath.push(key);\n\n      // multi-page element or multi-page field\n      if (Array.isArray(instanceExtractData[key]) && instanceExtractData[key].length > 0) {\n        this.setSingleMultiInstance(myPath.slice(), instanceExtractData[key].length, multiInstanceObject);\n\n        // field component with values or attribute-value field\n        const isField =\n          // field component with values (text or controlled)\n          (typeof instanceExtractData[key][0] === JavascriptTypes.object &&\n            (Object.hasOwn(instanceExtractData[key][0], JsonSchema.atValue) ||\n              Object.hasOwn(instanceExtractData[key][0], JsonSchema.atId))) ||\n          // attribute-value field\n          (typeof instanceExtractData[key][0] === JavascriptTypes.string && instanceExtractData[key].length > 0);\n\n        // not a field, so it is a multi-page element component\n        if (!isField) {\n          for (let i = 0; i < instanceExtractData[key].length; i++) {\n            if (i > 0) {\n              myPath.pop();\n            }\n            myPath.push(this.indexRegEx.source.replace('(\\\\d+)', i.toString()).replace(/\\\\/g, ''));\n            this.updateFromInstanceExtractData(instanceExtractData[key][i], myPath, multiInstanceObject);\n          }\n        }\n        // it's an object, can be a single-page element or a single-page field\n      } else if (\n        typeof instanceExtractData[key] === JavascriptTypes.object &&\n        instanceExtractData[key] !== null &&\n        Object.keys(instanceExtractData[key]).length > 0\n      ) {\n        // single-page field (it's never paginated, so not required for pagination,\n        // but still need to have an entry for it in multiInstanceObject)\n        if (\n          Object.hasOwn(instanceExtractData[key], JsonSchema.atValue) ||\n          Object.hasOwn(instanceExtractData[key], JsonSchema.atId)\n        ) {\n          this.setSingleMultiInstance(myPath, 1, multiInstanceObject);\n        } else {\n          // single-page element component\n          // push a dummy 0 array element for a consistent multi-paging logic\n          // multi-page structure does not differentiate between single- and multi-page components\n          myPath.push(this.indexRegEx.source.replace('(\\\\d+)', '0').replace(/\\\\/g, ''));\n          this.updateFromInstanceExtractData(instanceExtractData[key], myPath, multiInstanceObject);\n        }\n      } else {\n        if (key === JsonSchema.atId || key === JsonSchema.rdfsLabel) {\n          // DO NOTHING, we came too deep into a controlled term\n        } else {\n          // empty fields\n          // need to record the component in multiInstanceObject even if it's empty\n          this.setSingleMultiInstance(myPath, 0, multiInstanceObject);\n        }\n      }\n    }\n  }\n\n  private setSingleMultiInstance(path: string[], count: number, multiInstanceObject: MultiInstanceInfo): void {\n    const pathCopy = [];\n    for (let i = 0; i < path.length; i++) {\n      pathCopy.push(path[i]);\n      const match = path[i].match(this.indexRegEx);\n\n      if (match && match.length > 1) {\n        pathCopy.pop();\n        const pathParent = pathCopy.slice();\n        pathCopy.push('children');\n        pathCopy.push(match[1]);\n\n        const childObj = MultiInstanceObjectHandler.getMultiInstanceInfoNodeByPath(multiInstanceObject, pathCopy);\n        const componentName = path[i + 1];\n\n        // childObj is an object of type MultiInstanceInfo of structure\n        // {strKey1 => MultiInstanceObjectInfo, strKey2 => MultiInstanceObjectInfo}\n        if (childObj) {\n          const arrayElemPath = pathCopy.slice();\n          arrayElemPath.push(componentName);\n          const arrayElem = MultiInstanceObjectHandler.getMultiInstanceObjectInfoNodeByPath(\n            multiInstanceObject,\n            arrayElemPath,\n          );\n\n          // the child object (element of the array) does exist\n          // but the element inside it does not, creating base\n          if (!arrayElem) {\n            const childElem = new MultiInstanceObjectInfo();\n            childElem.componentName = componentName;\n            childObj.addChild(childElem);\n          }\n        } else {\n          // the entire child object (element of the array) does not exist\n          // need to create the object and its first base element\n          const parentObj = MultiInstanceObjectHandler.getMultiInstanceObjectInfoNodeByPath(\n            multiInstanceObject,\n            pathParent,\n          );\n          if (parentObj) {\n            const child = new MultiInstanceInfo();\n            parentObj.addChild(child);\n            const childElem = new MultiInstanceObjectInfo();\n            childElem.componentName = componentName;\n            child.addChild(childElem);\n          }\n        }\n      }\n    }\n\n    const targetObj = MultiInstanceObjectHandler.getMultiInstanceObjectInfoNodeByPath(multiInstanceObject, pathCopy);\n    if (targetObj) {\n      targetObj.componentName = path[path.length - 1];\n      targetObj.currentCount = count;\n      targetObj.currentIndex = count > 0 ? 0 : -1;\n    }\n  }\n\n  private deleteAttributeValueFields(instanceExtractData: InstanceExtractData, depth: number): void {\n    for (const key in instanceExtractData) {\n      if (Array.isArray(instanceExtractData[key]) && instanceExtractData[key].length > 0) {\n        if (typeof instanceExtractData[key][0] === JavascriptTypes.string) {\n          for (let i = 0; i < instanceExtractData[key].length; i++) {\n            delete instanceExtractData[instanceExtractData[key][i]];\n          }\n        } else {\n          if (\n            !Object.hasOwn(instanceExtractData[key][0], JsonSchema.atValue) &&\n            !Object.hasOwn(instanceExtractData[key][0], JsonSchema.atId)\n          ) {\n            for (let i = 0; i < instanceExtractData[key].length; i++) {\n              this.deleteAttributeValueFields(instanceExtractData[key][i], depth + 1);\n            }\n          }\n        }\n      } else {\n        if (\n          !Object.hasOwn(instanceExtractData[key], JsonSchema.atValue) &&\n          !Object.hasOwn(instanceExtractData[key], JsonSchema.atId)\n        ) {\n          this.deleteAttributeValueFields(instanceExtractData[key], depth + 1);\n        }\n      }\n    }\n  }\n\n  private buildRecursively(cedarComponent: CedarComponent, multiInstanceObject: MultiInstanceInfo): void {\n    if (\n      !(\n        cedarComponent instanceof MultiElementComponent ||\n        cedarComponent instanceof SingleElementComponent ||\n        cedarComponent instanceof CedarTemplate\n      )\n    ) {\n      return;\n    }\n    const elementComponent = cedarComponent as ElementComponent;\n    for (const child of elementComponent.children) {\n      const name = child.name;\n      const multiInfo = new MultiInstanceObjectInfo();\n      multiInfo.componentName = name;\n      multiInstanceObject.addChild(multiInfo);\n      let count = 0;\n      let currentIndex = -1;\n      if (child instanceof MultiFieldComponent) {\n        count = (child as MultiComponent).multiInfo.minItems;\n        currentIndex = count > 0 ? 0 : -1;\n        /// delete multiInfo.children;\n      } else if (child instanceof SingleFieldComponent) {\n        count = 1;\n        currentIndex = -1;\n        /// delete multiInfo.children;\n      } else if (child instanceof MultiElementComponent) {\n        count = (child as MultiComponent).multiInfo.minItems;\n        currentIndex = count > 0 ? 0 : -1;\n        for (let i = 0; i < count; i++) {\n          const mc = new MultiInstanceInfo();\n          this.buildRecursively(child, mc);\n          multiInfo.addChild(mc);\n        }\n      } else if (child instanceof SingleElementComponent) {\n        count = 1;\n        currentIndex = -1;\n        const mc = new MultiInstanceInfo();\n        this.buildRecursively(child, mc);\n        multiInfo.addChild(mc);\n      }\n      multiInfo.currentCount = count;\n      multiInfo.currentIndex = currentIndex;\n    }\n  }\n\n  setCurrentIndex(component: MultiComponent, currentIdx: number): void {\n    const multiInstanceInfo: MultiInstanceObjectInfo = this.getDataPathNode(component.path);\n    multiInstanceInfo.currentIndex = currentIdx;\n  }\n\n  multiInstanceItemAdd(component: MultiComponent): void {\n    const multiInstanceInfo: MultiInstanceObjectInfo = this.getDataPathNode(component.path);\n\n    if (component instanceof MultiElementComponent) {\n      const newMultiInstanceObject: MultiInstanceInfo = new MultiInstanceInfo();\n      this.buildRecursively(component, newMultiInstanceObject);\n      multiInstanceInfo.children.splice(multiInstanceInfo.currentIndex + 1, 0, newMultiInstanceObject as never);\n    }\n    multiInstanceInfo.currentIndex++;\n    multiInstanceInfo.currentCount++;\n  }\n\n  multiInstanceItemCopy(component: MultiComponent): void {\n    const multiInstanceInfo = this.getDataPathNode(component.path);\n\n    if (component instanceof MultiElementComponent) {\n      const currentIdx = multiInstanceInfo.currentIndex;\n      const sourceItem = multiInstanceInfo.children[currentIdx];\n      const cloneItem = _.cloneDeep(sourceItem as any);\n      multiInstanceInfo.children.splice(currentIdx + 1, 0, cloneItem as never);\n    }\n    multiInstanceInfo.currentIndex++;\n    multiInstanceInfo.currentCount++;\n  }\n\n  multiInstanceItemDelete(component: MultiComponent): void {\n    const multiInstanceInfo = this.getDataPathNode(component.path);\n\n    if (component instanceof MultiElementComponent) {\n      const currentIdx = multiInstanceInfo.currentIndex;\n      multiInstanceInfo.children.splice(currentIdx, 1);\n    }\n    multiInstanceInfo.currentCount--;\n    if (multiInstanceInfo.currentIndex > multiInstanceInfo.currentCount - 1) {\n      multiInstanceInfo.currentIndex = multiInstanceInfo.currentCount - 1;\n    }\n  }\n\n  getMultiInstanceInfoForComponent(component: MultiComponent): MultiInstanceObjectInfo {\n    return this.getDataPathNode(component.path);\n  }\n\n  public getDataPathNode(path: string[]): MultiInstanceObjectInfo {\n    return this.getDataPathNodeRecursively(this.multiInstanceObject, this.templateRepresentation, path);\n  }\n\n  private getDataPathNodeRecursively(\n    multiInstanceObject: MultiInstanceInfo,\n    component: CedarComponent,\n    path: string[],\n  ): MultiInstanceObjectInfo {\n    if (!multiInstanceObject) {\n      return null;\n    }\n    const firstPath = path[0];\n    const remainingPath = path.slice(1);\n    let childComponent: CedarComponent = null;\n    let childMultiInfo: MultiInstanceObjectInfo = null;\n    if (component instanceof SingleElementComponent) {\n      childComponent = (component as SingleElementComponent).getChildByName(firstPath);\n      childMultiInfo = multiInstanceObject.getChildByName(firstPath);\n    } else if (component instanceof CedarTemplate) {\n      childComponent = (component as CedarTemplate).getChildByName(firstPath);\n      childMultiInfo = multiInstanceObject.getChildByName(firstPath);\n    } else if (component instanceof MultiElementComponent) {\n      childComponent = (component as MultiElementComponent).getChildByName(firstPath);\n      childMultiInfo = multiInstanceObject.getChildByName(firstPath);\n    }\n\n    if (remainingPath.length === 0) {\n      return childMultiInfo;\n    } else {\n      let goIdx = 0;\n      if (childMultiInfo.currentIndex > 0) {\n        goIdx = childMultiInfo.currentIndex;\n      }\n      return this.getDataPathNodeRecursively(childMultiInfo.children[goIdx], childComponent, remainingPath);\n    }\n  }\n\n  hasMultiInstances(multiComponent: MultiComponent): boolean {\n    const multiInstanceObjectInfo: MultiInstanceObjectInfo = this.getMultiInstanceInfoForComponent(multiComponent);\n    return multiInstanceObjectInfo.currentCount > 0;\n  }\n}\n","export class CedarModel {\n  static ui = '_ui';\n  static order = 'order';\n  static inputType = 'inputType';\n  static type = 'type';\n  static items = 'items';\n  static valueConstraints = '_valueConstraints';\n  static requiredValue = 'requiredValue';\n  static defaultValue = 'defaultValue';\n  static minItems = 'minItems';\n  static maxItems = 'maxItems';\n  static minLength = 'minLength';\n  static maxLength = 'maxLength';\n  static numberType = 'numberType';\n  static temporalType = 'temporalType';\n  static temporalGranularity = 'temporalGranularity';\n  static timezoneEnabled = 'timezoneEnabled';\n  static inputTimeFormat = 'inputTimeFormat';\n  static unitOfMeasure = 'unitOfMeasure';\n  static minValue = 'minValue';\n  static maxValue = 'maxValue';\n  static decimalPlace = 'decimalPlace';\n  static content = '_content';\n\n  static ontologies = 'ontologies';\n  static valueSets = 'valueSets';\n  static classes = 'classes';\n  static branches = 'branches';\n\n  static multipleChoice = 'multipleChoice';\n  static literals = 'literals';\n  static label = 'label';\n  static selectedByDefault = 'selectedByDefault';\n\n  static skosPrefLabel = 'skos:prefLabel';\n  static propertyDescriptions = 'propertyDescriptions';\n  static propertyLabels = 'propertyLabels';\n\n  static format = 'format';\n  static enum = 'enum';\n\n  static baseTemplateURL = 'https://schema.metadatacenter.org';\n  static templateFieldType = CedarModel.baseTemplateURL + '/core/TemplateField';\n  static templateElementType = CedarModel.baseTemplateURL + '/core/TemplateElement';\n  static templateStaticFieldType = CedarModel.baseTemplateURL + '/core/StaticTemplateField';\n}\n","import { TemplateComponent } from './template/template-component.model';\nimport { InstanceExtractData } from './instance-extract-data.model';\n\nexport class DataQualityReport extends Object {\n  templateRepresentation: TemplateComponent;\n  instanceExtractData: InstanceExtractData;\n  valueTree: object;\n  requiredFieldValueCount = 0;\n  nonNullRequiredFieldValueCount = 0;\n  isValid = false;\n\n  constructor() {\n    super();\n  }\n\n  computeValidity() {\n    if (this.requiredFieldValueCount <= this.nonNullRequiredFieldValueCount) {\n      this.isValid = true;\n    }\n  }\n}\n","import { CedarComponent } from '../component/cedar-component.model';\nimport { ElementComponent } from '../component/element-component.model';\nimport { LabelInfo } from '../info/label-info.model';\nimport { StaticFieldComponent } from '../static/static-field-component.model';\n\nexport abstract class AbstractElementComponent implements ElementComponent {\n  className = 'AbstractElementComponent';\n  name: string;\n  path: string[];\n  children: CedarComponent[] = [];\n  labelInfo: LabelInfo = new LabelInfo();\n  linkedStaticFieldComponent: StaticFieldComponent = null;\n  hidden: boolean;\n\n  getChildByName(childName: string): CedarComponent {\n    for (const child of this.children) {\n      if (child.name === childName) {\n        return child;\n      }\n    }\n    return null;\n  }\n\n  abstract isMulti(): boolean;\n  abstract isMultiPage(): boolean;\n}\n","import { MultiInfo } from '../info/multi-info.model';\nimport { ElementComponent } from '../component/element-component.model';\nimport { MultiComponent } from '../component/multi-component.model';\nimport { AbstractElementComponent } from './abstract-element-component.model';\n\nexport class MultiElementComponent extends AbstractElementComponent implements ElementComponent, MultiComponent {\n  className = 'MultiElementComponent';\n  multiInfo: MultiInfo = new MultiInfo();\n\n  isMulti(): boolean {\n    return true;\n  }\n\n  isMultiPage(): boolean {\n    return true;\n  }\n}\n","import { ElementComponent } from '../component/element-component.model';\nimport { SingleComponent } from '../component/single-component.model';\nimport { AbstractElementComponent } from './abstract-element-component.model';\n\nexport class SingleElementComponent extends AbstractElementComponent implements SingleComponent, ElementComponent {\n  className = 'SingleElementComponent';\n\n  isMulti(): boolean {\n    return false;\n  }\n\n  isMultiPage(): boolean {\n    return false;\n  }\n}\n","export class DataObjectBuildingMode {\n  static INCLUDE_CONTEXT = 'ic';\n  static EXCLUDE_CONTEXT = 'ec';\n}\n\n\n","import { FieldComponent } from '../component/field-component.model';\nimport { BasicInfo } from '../info/basic-info.model';\nimport { ValueInfo } from '../info/value-info.model';\nimport { NumberInfo } from '../info/number-info.model';\nimport { ChoiceInfo } from '../info/choice-info.model';\nimport { LabelInfo } from '../info/label-info.model';\nimport { StaticFieldComponent } from '../static/static-field-component.model';\nimport { ControlledInfo } from '../info/controlled-info.model';\nimport { MultiInfo } from '../info/multi-info.model';\n\nexport abstract class AbstractFieldComponent implements FieldComponent {\n  className = 'AbstractFieldComponent';\n  name: string;\n  path: string[];\n  basicInfo: BasicInfo = new BasicInfo();\n  valueInfo: ValueInfo = new ValueInfo();\n  numberInfo: NumberInfo = new NumberInfo();\n  choiceInfo: ChoiceInfo = new ChoiceInfo();\n  labelInfo: LabelInfo = new LabelInfo();\n  linkedStaticFieldComponent: StaticFieldComponent = null;\n  controlledInfo: ControlledInfo = new ControlledInfo();\n  multiInfo: MultiInfo = new MultiInfo();\n  hidden: boolean;\n\n  abstract isMulti(): boolean;\n  abstract isMultiPage(): boolean;\n}\n","import { FieldComponent } from '../component/field-component.model';\nimport { MultiComponent } from '../component/multi-component.model';\nimport { MultiInfo } from '../info/multi-info.model';\nimport { AbstractFieldComponent } from './abstract-field-component.model';\nimport { InputType } from '../input-type.model';\n\nexport class MultiFieldComponent extends AbstractFieldComponent implements MultiComponent, FieldComponent {\n  className = 'MultiFieldComponent';\n  multiInfo: MultiInfo = new MultiInfo();\n\n  isMulti(): boolean {\n    return true;\n  }\n\n  isMultiPage(): boolean {\n    const inputType = this.basicInfo.inputType;\n    return !(inputType === InputType.checkbox || inputType === InputType.list);\n  }\n}\n","import { FieldComponent } from '../component/field-component.model';\nimport { SingleComponent } from '../component/single-component.model';\nimport { AbstractFieldComponent } from './abstract-field-component.model';\n\nexport class SingleFieldComponent extends AbstractFieldComponent implements SingleComponent, FieldComponent {\n  className = 'SingleFieldComponent';\n\n  isMulti(): boolean {\n    return false;\n  }\n\n  isMultiPage(): boolean {\n    return false;\n  }\n}\n","export class BasicInfo {\n  inputType: string;\n  temporalGranularity: string;\n  timezoneEnabled: boolean;\n  inputTimeFormat: string;\n}\n","import { ChoiceOption } from './choice-option.model';\n\nexport class ChoiceInfo {\n  multipleChoice: boolean;\n  // multipleChoice: number;\n  choices: ChoiceOption[] = [];\n}\n","export class ChoiceOption {\n  label: string;\n  selectedByDefault: boolean;\n}\n","export class ContentInfo {\n  content: string;\n}\n","export class ControlledInfo {\n  ontologies: Array<object>;\n  valueSets: Array<object>;\n  classes: Array<object>;\n  branches: Array<object>;\n}\n","export class LabelInfo {\n  preferredLabel: string;\n  description: string;\n  label: string;\n}\n","export class MultiInfo {\n  minItems: number;\n  maxItems: number;\n\n  getSafeMinItems(): number {\n    return this.minItems === null ? 0 : this.minItems;\n  }\n}\n","import { MultiInstanceObjectInfo } from './multi-instance-object-info.model';\n\nexport class MultiInstanceInfo extends Object {\n  //private clazz: string = 'MultiInstanceInfo';\n\n  constructor() {\n    super();\n  }\n\n  addChild(multiInfo: MultiInstanceObjectInfo): void {\n    this[multiInfo.componentName] = multiInfo;\n  }\n\n  getChildByName(componentName: string): MultiInstanceObjectInfo {\n    if (Object.hasOwn(this, componentName)) {\n      return this[componentName];\n    } else {\n      return null;\n    }\n  }\n}\n","import { MultiInstanceInfo } from './multi-instance-info.model';\n\nexport class MultiInstanceObjectInfo {\n  //private clazz: string = 'MultiInstanceObjectInfo';\n  componentName: string;\n  currentCount: number;\n  currentIndex: number;\n  children: Array<MultiInstanceInfo>;\n\n  constructor() {\n    this.componentName = null;\n    this.currentCount = 0;\n    this.currentIndex = -1;\n    this.children = new Array<MultiInstanceInfo>();\n  }\n\n  public addChild(child: MultiInstanceInfo): void {\n    this.children.push(child);\n  }\n}\n","export class NumberInfo {\n  numberType: string;\n  unitOfMeasure: string;\n  minValue: number;\n  maxValue: number;\n  decimalPlace: number;\n}\n","export class ValueInfo {\n  requiredValue: boolean;\n  defaultValue: string;\n  minLength: number;\n  maxLength: number;\n  temporalType: string;\n}\n","export class InputType {\n  static numeric = 'numeric';\n  static text = 'textfield';\n  static textarea = 'textarea';\n  static richText = 'richtext';\n  static controlled = 'controlled';\n  static email = 'email';\n  static link = 'link';\n  static phoneNumber = 'phone-number';\n  static list = 'list';\n  static checkbox = 'checkbox';\n  static radio = 'radio';\n  static temporal = 'temporal';\n  static image = 'image';\n  static youtube = 'youtube';\n  static sectionBreak = 'section-break';\n  static pageBreak = 'page-break';\n  static attributeValue = 'attribute-value';\n}\n","export class InstanceExtractData extends Object {}\n","import { InstanceExtractData } from './instance-extract-data.model';\n\nexport class InstanceFullData extends InstanceExtractData {}\n","export class JavascriptTypes {\n  static array = 'array';\n  static object = 'object';\n  static string = 'string';\n}\n","export class JsonSchema {\n  // special properties used to add attribute-value fields to the model\n  static reservedAttributeName = '__reserved__attribute_name';\n  static reservedAttributeValue = '__reserved__attribute_value';\n  static reservedDefaultAttributeName = 'Attribute Value Field';\n\n  static properties = 'properties';\n\n  static atContext = '@context';\n  static atId = '@id';\n  static atType = '@type';\n  static atValue = '@value';\n  static schemaIsBasedOn = 'schema:isBasedOn';\n  static schemaName = 'schema:name';\n  static schemaDescription = 'schema:description';\n  static pavDerivedFrom = 'pav:derivedFrom';\n  static pavCreatedOn = 'pav:createdOn';\n  static pavCreatedBy = 'pav:createdBy';\n  static pavLastUpdatedOn = 'pav:lastUpdatedOn';\n  static oslcModifiedBy = 'oslc:modifiedBy';\n  static rdfsLabel = 'rdfs:label';\n  static termUri = 'termUri';\n\n  static builtInProperties: Map<string, boolean> = new Map([\n    [JsonSchema.atId, true],\n    [JsonSchema.atContext, true],\n    [JsonSchema.atType, true],\n    [JsonSchema.schemaIsBasedOn, true],\n    [JsonSchema.schemaName, true],\n    [JsonSchema.schemaDescription, true],\n    [JsonSchema.pavDerivedFrom, true],\n    [JsonSchema.pavCreatedOn, true],\n    [JsonSchema.pavCreatedBy, true],\n    [JsonSchema.pavLastUpdatedOn, true],\n    [JsonSchema.oslcModifiedBy, true],\n  ]);\n}\n","export class Numbers {\n  static PATTERN_XSD_INT_AND_LONG = '[+-]?(0|[1-9][0-9]*)';\n  static PATTERN_XSD_FLOAT_AND_DOUBLE = '([+-]?((0|[1-9][0-9]*)(\\\\.[0-9]{0,maxDig})?|\\\\.[0-9]{0,maxDig}))';\n  static NUMBER_INT_MAX = 2147483647;\n  static NUMBER_INT_MIN = -2147483648;\n  static NUMBER_LONG_MAX = 9223372036854775807;\n  static NUMBER_LONG_MIN = -9223372036854775808;\n}\n","import { IntegratedSearchRequestValueConstraints } from './integrated-search-request-value-constraints';\n\nexport class IntegratedSearchRequestParameterObject {\n  valueConstraints: IntegratedSearchRequestValueConstraints = new IntegratedSearchRequestValueConstraints();\n  inputText = '';\n}\n","export class IntegratedSearchRequestValueConstraints {\n  ontologies: Array<object> = [];\n  valueSets: Array<object> = [];\n  classes: Array<object> = [];\n  branches: Array<object> = [];\n}\n","import { IntegratedSearchRequestParameterObject } from './integrated-search-request-parameter-object';\n\nexport class IntegratedSearchRequest {\n  parameterObject: IntegratedSearchRequestParameterObject = new IntegratedSearchRequestParameterObject();\n  page = 1;\n  pageSize = 50;\n}\n","import { SingleComponent } from '../component/single-component.model';\nimport { LabelInfo } from '../info/label-info.model';\nimport { BasicInfo } from '../info/basic-info.model';\nimport { ContentInfo } from '../info/content-info.model';\n\nexport class StaticFieldComponent implements SingleComponent {\n  className = 'StaticFieldComponent';\n\n  name: string;\n  path: string[];\n  labelInfo: LabelInfo = new LabelInfo();\n  basicInfo: BasicInfo = new BasicInfo();\n  contentInfo: ContentInfo = new ContentInfo();\n  linkedStaticFieldComponent: StaticFieldComponent = null;\n\n  isMulti(): boolean {\n    return false;\n  }\n\n  isMultiPage(): boolean {\n    return false;\n  }\n}\n","import { TemplateComponent } from './template-component.model';\nimport { AbstractElementComponent } from '../element/abstract-element-component.model';\nimport { CedarComponent } from '../component/cedar-component.model';\nimport { DataObjectUtil } from '../../util/data-object-util';\n\nexport class CedarTemplate extends AbstractElementComponent implements TemplateComponent {\n  className = 'CedarTemplate';\n  pageBreakChildren: Array<CedarComponent[]>;\n\n  hasPageBreaks(): boolean {\n    return this.pageBreakChildren.length > 1 && !DataObjectUtil.arraysEqual(this.children, this.pageBreakChildren[0]);\n  }\n\n  isMulti(): boolean {\n    return false;\n  }\n\n  isMultiPage(): boolean {\n    return false;\n  }\n}\n","import { TemplateComponent } from './template-component.model';\nimport { NullTemplate } from './null-template.model';\n\nexport class EmptyTemplate extends NullTemplate implements TemplateComponent {}\n","import { TemplateComponent } from './template-component.model';\nimport { AbstractElementComponent } from '../element/abstract-element-component.model';\nimport { CedarComponent } from '../component/cedar-component.model';\n\nexport class NullTemplate extends AbstractElementComponent implements TemplateComponent {\n  className = 'NullTemplate';\n  pageBreakChildren: Array<CedarComponent[]>;\n\n  hasPageBreaks(): boolean {\n    return false;\n  }\n\n  isMulti(): boolean {\n    return false;\n  }\n\n  isMultiPage(): boolean {\n    return false;\n  }\n}\n","export class Temporal {\n  static year = 'year';\n  static month = 'month';\n  static day = 'day';\n  static hour = 'hour';\n  static minute = 'minute';\n  static second = 'second';\n  static decimalSecond = 'decimalSecond';\n\n  static inputType12h = '12h';\n  static inputType24h = '24h';\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  template: '',\n})\nexport abstract class CedarUIComponent implements OnInit {\n  abstract ngOnInit(): void;\n  abstract setCurrentValue(currentValue: any): void;\n\n  deleteCurrentValue(): void {\n    // do nothing unless overridden\n    // used for executing component-specific operations\n    // for deleting an instance\n  }\n}\n","export class Xsd {\n  static int = 'xsd:int';\n  static long = 'xsd:long';\n  static float = 'xsd:float';\n  static double = 'xsd:double';\n  static date = 'xsd:date';\n  static dateTime = 'xsd:dateTime';\n  static time = 'xsd:time';\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\n\n@Pipe({ name: 'keepHtml', pure: false })\nexport class EscapeHtmlPipe implements PipeTransform {\n  constructor(private sanitizer: DomSanitizer) {}\n\n  transform(content: string): SafeHtml {\n    return this.sanitizer.bypassSecurityTrustHtml(content);\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({ name: 'rdf' })\nexport class RdfPipe implements PipeTransform {\n  transform(value: object): string {\n    return value.toString();\n  }\n}\n","import { CedarUIComponent } from '../models/ui/cedar-ui-component.model';\nimport { CedarComponent } from '../models/component/cedar-component.model';\nimport { SingleFieldComponent } from '../models/field/single-field-component.model';\nimport { JsonSchema } from '../models/json-schema.model';\nimport { MultiFieldComponent } from '../models/field/multi-field-component.model';\nimport { SingleElementComponent } from '../models/element/single-element-component.model';\nimport { MultiElementComponent } from '../models/element/multi-element-component.model';\nimport { Injectable } from '@angular/core';\nimport { CedarMultiPagerComponent } from '../components/cedar-multi-pager/cedar-multi-pager.component';\nimport { MultiInstanceObjectInfo } from '../models/info/multi-instance-object-info.model';\nimport { HandlerContext } from '../util/handler-context';\nimport { InputType } from '../models/input-type.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ActiveComponentRegistryService {\n  public modelToUI: Map<CedarComponent, CedarUIComponent> = new Map<CedarComponent, CedarUIComponent>();\n  private modelToMultiPagerUI: Map<CedarComponent, CedarMultiPagerComponent> = new Map<\n    CedarComponent,\n    CedarMultiPagerComponent\n  >();\n\n  private getUIComponent(component: CedarComponent): CedarUIComponent {\n    return this.modelToUI.get(component);\n  }\n\n  private getMultiPagerUI(component: CedarComponent): CedarMultiPagerComponent {\n    return this.modelToMultiPagerUI.get(component);\n  }\n\n  setVisibility(component: CedarComponent, handlerContext): void {\n    const fieldComponents = this.getFieldComponents(component);\n    for (const fieldComponent of fieldComponents) {\n      const dataObject = handlerContext.getDataObjectNodeByPath(fieldComponent.path);\n      if (dataObject != null) {\n        if (Object.hasOwn(dataObject, JsonSchema.atValue)) {\n          if (dataObject[JsonSchema.atValue] === '' || dataObject[JsonSchema.atValue] === null) {\n            fieldComponent.hidden = true;\n          } else {\n            fieldComponent.hidden = false;\n          }\n        } else if (\n          Object.hasOwn(dataObject, JsonSchema.atId) &&\n          fieldComponent.basicInfo.inputType === InputType.link\n        ) {\n          // url field single\n          if (dataObject[JsonSchema.atId] != '' || dataObject[JsonSchema.atId] != null) {\n            fieldComponent.hidden = false;\n          } else {\n            fieldComponent.hidden = true;\n          }\n        } else if (Object.hasOwn(dataObject, JsonSchema.atId)) {\n          // controlled field single\n          if (dataObject[JsonSchema.rdfsLabel] != '' || dataObject[JsonSchema.rdfsLabel] != null) {\n            fieldComponent.hidden = false;\n          } else {\n            fieldComponent.hidden = true;\n          }\n        }\n      }\n    }\n  }\n  getFieldComponents(component): SingleFieldComponent[] {\n    const fieldComponents = [] as SingleFieldComponent[];\n    if (component instanceof MultiElementComponent) {\n      for (const child of component.children) {\n        if (child instanceof SingleFieldComponent) {\n          fieldComponents.push(child);\n        }\n      }\n    }\n    return fieldComponents;\n  }\n  updateViewToModel(component: CedarComponent, handlerContext: HandlerContext): void {\n    if (component instanceof SingleFieldComponent) {\n      const dataObject: object = handlerContext.getDataObjectNodeByPath(component.path);\n      const uiComponent: CedarUIComponent = this.getUIComponent(component);\n      if (uiComponent != null && dataObject != null) {\n        if (Object.hasOwn(dataObject, JsonSchema.atValue)) {\n          uiComponent.setCurrentValue(dataObject[JsonSchema.atValue]);\n        } else if (Object.hasOwn(dataObject, JsonSchema.atId) && component.basicInfo.inputType === InputType.link) {\n          // url field single\n          uiComponent.setCurrentValue(dataObject[JsonSchema.atId]);\n        } else if (Object.hasOwn(dataObject, JsonSchema.atId)) {\n          // controlled field single\n          if (handlerContext.readOnlyMode) {\n            const valueObject = {};\n            valueObject[JsonSchema.rdfsLabel] = dataObject[JsonSchema.rdfsLabel];\n            valueObject[JsonSchema.atId] = dataObject[JsonSchema.atId];\n            uiComponent.setCurrentValue(valueObject);\n          } else {\n            uiComponent.setCurrentValue(dataObject[JsonSchema.rdfsLabel]);\n          }\n        }\n      }\n    } else if (component instanceof MultiFieldComponent) {\n      const dataObject: object = handlerContext.getDataObjectNodeByPath(component.path);\n      const parentDataObject = handlerContext.getParentDataObjectNodeByPath(component.path);\n      const uiComponent: CedarUIComponent = this.getUIComponent(component);\n      const multiInstanceInfo: MultiInstanceObjectInfo =\n        handlerContext.multiInstanceObjectService.getMultiInstanceInfoForComponent(component);\n\n      // this is a multi-value but not multipage component, such as checkbox or multiselect\n      if (!component.isMultiPage()) {\n        const dataArr = dataObject as Array<object>;\n\n        if (uiComponent) {\n          uiComponent.setCurrentValue(dataArr.map((a) => a[JsonSchema.atValue]));\n        }\n      } else if (dataObject != null) {\n        if (dataObject[multiInstanceInfo.currentIndex] != null) {\n          if (component.basicInfo.inputType === InputType.attributeValue) {\n            let key = dataObject[multiInstanceInfo.currentIndex];\n\n            if (key instanceof Object && Object.hasOwn(key, JsonSchema.atValue) && key[JsonSchema.atValue] === null) {\n              handlerContext.changeAttributeValue(component, null, null);\n            } else if (multiInstanceInfo.currentIndex > 0) {\n              const cloneSourceKey = dataObject[multiInstanceInfo.currentIndex - 1];\n\n              if (key === cloneSourceKey) {\n                const val = parentDataObject[cloneSourceKey][JsonSchema.atValue];\n                handlerContext.changeAttributeValue(component, null, val);\n              }\n            } else if (typeof key === 'string' && key === '') {\n              // if it is an empty string, we silently accept it\n              return;\n            }\n            // This next line is actually needed, current index can change\n            key = dataObject[multiInstanceInfo.currentIndex];\n            const value = parentDataObject[key][JsonSchema.atValue];\n            const obj = {};\n            obj[key] = value;\n\n            if (uiComponent) {\n              uiComponent.setCurrentValue(obj);\n            }\n          } else {\n            if (Object.hasOwn(dataObject[multiInstanceInfo.currentIndex], JsonSchema.atValue)) {\n              if (uiComponent) {\n                uiComponent.setCurrentValue(dataObject[multiInstanceInfo.currentIndex][JsonSchema.atValue]);\n              }\n            } else if (\n              Object.hasOwn(dataObject[multiInstanceInfo.currentIndex], JsonSchema.atId) &&\n              component.basicInfo.inputType === InputType.link\n            ) {\n              // url field single\n              if (uiComponent) {\n                uiComponent.setCurrentValue(dataObject[multiInstanceInfo.currentIndex][JsonSchema.atId]);\n              }\n            } else if (\n              Object.keys(dataObject[multiInstanceInfo.currentIndex]).length === 0 ||\n              Object.hasOwn(dataObject[multiInstanceInfo.currentIndex], JsonSchema.atId)\n            ) {\n              // controlled field multipage\n              if (uiComponent) {\n                uiComponent.setCurrentValue(dataObject[multiInstanceInfo.currentIndex][JsonSchema.rdfsLabel]);\n              }\n            }\n          }\n        }\n\n        if (component.isMultiPage()) {\n          const uiPager = this.getMultiPagerUI(component);\n\n          if (uiPager) {\n            uiPager.updatePagingUI();\n          }\n        }\n      } else {\n        // Empty multi-field\n        const uiPager = this.getMultiPagerUI(component);\n        if (uiPager) {\n          uiPager.updatePagingUI();\n        }\n      }\n    } else if (component instanceof SingleElementComponent) {\n      for (const childComponent of component.children) {\n        this.updateViewToModel(childComponent, handlerContext);\n      }\n    } else if (component instanceof MultiElementComponent) {\n      const uiPager = this.getMultiPagerUI(component);\n\n      if (uiPager) {\n        uiPager.updatePagingUI();\n      }\n\n      for (const childComponent of component.children) {\n        this.updateViewToModel(childComponent, handlerContext);\n      }\n    }\n  }\n\n  deleteCurrentValue(component: CedarComponent): void {\n    const uiComponent: CedarUIComponent = this.getUIComponent(component);\n\n    if (uiComponent) {\n      uiComponent.deleteCurrentValue();\n    }\n  }\n\n  registerComponent(modelComponent: CedarComponent, uiComponent: CedarUIComponent): void {\n    this.modelToUI.set(modelComponent, uiComponent);\n  }\n\n  registerMultiPagerComponent(modelComponent: CedarComponent, uiComponent: CedarMultiPagerComponent): void {\n    this.modelToMultiPagerUI.set(modelComponent, uiComponent);\n  }\n}\n","import { CedarComponent } from '../models/component/cedar-component.model';\nimport { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ComponentDataService {\n  public getRenderingLabelForComponent(component: CedarComponent): string {\n    if (\n      component.labelInfo !== undefined &&\n      component.labelInfo.preferredLabel !== undefined &&\n      component.labelInfo.preferredLabel !== null\n    ) {\n      return component.labelInfo.preferredLabel;\n    }\n    if (\n      component.labelInfo !== undefined &&\n      component.labelInfo.label !== undefined &&\n      component.labelInfo.label !== null\n    ) {\n      return component.labelInfo.label;\n    }\n    if (component.name !== null) {\n      return component.name;\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, timer } from 'rxjs';\nimport { IntegratedSearchResponse } from '../models/rest/integrated-search/integrated-search-response';\nimport { IntegratedSearchRequest } from '../models/rest/integrated-search/integrated-search-request';\nimport { FieldComponent } from '../models/component/field-component.model';\nimport { HttpClient } from '@angular/common/http';\nimport { MessageHandlerService } from './message-handler.service';\nimport { switchMap } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ControlledFieldDataService {\n  private terminologyIntegratedSearchUrl = null;\n\n  constructor(\n    private http: HttpClient,\n    private messageHandlerService: MessageHandlerService,\n  ) {}\n\n  setTerminologyIntegratedSearchUrl(terminologyIntegratedSearchUrl: string): void {\n    this.terminologyIntegratedSearchUrl = terminologyIntegratedSearchUrl;\n  }\n\n  getData(val: string, component: FieldComponent): Observable<IntegratedSearchResponse> {\n    const postData = new IntegratedSearchRequest();\n    postData.parameterObject.inputText = val;\n    postData.parameterObject.valueConstraints.branches = component.controlledInfo.branches;\n    postData.parameterObject.valueConstraints.classes = component.controlledInfo.classes;\n    postData.parameterObject.valueConstraints.ontologies = component.controlledInfo.ontologies;\n    postData.parameterObject.valueConstraints.valueSets = component.controlledInfo.valueSets;\n    // Random delay to prevent throttling\n    const randomDelay = Math.floor(Math.random() * 2000);\n    return timer(randomDelay).pipe(\n      switchMap(() => this.http.post<IntegratedSearchResponse>(this.terminologyIntegratedSearchUrl, postData)),\n    );\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { MomentDateAdapter } from '@angular/material-moment-adapter';\nimport * as moment from 'moment';\nimport { DateTimeService } from './date-time.service';\n\n@Injectable()\nexport class CustomDateAdapter extends MomentDateAdapter {\n  constructor(private dateTimeService: DateTimeService) {\n    super(dateTimeService.locale);\n  }\n\n  public format(date: moment.Moment, displayFormat: string): string {\n    const locale = this.dateTimeService.locale;\n    const format = this.dateTimeService.format;\n    date.locale(locale);\n    return date.format(format);\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class DateTimeService {\n  private formatString: string;\n  private localeString: string;\n\n  public constructor() {\n    this.formatString = 'LL';\n    this.localeString = 'en-US';\n  }\n\n  public get format(): string {\n    return this.formatString;\n  }\n\n  public set format(value: string) {\n    this.formatString = value;\n  }\n\n  public get locale(): string {\n    return this.localeString;\n  }\n\n  public set locale(value: string) {\n    this.localeString = value;\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class GlobalSettingsContextService {\n  public static DEFAULT_LANGUAGE = 'en';\n  public languageMapPathPrefix = null;\n\n  constructor() {}\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class MessageHandlerService {\n  private eventHandler = null;\n\n  constructor() {}\n\n  injectEventHandler(value: object): void {\n    this.eventHandler = value;\n  }\n\n  trace(label: string): void {\n    console.log('CEE TRACE: ' + label);\n  }\n\n  traceGroup(group: string, label: string): void {\n    console.log('CEE TRACE: ' + group + ' : ' + label);\n  }\n\n  traceObject(label: string, value: object): void {\n    console.log('CEE TRACE: ' + label);\n    console.log(value);\n  }\n\n  error(label: string): void {\n    console.error('CEE ERROR: ' + label);\n  }\n\n  errorObject(label: string, value: object): void {\n    console.error('CEE ERROR: ' + label);\n    console.error(value);\n  }\n}\n","import { CedarComponent } from '../models/component/cedar-component.model';\nimport { ActiveComponentRegistryService } from './active-component-registry.service';\nimport { HandlerContext } from '../util/handler-context';\n\nexport class PageBreakPaginatorService {\n  currentPageBreakIndex: number;\n  pageBreakChildren: Array<CedarComponent[]>;\n\n  constructor(\n    private activeComponentRegistry: ActiveComponentRegistryService,\n    private handlerContext: HandlerContext,\n  ) {}\n\n  reset(pbChildren: Array<CedarComponent[]>): void {\n    this.pageBreakChildren = pbChildren;\n    this.currentPageBreakIndex = 0;\n  }\n\n  numPages(): number {\n    return this.pageBreakChildren.length;\n  }\n\n  allPageIndices(): number[] {\n    return this.pageBreakChildren.map((_, i) => i);\n  }\n\n  getCurrentPage(): CedarComponent[] {\n    return this.pageBreakChildren[this.currentPageBreakIndex];\n  }\n\n  setPageNumberAndGet(pageNum: number): CedarComponent[] {\n    if (pageNum >= 0 && pageNum < this.pageBreakChildren.length) {\n      this.currentPageBreakIndex = pageNum;\n      setTimeout(() => {\n        for (const childComponent of this.getCurrentPage()) {\n          this.activeComponentRegistry.updateViewToModel(childComponent, this.handlerContext);\n        }\n      });\n      return this.getCurrentPage();\n    }\n    return null;\n  }\n\n  // hasPreviousPage(): boolean {\n  //   return (this.currentPageBreakIndex > 0);\n  // }\n\n  // goToAndGetPreviousPage(): CedarComponent[] {\n  //   if (this.hasPreviousPage()) {\n  //     this.currentPageBreakIndex--;\n  //     return this.getCurrentPage();\n  //   }\n  //   return null;\n  // }\n\n  // decrementPage(): void {\n  //   if (this.currentPageBreakIndex > 0) {\n  //     this.currentPageBreakIndex--;\n  //   }\n  // }\n\n  // hasNextPage(): boolean {\n  //   return (this.currentPageBreakIndex < this.pageBreakChildren.length - 1);\n  // }\n\n  // goToAndGetNextPage(): CedarComponent[] {\n  //   if (this.hasNextPage()) {\n  //     this.currentPageBreakIndex++;\n  //     return this.getCurrentPage();\n  //   }\n  //   return null;\n  // }\n  //\n  // incrementPage(): void {\n  //   if (this.currentPageBreakIndex < this.pageBreakChildren.length - 1) {\n  //     this.currentPageBreakIndex++;\n  //   }\n  // }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RdfPipe } from './pipe/rdf.pipe';\nimport { CedarComponentHeaderComponent } from './components/cedar-component-header/cedar-component-header.component';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatIconModule } from '@angular/material/icon';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { ClipboardModule } from '@angular/cdk/clipboard';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatRippleModule } from '@angular/material/core';\nimport { MatPaginatorModule } from '@angular/material/paginator';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { MatGridListModule } from '@angular/material/grid-list';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatListModule } from '@angular/material/list';\nimport { MatSelectModule } from '@angular/material/select';\nimport { NgxMatSelectSearchModule } from 'ngx-mat-select-search';\nimport { NgSelectModule } from '@ng-select/ng-select';\nimport { CedarEmbeddableMetadataEditorComponent } from './components/cedar-embeddable-metadata-editor/cedar-embeddable-metadata-editor.component';\nimport { CedarComponentRendererComponent } from './components/cedar-component-renderer/cedar-component-renderer.component';\nimport { StaticFooterComponent } from './components/static-footer/static-footer.component';\nimport { StaticHeaderComponent } from './components/static-header/static-header.component';\nimport { SourcePanelsComponent } from './components/source-panels/source-panels.component';\nimport { CedarMultiPagerComponent } from './components/cedar-multi-pager/cedar-multi-pager.component';\nimport { InputTypesModule } from '../input-types/input-types.module';\nimport { CedarEmbeddableMetadataEditorWrapperComponent } from './components/cedar-embeddable-metadata-editor-wrapper/cedar-embeddable-metadata-editor-wrapper.component';\nimport { SampleTemplatesComponent } from './components/sample-templates/sample-templates.component';\nimport { SampleTemplateSelectComponent } from './components/sample-template-select/sample-template-select.component';\nimport { PreferencesMenu } from './components/preferences-menu/preferences-menu.component';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { CedarComponentLinkedStaticFieldHeaderComponent } from './components/cedar-component-linked-static-field-header/cedar-component-linked-static-field-header.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    MatCardModule,\n    MatIconModule,\n    BrowserAnimationsModule,\n    MatFormFieldModule,\n    ReactiveFormsModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatExpansionModule,\n    MatButtonModule,\n    MatTooltipModule,\n    ClipboardModule,\n    MatToolbarModule,\n    MatRippleModule,\n    MatPaginatorModule,\n    MatChipsModule,\n    MatGridListModule,\n    MatProgressSpinnerModule,\n    MatListModule,\n    MatSelectModule,\n    NgxMatSelectSearchModule,\n    NgSelectModule,\n    InputTypesModule,\n    FormsModule,\n    MatMenuModule,\n    MatSlideToggleModule,\n    TranslateModule,\n    MatCheckboxModule,\n  ],\n  declarations: [\n    RdfPipe,\n    CedarComponentHeaderComponent,\n    CedarComponentLinkedStaticFieldHeaderComponent,\n    CedarEmbeddableMetadataEditorComponent,\n    CedarEmbeddableMetadataEditorWrapperComponent,\n    SampleTemplatesComponent,\n    SampleTemplateSelectComponent,\n    CedarComponentRendererComponent,\n    StaticFooterComponent,\n    StaticHeaderComponent,\n    SourcePanelsComponent,\n    CedarMultiPagerComponent,\n    PreferencesMenu,\n  ],\n  providers: [],\n  exports: [RdfPipe, CedarEmbeddableMetadataEditorWrapperComponent],\n})\nexport class SharedModule {}\n","import { CedarInputTemplate } from '../models/cedar-input-template.model';\nimport { TemplateComponent } from '../models/template/template-component.model';\nimport { MultiInstanceInfo } from '../models/info/multi-instance-info.model';\nimport { TemplateRepresentationFactory } from '../factory/template-representation.factory';\nimport { InstanceExtractData } from '../models/instance-extract-data.model';\nimport { InstanceFullData } from '../models/instance-full-data.model';\nimport { HandlerContext } from './handler-context';\nimport { MultiInstanceObjectHandler } from '../handler/multi-instance-object.handler';\nimport { DataObjectBuilderHandler } from '../handler/data-object-builder.handler';\nimport { PageBreakPaginatorService } from '../service/page-break-paginator.service';\nimport { DataQualityReport } from '../models/data-quality-report.model';\nimport { CedarTemplate } from '../models/template/cedar-template.model';\nimport { ElementComponent } from '../models/component/element-component.model';\n\nexport class DataContext {\n  templateInput: CedarInputTemplate = null;\n  templateRepresentation: TemplateComponent = null;\n  instanceExtractData: InstanceExtractData = null;\n  instanceFullData: InstanceFullData = null;\n  multiInstanceData: MultiInstanceInfo = null;\n  dataQualityReport: DataQualityReport = null;\n  savedTemplateID: string;\n\n  public constructor() {}\n\n  setInputTemplate(\n    value: object,\n    handlerContext: HandlerContext,\n    pageBreakPaginatorService: PageBreakPaginatorService,\n    collapseStaticComponents: boolean,\n  ): void {\n    this.templateInput = value as CedarInputTemplate;\n    this.templateRepresentation = TemplateRepresentationFactory.create(\n      this.templateInput,\n      collapseStaticComponents,\n      handlerContext,\n    );\n    pageBreakPaginatorService.reset(this.templateRepresentation.pageBreakChildren);\n    const multiInstanceObjectService: MultiInstanceObjectHandler = handlerContext.multiInstanceObjectService;\n    //If instance was passed these are extracted from instance. No need to do it from template\n    if (this.instanceExtractData === null || this.instanceFullData === null) {\n      const dataObjectService: DataObjectBuilderHandler = handlerContext.dataObjectBuilderService;\n      this.instanceExtractData = dataObjectService.buildNewExtractDataObject(\n        this.templateRepresentation,\n        this.templateInput,\n      );\n      this.instanceFullData = dataObjectService.buildNewFullDataObject(this.templateRepresentation, this.templateInput);\n      this.multiInstanceData = multiInstanceObjectService.buildNewOrFromMetadata(this.templateRepresentation);\n    } else {\n      this.multiInstanceData = multiInstanceObjectService.buildNewOrFromMetadata(\n        this.templateRepresentation,\n        handlerContext.dataContext.instanceExtractData,\n      );\n    }\n    this.savedTemplateID = null;\n    if (!handlerContext.readOnlyMode) {\n      handlerContext.buildQualityReport();\n    }\n  }\n}\n","import { JsonSchema } from '../models/json-schema.model';\nimport { CedarModel } from '../models/cedar-model.model';\nimport { JavascriptTypes } from '../models/javascript-types.model';\nimport { TemplateObjectUtil } from './template-object-util';\nimport { DataObjectBuildingMode } from '../models/enum/data-object-building-mode.model';\nimport { CedarEmbeddableMetadataEditorComponent } from '../components/cedar-embeddable-metadata-editor/cedar-embeddable-metadata-editor.component';\n\nexport class DataObjectUtil {\n  static getEmptyValueWrapper(templateJsonObj: object, buildingMode: DataObjectBuildingMode): object {\n    const obj = {};\n    if (TemplateObjectUtil.isLInk(templateJsonObj)) {\n      // do nothing, leave object empty\n    } else if (!TemplateObjectUtil.hasControlledInfo(templateJsonObj)) {\n      obj[JsonSchema.atValue] = null;\n    }\n    if (buildingMode === DataObjectBuildingMode.INCLUDE_CONTEXT) {\n      this.injectAtTypeIfAvailable(obj, templateJsonObj);\n    }\n    return obj;\n  }\n\n  static getSingleValueWrapper(templateJsonObj: object, buildingMode: DataObjectBuildingMode, value: string): object {\n    const obj = {};\n    if (!TemplateObjectUtil.hasControlledInfo(templateJsonObj)) {\n      obj[JsonSchema.atValue] = value;\n    }\n    if (buildingMode === DataObjectBuildingMode.INCLUDE_CONTEXT) {\n      this.injectAtTypeIfAvailable(obj, templateJsonObj);\n    }\n    return obj;\n  }\n\n  static getMultiValueWrapper(templateJsonObj: object, buildingMode: DataObjectBuildingMode, values: string[]): object {\n    const obj = [];\n    if (!TemplateObjectUtil.hasControlledInfo(templateJsonObj)) {\n      for (const value of values) {\n        const subObj = {};\n        subObj[JsonSchema.atValue] = value;\n        obj.push(subObj);\n      }\n    }\n    if (buildingMode === DataObjectBuildingMode.INCLUDE_CONTEXT) {\n      this.injectAtTypeIfAvailable(obj, templateJsonObj);\n    }\n    return obj;\n  }\n\n  static getEmptyObject(): object {\n    return {};\n  }\n\n  static getEmptyList(): [] {\n    return [];\n  }\n\n  private static injectAtTypeIfAvailable(obj: object, templateJsonObj: object): void {\n    if (templateJsonObj != null) {\n      if (Object.hasOwn(templateJsonObj, CedarModel.valueConstraints)) {\n        const vc = templateJsonObj[CedarModel.valueConstraints];\n        if (Object.hasOwn(vc, CedarModel.numberType)) {\n          obj[JsonSchema.atType] = vc[CedarModel.numberType];\n        } else if (Object.hasOwn(vc, CedarModel.temporalType)) {\n          obj[JsonSchema.atType] = vc[CedarModel.temporalType];\n        }\n      }\n    }\n  }\n\n  static convertTemplateContextNode(propsContextProp: object): object {\n    let ret = null;\n    if (propsContextProp[CedarModel.type] === 'string' && propsContextProp[CedarModel.format] === 'uri') {\n      ret = propsContextProp[CedarModel.enum][0];\n    } else if (\n      propsContextProp[CedarModel.type] === 'object' &&\n      Object.hasOwn(propsContextProp, JsonSchema.properties)\n    ) {\n      ret = {};\n      ret[JsonSchema.atType] = propsContextProp[JsonSchema.properties][JsonSchema.atType][CedarModel.enum][0];\n    } else if (Object.hasOwn(propsContextProp, CedarModel.enum)) {\n      ret = propsContextProp[CedarModel.enum][0];\n    }\n    return ret;\n  }\n\n  static getSafeSubTemplate(templateJsonObj: object, targetName: string): object {\n    let subTemplate: object = null;\n    if (templateJsonObj != null) {\n      subTemplate = templateJsonObj[JsonSchema.properties][targetName];\n      if (subTemplate[CedarModel.type] === JavascriptTypes.array) {\n        subTemplate = subTemplate[CedarModel.items];\n      }\n    }\n    return subTemplate;\n  }\n\n  // Generating a RFC4122 version 4 compliant GUID\n  static generateGUID(): string {\n    let d = Date.now();\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n      const r = (d + Math.random() * 16) % 16 | 0;\n      d = Math.floor(d / 16);\n      return (c === 'x' ? r : (r & 0x3) | 0x8).toString(16);\n    });\n  }\n\n  static arraysEqual(arr1, arr2): boolean {\n    // if the other array is a falsy value, return\n    if (!arr2) {\n      return false;\n    }\n\n    // compare lengths - can save a lot of time\n    if (arr1.length !== arr2.length) {\n      return false;\n    }\n\n    for (let i = 0, l = arr1.length; i < l; i++) {\n      // Check if we have nested arrays\n      if (arr1[i] instanceof Array && arr2[i] instanceof Array) {\n        // recurse into the nested arrays\n        if (!arr1[i].equals(arr2[i])) {\n          return false;\n        }\n      } else if (arr1[i] !== arr2[i]) {\n        // Warning - two different object instances will never be equal: {x:20} != {x:20}\n        return false;\n      }\n    }\n    return true;\n  }\n\n  static deleteContext(obj): void {\n    const keyCount = Object.keys(obj).length;\n    if (keyCount === 2 && Object.hasOwn(obj, JsonSchema.atId) && Object.hasOwn(obj, JsonSchema.rdfsLabel)) {\n      // do nothing, it is a controlled term\n    } else if (keyCount === 1 && Object.hasOwn(obj, JsonSchema.atId)) {\n      // do nothing, it is a link\n    } else {\n      Object.keys(obj).forEach((key) => {\n        delete obj[JsonSchema.atContext];\n        delete obj[JsonSchema.atId];\n        delete obj[JsonSchema.oslcModifiedBy];\n        delete obj[JsonSchema.pavCreatedOn];\n        delete obj[JsonSchema.pavLastUpdatedOn];\n        delete obj[JsonSchema.pavCreatedBy];\n        delete obj[JsonSchema.schemaIsBasedOn];\n        delete obj[JsonSchema.schemaName];\n        delete obj[JsonSchema.schemaDescription];\n        if (typeof obj[key] === 'object' && obj[key] !== null) {\n          DataObjectUtil.deleteContext(obj[key]);\n        }\n      });\n    }\n  }\n\n  static getIriPrefix(): string {\n    return CedarEmbeddableMetadataEditorComponent.iriPrefix;\n  }\n}\n","import { TranslateLoader } from '@ngx-translate/core';\nimport { HttpClient } from '@angular/common/http';\nimport { MessageHandlerService } from '../service/message-handler.service';\nimport { FallbackTranslateLoader } from './fallback-translate-loader';\nimport { GlobalSettingsContextService } from '../service/global-settings-context.service';\n\nexport function FallbackTranslateLoaderFactory(\n  http: HttpClient,\n  messageHandlerService: MessageHandlerService,\n  globalSettingsContextService: GlobalSettingsContextService,\n  fallback: any,\n): TranslateLoader {\n  return new FallbackTranslateLoader(http, messageHandlerService, globalSettingsContextService, fallback);\n}\n","import { TranslateLoader } from '@ngx-translate/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable, of } from 'rxjs';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { catchError, tap } from 'rxjs/operators';\nimport { MessageHandlerService } from '../service/message-handler.service';\nimport { Injectable } from '@angular/core';\nimport { GlobalSettingsContextService } from '../service/global-settings-context.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class FallbackTranslateLoader implements TranslateLoader {\n  constructor(\n    private http: HttpClient,\n    private messageHandlerService: MessageHandlerService,\n    private globalSettingsContextService: GlobalSettingsContextService,\n    private fallback: object,\n  ) {}\n\n  getTranslation(lang: string): Observable<any> {\n    const languageMapPathPrefix = this.globalSettingsContextService.languageMapPathPrefix;\n\n    if (languageMapPathPrefix != null) {\n      this.messageHandlerService.traceGroup(\n        'language',\n        'Loading language map from config path: \"' + languageMapPathPrefix + '\"',\n      );\n      this.messageHandlerService.traceGroup('language', 'Loading language map: \"' + lang + '\"');\n      const httpLoader = new TranslateHttpLoader(this.http, languageMapPathPrefix);\n      return httpLoader.getTranslation(lang).pipe(\n        tap({\n          next: () => {\n            this.messageHandlerService.traceGroup('language', 'External language map loaded.');\n          },\n        }),\n        catchError(() => {\n          this.messageHandlerService.traceGroup('language', 'External language map not found, using built-in version.');\n          return this.getBuiltInVersion(lang);\n        }),\n      );\n    } else {\n      this.messageHandlerService.traceGroup(\n        'language',\n        '\"languageMapPathPrefix\" not set, using built-in language map.',\n      );\n      return this.getBuiltInVersion(lang);\n    }\n  }\n\n  getBuiltInVersion(lang: string): Observable<any> {\n    if (Object.hasOwn(this.fallback, lang)) {\n      this.messageHandlerService.traceGroup('language', 'Using built-in language map for \"' + lang + '\"');\n      return of(this.fallback[lang]);\n    } else {\n      const defaultLanguage = GlobalSettingsContextService.DEFAULT_LANGUAGE;\n      this.messageHandlerService.traceGroup(\n        'language',\n        'No built-in language map for \"' +\n          lang +\n          '\", using default built-in language map for \"' +\n          defaultLanguage +\n          '\"',\n      );\n      return of(this.fallback[defaultLanguage]);\n    }\n  }\n}\n","import { MultiComponent } from '../models/component/multi-component.model';\nimport { DataContext } from './data-context';\nimport { MultiInstanceObjectHandler } from '../handler/multi-instance-object.handler';\nimport { DataObjectBuilderHandler } from '../handler/data-object-builder.handler';\nimport { FieldComponent } from '../models/component/field-component.model';\nimport { DataObjectDataValueHandler } from '../handler/data-object-data-value.handler';\nimport { DataObjectStructureHandler } from '../handler/data-object-structure.handler';\nimport { MessageHandlerService } from '../service/message-handler.service';\nimport { DataQualityReportBuilderHandler } from '../handler/data-quality-report-builder.handler';\nimport { InstanceExtractData } from '../models/instance-extract-data.model';\n\nexport class HandlerContext {\n  readonly dataObjectBuilderService: DataObjectBuilderHandler = null;\n  readonly multiInstanceObjectService: MultiInstanceObjectHandler = null;\n  readonly dataObjectManipulationService: DataObjectStructureHandler = null;\n  readonly dataObjectDataValueHandler: DataObjectDataValueHandler = null;\n  readonly dataQualityReportBuilderService: DataQualityReportBuilderHandler;\n  readonly dataContext: DataContext = null;\n  readonly messageHandlerService: MessageHandlerService = null;\n\n  readOnlyMode: boolean = false;\n  hideEmptyFields: boolean = false;\n\n  public constructor(dataContext: DataContext, messageHandlerService: MessageHandlerService) {\n    this.dataObjectBuilderService = new DataObjectBuilderHandler();\n    this.multiInstanceObjectService = new MultiInstanceObjectHandler();\n    this.dataObjectBuilderService.injectMultiInstanceService(this.multiInstanceObjectService);\n    this.dataObjectManipulationService = new DataObjectStructureHandler();\n    this.dataObjectDataValueHandler = new DataObjectDataValueHandler(messageHandlerService);\n    this.dataQualityReportBuilderService = new DataQualityReportBuilderHandler();\n    this.dataContext = dataContext;\n    this.messageHandlerService = messageHandlerService;\n  }\n\n  addMultiInstance(component: MultiComponent): void {\n    this.dataObjectManipulationService.multiInstanceItemAdd(\n      this.dataContext,\n      component,\n      this.multiInstanceObjectService,\n      this.messageHandlerService,\n    );\n    this.multiInstanceObjectService.multiInstanceItemAdd(component);\n    this.buildQualityReport();\n  }\n\n  copyMultiInstance(component: MultiComponent): void {\n    const multiInfo = this.multiInstanceObjectService.getMultiInstanceInfoForComponent(component);\n\n    // nothing to copy from, create new\n    if (multiInfo.currentIndex < 0) {\n      this.addMultiInstance(component);\n    } else {\n      this.dataObjectManipulationService.multiInstanceItemCopy(\n        this.dataContext,\n        component,\n        this.multiInstanceObjectService,\n      );\n      this.multiInstanceObjectService.multiInstanceItemCopy(component);\n    }\n    this.buildQualityReport();\n  }\n\n  deleteMultiInstance(component: MultiComponent): void {\n    this.dataObjectManipulationService.multiInstanceItemDelete(\n      this.dataContext,\n      component,\n      this.multiInstanceObjectService,\n    );\n    this.multiInstanceObjectService.multiInstanceItemDelete(component);\n    this.buildQualityReport();\n  }\n\n  getDataObjectNodeByPath(path: string[]): InstanceExtractData {\n    return this.dataObjectManipulationService.getDataPathNodeRecursively(\n      this.dataContext.instanceExtractData,\n      this.dataContext.templateRepresentation,\n      path,\n      this.multiInstanceObjectService,\n    );\n  }\n\n  getParentDataObjectNodeByPath(path: string[]): InstanceExtractData {\n    return this.dataObjectManipulationService.getParentDataPathNodeRecursively(\n      this.dataContext.instanceExtractData,\n      null,\n      this.dataContext.templateRepresentation,\n      path,\n      this.multiInstanceObjectService,\n    );\n  }\n\n  setCurrentIndex(component: MultiComponent, idx: number): void {\n    this.multiInstanceObjectService.setCurrentIndex(component, idx);\n  }\n\n  changeValue(component: FieldComponent, value: string): void {\n    this.dataObjectDataValueHandler.changeValue(this.dataContext, component, this.multiInstanceObjectService, value);\n    this.buildQualityReport();\n  }\n\n  changeListValue(component: FieldComponent, value: string[]): void {\n    this.dataObjectDataValueHandler.changeListValue(\n      this.dataContext,\n      component,\n      this.multiInstanceObjectService,\n      value,\n    );\n    this.buildQualityReport();\n  }\n\n  changeAttributeValue(component: FieldComponent, key: string, value: string): void {\n    this.dataObjectDataValueHandler.changeAttributeValue(\n      this.dataContext,\n      component,\n      this.multiInstanceObjectService,\n      key,\n      value,\n    );\n    this.buildQualityReport();\n  }\n\n  deleteAttributeValue(component: FieldComponent, key: string): void {\n    this.dataObjectDataValueHandler.deleteAttributeValue(\n      this.dataContext,\n      component,\n      this.multiInstanceObjectService,\n      key,\n    );\n    this.buildQualityReport();\n  }\n\n  changeControlledValue(component: FieldComponent, atId: string, prefLabel: string): void {\n    this.dataObjectDataValueHandler.changeControlledValue(\n      this.dataContext,\n      component,\n      this.multiInstanceObjectService,\n      atId,\n      prefLabel,\n    );\n    this.buildQualityReport();\n  }\n\n  buildQualityReport() {\n    this.dataContext.dataQualityReport = this.dataQualityReportBuilderService.buildReport(this.dataContext, this);\n  }\n  enableReadOnlyMode() {\n    this.readOnlyMode = true;\n  }\n  enableEmptyFieldHiding() {\n    this.hideEmptyFields = true;\n  }\n}\n","import { CedarModel } from '../models/cedar-model.model';\nimport { InputType } from '../models/input-type.model';\n\nexport class TemplateObjectUtil {\n  static hasControlledInfo(dataNode: object): boolean {\n    if (TemplateObjectUtil.hasValueConstraints(dataNode)) {\n      const vc: object = dataNode[CedarModel.valueConstraints];\n      const hasOntologies = Object.hasOwn(vc, CedarModel.ontologies) && vc[CedarModel.ontologies].length > 0;\n      const hasValueSets = Object.hasOwn(vc, CedarModel.valueSets) && vc[CedarModel.valueSets].length > 0;\n      const hasClasses = Object.hasOwn(vc, CedarModel.classes) && vc[CedarModel.classes].length > 0;\n      const hasBranches = Object.hasOwn(vc, CedarModel.branches) && vc[CedarModel.branches].length > 0;\n      return hasOntologies || hasValueSets || hasClasses || hasBranches;\n    }\n    return false;\n  }\n\n  static hasValueConstraints(dataNode: object): boolean {\n    return dataNode != null && Object.hasOwn(dataNode, CedarModel.valueConstraints);\n  }\n\n  static isLInk(dataNode: object): boolean {\n    if (Object.hasOwn(dataNode, CedarModel.ui)) {\n      const ui = dataNode[CedarModel.ui];\n      if (Object.hasOwn(ui, CedarModel.inputType)) {\n        const inputType = ui[CedarModel.inputType];\n        if (inputType === InputType.link) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { environment } from './environments/environment';\nimport { AppModuleProd } from './app/app.module.prod';\nimport { AppModuleDev } from './app/app.module.dev';\n\ndeclare global {\n  interface Window {\n    WebComponents: {\n      ready: boolean;\n    };\n  }\n}\n\n// needed for jsonld js library\n// (window as any).global = window;\n\nif (environment.production) {\n  enableProdMode();\n}\n\nif (environment.production) {\n  platformBrowserDynamic()\n    .bootstrapModule(AppModuleProd)\n    .catch((err) => console.error(err));\n} else {\n  platformBrowserDynamic()\n    .bootstrapModule(AppModuleDev)\n    .catch((err) => console.error(err));\n}\n","var map = {\n\t\"./af\": 58685,\n\t\"./af.js\": 58685,\n\t\"./ar\": 254,\n\t\"./ar-dz\": 4312,\n\t\"./ar-dz.js\": 4312,\n\t\"./ar-kw\": 32614,\n\t\"./ar-kw.js\": 32614,\n\t\"./ar-ly\": 18630,\n\t\"./ar-ly.js\": 18630,\n\t\"./ar-ma\": 28674,\n\t\"./ar-ma.js\": 28674,\n\t\"./ar-sa\": 49032,\n\t\"./ar-sa.js\": 49032,\n\t\"./ar-tn\": 24730,\n\t\"./ar-tn.js\": 24730,\n\t\"./ar.js\": 254,\n\t\"./az\": 53052,\n\t\"./az.js\": 53052,\n\t\"./be\": 60150,\n\t\"./be.js\": 60150,\n\t\"./bg\": 63069,\n\t\"./bg.js\": 63069,\n\t\"./bm\": 13466,\n\t\"./bm.js\": 13466,\n\t\"./bn\": 18516,\n\t\"./bn-bd\": 90557,\n\t\"./bn-bd.js\": 90557,\n\t\"./bn.js\": 18516,\n\t\"./bo\": 26273,\n\t\"./bo.js\": 26273,\n\t\"./br\": 9588,\n\t\"./br.js\": 9588,\n\t\"./bs\": 19815,\n\t\"./bs.js\": 19815,\n\t\"./ca\": 83331,\n\t\"./ca.js\": 83331,\n\t\"./cs\": 21320,\n\t\"./cs.js\": 21320,\n\t\"./cv\": 72219,\n\t\"./cv.js\": 72219,\n\t\"./cy\": 68266,\n\t\"./cy.js\": 68266,\n\t\"./da\": 66427,\n\t\"./da.js\": 66427,\n\t\"./de\": 67435,\n\t\"./de-at\": 52871,\n\t\"./de-at.js\": 52871,\n\t\"./de-ch\": 12994,\n\t\"./de-ch.js\": 12994,\n\t\"./de.js\": 67435,\n\t\"./dv\": 82357,\n\t\"./dv.js\": 82357,\n\t\"./el\": 95649,\n\t\"./el.js\": 95649,\n\t\"./en-au\": 59961,\n\t\"./en-au.js\": 59961,\n\t\"./en-ca\": 10860,\n\t\"./en-ca.js\": 10860,\n\t\"./en-gb\": 3924,\n\t\"./en-gb.js\": 3924,\n\t\"./en-ie\": 70864,\n\t\"./en-ie.js\": 70864,\n\t\"./en-il\": 91579,\n\t\"./en-il.js\": 91579,\n\t\"./en-in\": 30940,\n\t\"./en-in.js\": 30940,\n\t\"./en-nz\": 16181,\n\t\"./en-nz.js\": 16181,\n\t\"./en-sg\": 44301,\n\t\"./en-sg.js\": 44301,\n\t\"./eo\": 85291,\n\t\"./eo.js\": 85291,\n\t\"./es\": 54529,\n\t\"./es-do\": 53764,\n\t\"./es-do.js\": 53764,\n\t\"./es-mx\": 12584,\n\t\"./es-mx.js\": 12584,\n\t\"./es-us\": 63425,\n\t\"./es-us.js\": 63425,\n\t\"./es.js\": 54529,\n\t\"./et\": 35203,\n\t\"./et.js\": 35203,\n\t\"./eu\": 70678,\n\t\"./eu.js\": 70678,\n\t\"./fa\": 83483,\n\t\"./fa.js\": 83483,\n\t\"./fi\": 96262,\n\t\"./fi.js\": 96262,\n\t\"./fil\": 52521,\n\t\"./fil.js\": 52521,\n\t\"./fo\": 34555,\n\t\"./fo.js\": 34555,\n\t\"./fr\": 63131,\n\t\"./fr-ca\": 88239,\n\t\"./fr-ca.js\": 88239,\n\t\"./fr-ch\": 21702,\n\t\"./fr-ch.js\": 21702,\n\t\"./fr.js\": 63131,\n\t\"./fy\": 267,\n\t\"./fy.js\": 267,\n\t\"./ga\": 23821,\n\t\"./ga.js\": 23821,\n\t\"./gd\": 71753,\n\t\"./gd.js\": 71753,\n\t\"./gl\": 4074,\n\t\"./gl.js\": 4074,\n\t\"./gom-deva\": 92762,\n\t\"./gom-deva.js\": 92762,\n\t\"./gom-latn\": 5969,\n\t\"./gom-latn.js\": 5969,\n\t\"./gu\": 82809,\n\t\"./gu.js\": 82809,\n\t\"./he\": 45402,\n\t\"./he.js\": 45402,\n\t\"./hi\": 315,\n\t\"./hi.js\": 315,\n\t\"./hr\": 10410,\n\t\"./hr.js\": 10410,\n\t\"./hu\": 38288,\n\t\"./hu.js\": 38288,\n\t\"./hy-am\": 67928,\n\t\"./hy-am.js\": 67928,\n\t\"./id\": 71334,\n\t\"./id.js\": 71334,\n\t\"./is\": 86959,\n\t\"./is.js\": 86959,\n\t\"./it\": 34864,\n\t\"./it-ch\": 51124,\n\t\"./it-ch.js\": 51124,\n\t\"./it.js\": 34864,\n\t\"./ja\": 36141,\n\t\"./ja.js\": 36141,\n\t\"./jv\": 29187,\n\t\"./jv.js\": 29187,\n\t\"./ka\": 42136,\n\t\"./ka.js\": 42136,\n\t\"./kk\": 94332,\n\t\"./kk.js\": 94332,\n\t\"./km\": 18607,\n\t\"./km.js\": 18607,\n\t\"./kn\": 84305,\n\t\"./kn.js\": 84305,\n\t\"./ko\": 70234,\n\t\"./ko.js\": 70234,\n\t\"./ku\": 16003,\n\t\"./ku.js\": 16003,\n\t\"./ky\": 75061,\n\t\"./ky.js\": 75061,\n\t\"./lb\": 32786,\n\t\"./lb.js\": 32786,\n\t\"./lo\": 66183,\n\t\"./lo.js\": 66183,\n\t\"./lt\": 50029,\n\t\"./lt.js\": 50029,\n\t\"./lv\": 24169,\n\t\"./lv.js\": 24169,\n\t\"./me\": 68577,\n\t\"./me.js\": 68577,\n\t\"./mi\": 68177,\n\t\"./mi.js\": 68177,\n\t\"./mk\": 50337,\n\t\"./mk.js\": 50337,\n\t\"./ml\": 65260,\n\t\"./ml.js\": 65260,\n\t\"./mn\": 52325,\n\t\"./mn.js\": 52325,\n\t\"./mr\": 14695,\n\t\"./mr.js\": 14695,\n\t\"./ms\": 75334,\n\t\"./ms-my\": 37151,\n\t\"./ms-my.js\": 37151,\n\t\"./ms.js\": 75334,\n\t\"./mt\": 63570,\n\t\"./mt.js\": 63570,\n\t\"./my\": 97963,\n\t\"./my.js\": 97963,\n\t\"./nb\": 88028,\n\t\"./nb.js\": 88028,\n\t\"./ne\": 86638,\n\t\"./ne.js\": 86638,\n\t\"./nl\": 50302,\n\t\"./nl-be\": 66782,\n\t\"./nl-be.js\": 66782,\n\t\"./nl.js\": 50302,\n\t\"./nn\": 33501,\n\t\"./nn.js\": 33501,\n\t\"./oc-lnc\": 50563,\n\t\"./oc-lnc.js\": 50563,\n\t\"./pa-in\": 50869,\n\t\"./pa-in.js\": 50869,\n\t\"./pl\": 65302,\n\t\"./pl.js\": 65302,\n\t\"./pt\": 49687,\n\t\"./pt-br\": 74884,\n\t\"./pt-br.js\": 74884,\n\t\"./pt.js\": 49687,\n\t\"./ro\": 79107,\n\t\"./ro.js\": 79107,\n\t\"./ru\": 33627,\n\t\"./ru.js\": 33627,\n\t\"./sd\": 30355,\n\t\"./sd.js\": 30355,\n\t\"./se\": 83427,\n\t\"./se.js\": 83427,\n\t\"./si\": 11848,\n\t\"./si.js\": 11848,\n\t\"./sk\": 54590,\n\t\"./sk.js\": 54590,\n\t\"./sl\": 20184,\n\t\"./sl.js\": 20184,\n\t\"./sq\": 56361,\n\t\"./sq.js\": 56361,\n\t\"./sr\": 78965,\n\t\"./sr-cyrl\": 81287,\n\t\"./sr-cyrl.js\": 81287,\n\t\"./sr.js\": 78965,\n\t\"./ss\": 25456,\n\t\"./ss.js\": 25456,\n\t\"./sv\": 70451,\n\t\"./sv.js\": 70451,\n\t\"./sw\": 77558,\n\t\"./sw.js\": 77558,\n\t\"./ta\": 51356,\n\t\"./ta.js\": 51356,\n\t\"./te\": 73693,\n\t\"./te.js\": 73693,\n\t\"./tet\": 21243,\n\t\"./tet.js\": 21243,\n\t\"./tg\": 42500,\n\t\"./tg.js\": 42500,\n\t\"./th\": 55768,\n\t\"./th.js\": 55768,\n\t\"./tk\": 77761,\n\t\"./tk.js\": 77761,\n\t\"./tl-ph\": 35780,\n\t\"./tl-ph.js\": 35780,\n\t\"./tlh\": 29590,\n\t\"./tlh.js\": 29590,\n\t\"./tr\": 33807,\n\t\"./tr.js\": 33807,\n\t\"./tzl\": 93857,\n\t\"./tzl.js\": 93857,\n\t\"./tzm\": 60654,\n\t\"./tzm-latn\": 8806,\n\t\"./tzm-latn.js\": 8806,\n\t\"./tzm.js\": 60654,\n\t\"./ug-cn\": 30845,\n\t\"./ug-cn.js\": 30845,\n\t\"./uk\": 19232,\n\t\"./uk.js\": 19232,\n\t\"./ur\": 47052,\n\t\"./ur.js\": 47052,\n\t\"./uz\": 77967,\n\t\"./uz-latn\": 32233,\n\t\"./uz-latn.js\": 32233,\n\t\"./uz.js\": 77967,\n\t\"./vi\": 98615,\n\t\"./vi.js\": 98615,\n\t\"./x-pseudo\": 12320,\n\t\"./x-pseudo.js\": 12320,\n\t\"./yo\": 31313,\n\t\"./yo.js\": 31313,\n\t\"./zh-cn\": 64490,\n\t\"./zh-cn.js\": 64490,\n\t\"./zh-hk\": 55910,\n\t\"./zh-hk.js\": 55910,\n\t\"./zh-mo\": 98262,\n\t\"./zh-mo.js\": 98262,\n\t\"./zh-tw\": 44223,\n\t\"./zh-tw.js\": 44223\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46700;"],"names":["Component","Input","ViewEncapsulation","NullTemplate","PageBreakPaginatorService","ActiveComponentRegistryService","DataObjectUtil","MessageHandlerService","CedarEmbeddableMetadataEditorComponent","activeComponentRegistry","messageHandlerService","INNER_VERSION","SHOW_TEMPLATE_RENDERING","SHOW_MULTI_INSTANCE","SHOW_TEMPLATE_SOURCE","SHOW_INSTANCE_CORE","SHOW_INSTANCE_FULL","SHOW_DATA_QUALITY_REPORT","SHOW_SAMPLE_TEMPLATE_LINKS","SHOW_HEADER","SHOW_FOOTER","EXPANDED_TEMPLATE_RENDERING","EXPANDED_MULTI_INSTANCE","EXPANDED_TEMPLATE_SOURCE","EXPANDED_INSTANCE_CORE","EXPANDED_INSTANCE_FULL","EXPANDED_DATA_QUALITY_REPORT","EXPANDED_SAMPLE_TEMPLATE_LINKS","COLLAPSE_STATIC_COMPONENTS","SHOW_ALL_MULTI_INSTANCE_VALUES","SHOW_STATIC_TEXT","TEMPLATE_LOCATION_PREFIX","LOAD_SAMPLE_TEMPLATE_NAME","TERMINOLOGY_INTEGRATED_SEARCH_URL","SHOW_SPINNER_BEFORE_INIT","FALLBACK_LANGUAGE","DEFAULT_LANGUAGE","LANGUAGE_MAP_PATH_PREFIX","SHOW_TEMPLATE_DESCRIPTION","READ_ONLY_MODE","HIDE_EMPTY_FIELDS","IRI_PREFIX","BIO_PORTAL_PREFIX","ORCID_PREFIX","ROR_PREFIX","dataContext","handlerContext","pageBreakPaginatorService","sampleTemplateLoaderObject","showTemplateRenderingRepresentation","showMultiInstanceInfo","showTemplateSourceData","showInstanceDataCore","showInstanceDataFull","showDataQualityReport","showSampleTemplateLinks","showStaticText","showHeader","showFooter","expandedTemplateRenderingRepresentation","expandedMultiInstanceInfo","expandedTemplateSourceData","expandedInstanceDataCore","expandedInstanceDataFull","expandedDataQualityReport","expandedSampleTemplateLinks","collapseStaticComponents","showAllMultiInstanceValues","showTemplateDescription","readOnlyMode","iriPrefix","bioPortalPrefix","orcidPrefix","rorPrefix","initDataFromInstanceQueue","Promise","resolve","allExpanded","constructor","trace","ngOnInit","dataContextObject","handlerContextObject","config","value","Object","hasOwn","templateJsonObject","hideEmptyFields","setInputTemplate","setTimeout","initDataFromInstance","instanceFullData","then","catch","instanceJsonObject","templateAndInstanceObject","templateAndInstance","templateObject","instanceObject","error","setDataContextWithInstance","initDataWithDataContext","buildQualityReport","renderInstance","instance","multiInstanceObjectService","multiInstanceData","buildNewOrFromMetadata","templateRepresentation","instanceExtractData","JSON","parse","stringify","deleteContext","finally","children","childComponent","updateViewToModel","dataAvailableForRender","openAll","closeAll","launchMetadataCenter","window","open","selector","template","encapsulation","None"],"sourceRoot":"webpack:///","x_google_ignoreList":[99]}